{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//CONEXION A LA BASE DE DATOS\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrl = \"mongodb://127.0.0.1:27017/ecommerce_udemy\";\n_mongoose.default.connect(dbUrl, {\n  //useNewUrlParser: true, \n  //useUnifiedTopology: true\n}).then(mongoose => console.log('CONECTADO A LA BASE DE DATOS EN EL PUERTO 27017')).catch(err => console.log('ERRO AL CONECTASE A AL BASE', err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)()); //configurar los cors \napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log('EL SERVIDOR SE EJECUTO CORRECTAMENTE EN EL PUERTO 3000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRiVXJsIiwiY29ubmVjdCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJvdXRlciIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gXCIuL3JvdXRlclwiXHJcblxyXG4vL0NPTkVYSU9OIEEgTEEgQkFTRSBERSBEQVRPU1xyXG5cclxubW9uZ29vc2UuUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xyXG5jb25zdCBkYlVybCA9IFwibW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9lY29tbWVyY2VfdWRlbXlcIjtcclxubW9uZ29vc2UuY29ubmVjdChcclxuICAgIGRiVXJsICxcclxuICAgIHtcclxuICAgICAgICAvL3VzZU5ld1VybFBhcnNlcjogdHJ1ZSwgXHJcbiAgICAgICAgLy91c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcclxuICAgIH1cclxuKS50aGVuKG1vbmdvb3NlID0+IGNvbnNvbGUubG9nKCdDT05FQ1RBRE8gQSBMQSBCQVNFIERFIERBVE9TIEVOIEVMIFBVRVJUTyAyNzAxNycpKVxyXG4uY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKCAnRVJSTyBBTCBDT05FQ1RBU0UgQSBBTCBCQVNFJyAsZXJyKSlcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxyXG5hcHAudXNlKGNvcnMoKSkgLy9jb25maWd1cmFyIGxvcyBjb3JzIFxyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKVxyXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6dHJ1ZX0pKVxyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSlcclxuYXBwLnVzZSgnL2FwaS8nLCByb3V0ZXIpXHJcblxyXG5hcHAuc2V0KCdwb3J0Jyxwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xyXG5hcHAubGlzdGVuKGFwcC5nZXQoJ3BvcnQnKSwgKCkgPT4ge2NvbnNvbGUubG9nKCdFTCBTRVJWSURPUiBTRSBFSkVDVVRPIENPUlJFQ1RBTUVOVEUgRU4gRUwgUFVFUlRPIDMwMDAnKTt9KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBNkIsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFN0I7O0FBRUFHLGlCQUFRLENBQUNDLE9BQU8sR0FBR0MsTUFBTSxDQUFDRCxPQUFPO0FBQ2pDLE1BQU1FLEtBQUssR0FBRywyQ0FBMkM7QUFDekRILGlCQUFRLENBQUNJLE9BQU8sQ0FDWkQsS0FBSyxFQUNMO0VBQ0k7RUFDQTtBQUFBLENBRVIsQ0FBQyxDQUFDRSxJQUFJLENBQUNMLFFBQVEsSUFBSU0sT0FBTyxDQUFDQyxHQUFHLENBQUMsaURBQWlELENBQUMsQ0FBQyxDQUNqRkMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLDZCQUE2QixFQUFFRSxHQUFHLENBQUMsQ0FBQztBQUUvRCxNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDLEVBQUM7QUFDaEJILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLFFBQVEsRUFBQztBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzVDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRVMsZUFBTSxDQUFDO0FBRXhCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBQ3hDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUFDckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsd0RBQXdELENBQUM7QUFBQyxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","obj","__esModule","default","mongoose","Promise","global","dbUrl","connect","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\","sources":["index.js"],"sourcesContent":["import express from \"express\";\r\nimport cors from 'cors';\r\nimport path from 'path';\r\nimport mongoose from \"mongoose\";\r\nimport router from \"./router\"\r\n\r\n//CONEXION A LA BASE DE DATOS\r\n\r\nmongoose.Promise = global.Promise;\r\nconst dbUrl = \"mongodb://127.0.0.1:27017/ecommerce_udemy\";\r\nmongoose.connect(\r\n    dbUrl ,\r\n    {\r\n        //useNewUrlParser: true, \r\n        //useUnifiedTopology: true\r\n    }\r\n).then(mongoose => console.log('CONECTADO A LA BASE DE DATOS EN EL PUERTO 27017'))\r\n.catch(err => console.log( 'ERRO AL CONECTASE A AL BASE' ,err))\r\n\r\nconst app = express()\r\napp.use(cors()) //configurar los cors \r\napp.use(express.json())\r\napp.use(express.urlencoded({extended:true}))\r\napp.use(express.static(path.join(__dirname,'public')))\r\napp.use('/api/', router)\r\n\r\napp.set('port',process.env.PORT || 3000);\r\napp.listen(app.get('port'), () => {console.log('EL SERVIDOR SE EJECUTO CORRECTAMENTE EN EL PUERTO 3000');})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B;;AAEAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,2CAA2C;AACzDH,iBAAQ,CAACI,OAAO,CACZD,KAAK,EACL;EACI;EACA;AAAA,CAER,CAAC,CAACE,IAAI,CAACL,QAAQ,IAAIM,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAC,CAAC,CACjFC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAAE,6BAA6B,EAAEE,GAAG,CAAC,CAAC;AAE/D,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC,EAAC;AAChBH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,QAAQ,EAAC;AAAI,CAAC,CAAC,CAAC;AAC5CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACxCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAACrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AAAC,CAAC,CAAC","ignoreList":[]}},"mtime":1715376269864},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//CONEXION A LA BASE DE DATOS\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrl = \"mongodb://127.0.0.1:27017/ecommerce_udemy\";\n_mongoose.default.connect(dbUrl, {\n  //useNewUrlParser: true, \n  //useUnifiedTopology: true\n}).then(mongoose => console.log('CONECTADO A LA BASE DE DATOS EN EL PUERTO 27017')).catch(err => console.log('ERRO AL CONECTASE A AL BASE', err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)()); //configurar los cors \napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log('EL SERVIDOR SE EJECUTO CORRECTAMENTE EN EL PUERTO 3000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRiVXJsIiwiY29ubmVjdCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJvdXRlciIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgcm91dGVyIGZyb20gXCIuL3JvdXRlclwiXHJcblxyXG4vL0NPTkVYSU9OIEEgTEEgQkFTRSBERSBEQVRPU1xyXG5cclxubW9uZ29vc2UuUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xyXG5jb25zdCBkYlVybCA9IFwibW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9lY29tbWVyY2VfdWRlbXlcIjtcclxubW9uZ29vc2UuY29ubmVjdChcclxuICAgIGRiVXJsICxcclxuICAgIHtcclxuICAgICAgICAvL3VzZU5ld1VybFBhcnNlcjogdHJ1ZSwgXHJcbiAgICAgICAgLy91c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcclxuICAgIH1cclxuKS50aGVuKG1vbmdvb3NlID0+IGNvbnNvbGUubG9nKCdDT05FQ1RBRE8gQSBMQSBCQVNFIERFIERBVE9TIEVOIEVMIFBVRVJUTyAyNzAxNycpKVxyXG4uY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKCAnRVJSTyBBTCBDT05FQ1RBU0UgQSBBTCBCQVNFJyAsZXJyKSlcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxyXG5hcHAudXNlKGNvcnMoKSkgLy9jb25maWd1cmFyIGxvcyBjb3JzIFxyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKVxyXG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6dHJ1ZX0pKVxyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSlcclxuYXBwLnVzZSgnL2FwaS8nLCByb3V0ZXIpXHJcblxyXG5hcHAuc2V0KCdwb3J0Jyxwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xyXG5hcHAubGlzdGVuKGFwcC5nZXQoJ3BvcnQnKSwgKCkgPT4ge2NvbnNvbGUubG9nKCdFTCBTRVJWSURPUiBTRSBFSkVDVVRPIENPUlJFQ1RBTUVOVEUgRU4gRUwgUFVFUlRPIDMwMDAnKTt9KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBNkIsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFN0I7O0FBRUFHLGlCQUFRLENBQUNDLE9BQU8sR0FBR0MsTUFBTSxDQUFDRCxPQUFPO0FBQ2pDLE1BQU1FLEtBQUssR0FBRywyQ0FBMkM7QUFDekRILGlCQUFRLENBQUNJLE9BQU8sQ0FDWkQsS0FBSyxFQUNMO0VBQ0k7RUFDQTtBQUFBLENBRVIsQ0FBQyxDQUFDRSxJQUFJLENBQUNMLFFBQVEsSUFBSU0sT0FBTyxDQUFDQyxHQUFHLENBQUMsaURBQWlELENBQUMsQ0FBQyxDQUNqRkMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLDZCQUE2QixFQUFFRSxHQUFHLENBQUMsQ0FBQztBQUUvRCxNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDLEVBQUM7QUFDaEJILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLFFBQVEsRUFBQztBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzVDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRVMsZUFBTSxDQUFDO0FBRXhCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBQ3hDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUFDckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsd0RBQXdELENBQUM7QUFBQyxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","obj","__esModule","default","mongoose","Promise","global","dbUrl","connect","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\","sources":["index.js"],"sourcesContent":["import express from \"express\";\r\nimport cors from 'cors';\r\nimport path from 'path';\r\nimport mongoose from \"mongoose\";\r\nimport router from \"./router\"\r\n\r\n//CONEXION A LA BASE DE DATOS\r\n\r\nmongoose.Promise = global.Promise;\r\nconst dbUrl = \"mongodb://127.0.0.1:27017/ecommerce_udemy\";\r\nmongoose.connect(\r\n    dbUrl ,\r\n    {\r\n        //useNewUrlParser: true, \r\n        //useUnifiedTopology: true\r\n    }\r\n).then(mongoose => console.log('CONECTADO A LA BASE DE DATOS EN EL PUERTO 27017'))\r\n.catch(err => console.log( 'ERRO AL CONECTASE A AL BASE' ,err))\r\n\r\nconst app = express()\r\napp.use(cors()) //configurar los cors \r\napp.use(express.json())\r\napp.use(express.urlencoded({extended:true}))\r\napp.use(express.static(path.join(__dirname,'public')))\r\napp.use('/api/', router)\r\n\r\napp.set('port',process.env.PORT || 3000);\r\napp.listen(app.get('port'), () => {console.log('EL SERVIDOR SE EJECUTO CORRECTAMENTE EN EL PUERTO 3000');})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B;;AAEAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,2CAA2C;AACzDH,iBAAQ,CAACI,OAAO,CACZD,KAAK,EACL;EACI;EACA;AAAA,CAER,CAAC,CAACE,IAAI,CAACL,QAAQ,IAAIM,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAC,CAAC,CACjFC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAAE,6BAA6B,EAAEE,GAAG,CAAC,CAAC;AAE/D,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC,EAAC;AAChBH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,QAAQ,EAAC;AAAI,CAAC,CAAC,CAAC;AAC5CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACxCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAACrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AAAC,CAAC,CAAC","ignoreList":[]}},"mtime":1715376269864},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbnJvdXRlci51c2UoICcvdXNlcnMnLCBVc2VyKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV6QixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBRSxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBTixPQUFBLEdBRVpDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","obj","__esModule","default","router","routerx","use","User","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport User from \"./User\"\r\n\r\nconst router = routerx();\r\nrouter.use( '/users', User)\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEzB,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAE,QAAQ,EAAEC,aAAI,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEZC,MAAM","ignoreList":[]}},"mtime":1715363399079},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/user/\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJsaXN0IiwicmVnaXN0ZXJfYWRtaW4iLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgIHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5cclxuLy9odHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXIvXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIHVzZXJDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sdXNlckNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsdXNlckNvbnRyb2xsZXIubG9naW4pXHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luX2FkbWluXCIsdXNlckNvbnRyb2xsZXIubG9naW5fYWRtaW4pXHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsdXNlckNvbnRyb2xsZXIucmVtb3ZlKVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNqREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFFRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDNUNOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUN4RFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNNLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTix1QkFBYyxDQUFDUSxjQUFjLENBQUM7QUFDN0VYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWxCLE9BQUEsR0FHL0JDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","userController","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["User.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport userController from '../controllers/UserController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\n//http://localhost:3000/api/user/\r\n\r\nrouter.post(\"/register\", userController.register);\r\nrouter.put(\"/update\", userController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,userController.list);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,userController.register_admin);\r\nrouter.post(\"/login\",userController.login)\r\nrouter.post(\"/login_admin\",userController.login_admin)\r\nrouter.delete(\"/delete\",userController.remove)\r\n\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAAEF,uBAAc,CAACG,MAAM,CAAC;AAC5CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACO,IAAI,CAAC;AACxDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACQ,cAAc,CAAC;AAC7EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAG/BC,MAAM","ignoreList":[]}},"mtime":1715726937494},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n        console.log(error);\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA \n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTEND: USER_FRONTEND\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO ÉXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO ÉXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA \n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTEND: USER_FRONTEND\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO ÉXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO ÉXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.file.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let userT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE A MODIFICADO CORRECTAMENTE \",\n        user: _resources.default.User.user_list(userT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          'name': new RegExp(search, \"i\")\n        }, {\n          'surname': new RegExp(search, \"i\")\n        }, {\n          'email': new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const USer = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE \"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJ5Y3J5cHQiLCJoYXNoIiwidXNlciIsIm1vZGVscyIsIlVzZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJyZWdpc3Rlcl9hZG1pbiIsInVzZXJWIiwiZmluZE9uZSIsImVtYWlsIiwicm9sIiwicmVzb3VyY2VzIiwidXNlcl9saXN0IiwibG9naW4iLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsIlVTRVJfRlJPTlRFTkQiLCJuYW1lIiwic3VybmFtZSIsImF2YXRhciIsImxvZ2luX2FkbWluIiwidXBkYXRlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImZpbGUiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwidXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJVU2VyIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBieWNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbic7XHJcbmltcG9ydCByZXNvdXJjZXMgZnJvbSAnLi9yZXNvdXJjZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYnljcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlZ2lzdGVyX2FkbWluOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyViA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwgfSlcclxuICAgICAgICAgICAgaWYgKHVzZXJWKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBZQSBFWElTVEVcIiB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIjtcclxuICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBieWNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIDEwKTtcclxuICAgICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsb2dpbjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOiAxIH0pXHJcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAvL1NJIEVTVEEgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BIFxyXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBieWNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLCB1c2VyLnJvbCwgdXNlci5lbWFpbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFTkQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBVU0VSX0ZST05URU5EOiBVU0VSX0ZST05URU5EIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyDDiVhJU1RFXCIgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gw4lYSVNURVwiIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICBsb2dpbl9hZG1pbjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOiAxLCByb2w6IFwiYWRtaW5cIiB9KVxyXG4gICAgICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQSBcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYnljcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URU5EID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5ULFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2w6IHVzZXIucm9sLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBVU0VSX0ZST05URU5EOiBVU0VSX0ZST05URU5EIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyDDiVhJU1RFXCIgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gw4lYSVNURVwiIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgdXBkYXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGUuYXZhdGFyLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXZhdGFyX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXZhdGFyX25hbWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYnljcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiByZXEuYm9keS5faWQgfSwgcmVxLmJvZHkpXHJcbiAgICAgICAgICAgIGxldCB1c2VyVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBfaWQ6IHJlcS5ib2R5Ll9pZCB9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFIFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyVClcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6IFtcclxuICAgICAgICAgICAgICAgICAgICB7ICduYW1lJzogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgJ3N1cm5hbWUnOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyAnZW1haWwnOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7ICdjcmVhdGVkQXQnOiAtMSB9KTtcclxuXHJcbiAgICAgICAgICAgIFVzZXJzID0gVXNlcnMubWFwKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcnM6IFVzZXJzIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICByZW1vdmU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFVTZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZERlbGV0ZSh7IF9pZDogcmVxLnF1ZXJ5Ll9pZCB9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFIFwiIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxH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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resources","obj","__esModule","default","_default","exports","register","req","res","body","password","bycrypt","hash","user","models","User","create","status","json","error","send","message","console","log","register_admin","userV","findOne","email","rol","resources","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTEND","name","surname","avatar","login_admin","update","files","img_path","file","path","split","avatar_name","findByIdAndUpdate","userT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","USer","findByIdAndDelete"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["UserController.js"],"sourcesContent":["import bycrypt from 'bcryptjs'\r\nimport models from '../models';\r\nimport token from '../services/token';\r\nimport resources from './resources';\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            req.body.password = await bycrypt.hash(req.body.password, 10);\r\n            const user = await models.User.create(req.body)\r\n            res.status(200).json(user);\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    register_admin: async (req, res) => {\r\n        try {\r\n            const userV = await models.User.findOne({ email: req.body.email })\r\n            if (userV) {\r\n                res.status(500).send({ message: \"EL USUARIO YA EXISTE\" });\r\n                console.log(error)\r\n            }\r\n            req.body.rol = \"admin\";\r\n            req.body.password = await bycrypt.hash(req.body.password, 10);\r\n            let user = await models.User.create(req.body)\r\n            res.status(200).json({\r\n                user: resources.User.user_list(user)\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    login: async (req, res) => {\r\n        try {\r\n            const user = await models.User.findOne({ email: req.body.email, state: 1 })\r\n            if (user) {\r\n                //SI ESTA REGISTRADO EN EL SISTEMA \r\n                let compare = await bycrypt.compare(req.body.password, user.password);\r\n                if (compare) {\r\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\r\n\r\n                    const USER_FRONTEND = {\r\n                        token: tokenT,\r\n                        user: {\r\n                            _id: user._id,\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({ USER_FRONTEND: USER_FRONTEND })\r\n\r\n                } else {\r\n                    res.status(500).send({ message: \"EL USUARIO NO ÉXISTE\" });\r\n                }\r\n\r\n            } else {\r\n                res.status(500).send({ message: \"EL USUARIO NO ÉXISTE\" });\r\n            }\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n    login_admin: async (req, res) => {\r\n        try {\r\n            const user = await models.User.findOne({ email: req.body.email, state: 1, rol: \"admin\" })\r\n            if (user) {\r\n                //SI ESTA REGISTRADO EN EL SISTEMA \r\n                let compare = await bycrypt.compare(req.body.password, user.password);\r\n                if (compare) {\r\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\r\n\r\n                    const USER_FRONTEND = {\r\n                        token: tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                            rol: user.rol,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({ USER_FRONTEND: USER_FRONTEND })\r\n\r\n                } else {\r\n                    res.status(500).send({ message: \"EL USUARIO NO ÉXISTE\" });\r\n                }\r\n\r\n            } else {\r\n                res.status(500).send({ message: \"EL USUARIO NO ÉXISTE\" });\r\n            }\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n\r\n            if (req.files) {\r\n                var img_path = req.file.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name);\r\n            }\r\n\r\n            if (req.body.password) {\r\n                req.body.password = await bycrypt.hash(req.body.password, 10);\r\n            }\r\n\r\n            await models.User.findByIdAndUpdate({ _id: req.body._id }, req.body)\r\n            let userT = await models.User.findOne({ _id: req.body._id });\r\n            res.status(200).json(\r\n                {\r\n                    message: \"EL USUARIO SE A MODIFICADO CORRECTAMENTE \",\r\n                    user: resources.User.user_list(userT)\r\n                })\r\n\r\n        } catch (error) {\r\n\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Users = await models.User.find({\r\n                $or: [\r\n                    { 'name': new RegExp(search, \"i\") },\r\n                    { 'surname': new RegExp(search, \"i\") },\r\n                    { 'email': new RegExp(search, \"i\") }\r\n                ]\r\n            }).sort({ 'createdAt': -1 });\r\n\r\n            Users = Users.map(user => {\r\n                return resources.User.user_list(user);\r\n            })\r\n\r\n            res.status(200).json({ users: Users });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    remove: async (req, res) => {\r\n        try {\r\n            const USer = await models.User.findByIdAndDelete({ _id: req.query._id });\r\n            res.status(200).json({ message: \"EL USUARIO SE ELIMINO CORRECTAMENTE \" })\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1751765561244},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _categorie = _interopRequireDefault(require(\"./categorie\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleAddress: _SaleAddress.default,\n  SaleDetail: _SaleDetail.default,\n  Review: _Review.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ3Vwb25lIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfUHJvZHVjdCIsIl9TbGlkZXIiLCJfVXNlciIsIl9WYXJpZWRhZCIsIl9jYXRlZ29yaWUiLCJfRGlzY291bnQiLCJfQ2FydCIsIl9BZGRyZXNzQ2xpZW50IiwiX1NhbGUiLCJfU2FsZUFkZHJlc3MiLCJfU2FsZURldGFpbCIsIl9SZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIlVzZXIiLCJDYXRlZ29yaWUiLCJQcm9kdWN0IiwiVmFyaWVkYWQiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkNhcnQiLCJBZGRyZXNzQ2xpZW50IiwiU2FsZSIsIlNhbGVBZGRyZXNzIiwiU2FsZURldGFpbCIsIlJldmlldyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDdXBvbmUgZnJvbSAnLi9DdXBvbmUnXHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4vUHJvZHVjdCdcclxuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJ1xyXG5pbXBvcnQgVmFyaWVkYWQgZnJvbSAnLi9WYXJpZWRhZCdcclxuaW1wb3J0IENhdGVnb3JpZSBmcm9tICcuL2NhdGVnb3JpZSdcclxuaW1wb3J0IERpc2NvdW50IGZyb20gJy4vRGlzY291bnQnXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuaW1wb3J0IEFkZHJlc3NDbGllbnQgZnJvbSAnLi9BZGRyZXNzQ2xpZW50J1xyXG5pbXBvcnQgU2FsZSBmcm9tICcuL1NhbGUnXHJcbmltcG9ydCBTYWxlQWRkcmVzcyBmcm9tICcuL1NhbGVBZGRyZXNzJ1xyXG5pbXBvcnQgU2FsZURldGFpbCBmcm9tICcuL1NhbGVEZXRhaWwnXHJcbmltcG9ydCBSZXZpZXcgZnJvbSAnLi9SZXZpZXcnXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFVzZXIsXHJcbiAgICBDYXRlZ29yaWUsXHJcbiAgICBQcm9kdWN0LFxyXG4gICAgVmFyaWVkYWQsXHJcbiAgICBTbGlkZXIsXHJcbiAgICBDdXBvbmUsXHJcbiAgICBEaXNjb3VudCxcclxuICAgIENhcnQsXHJcbiAgICBBZGRyZXNzQ2xpZW50LFxyXG4gICAgU2FsZSxcclxuICAgIFNhbGVBZGRyZXNzLFxyXG4gICAgU2FsZURldGFpbCxcclxuICAgIFJldmlldyxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsT0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksU0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssVUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsY0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsS0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsWUFBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsV0FBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVksT0FBQSxHQUFBYixzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBYyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FJZDtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkEsaUJBQVE7RUFDUkMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxRQUFRLEVBQVJBLGlCQUFRO0VBQ1JDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxhQUFhLEVBQWJBLHNCQUFhO0VBQ2JDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxXQUFXLEVBQVhBLG9CQUFXO0VBQ1hDLFVBQVUsRUFBVkEsbUJBQVU7RUFDVkMsTUFBTSxFQUFOQTtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_Cupone","_interopRequireDefault","require","_Product","_Slider","_User","_Variedad","_categorie","_Discount","_Cart","_AddressClient","_Sale","_SaleAddress","_SaleDetail","_Review","obj","__esModule","default","_default","exports","User","Categorie","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleAddress","SaleDetail","Review"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["index.js"],"sourcesContent":["import Cupone from './Cupone'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport User from './User'\r\nimport Variedad from './Variedad'\r\nimport Categorie from './categorie'\r\nimport Discount from './Discount'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\nimport Sale from './Sale'\r\nimport SaleAddress from './SaleAddress'\r\nimport SaleDetail from './SaleDetail'\r\nimport Review from './Review'\r\n\r\n\r\n\r\nexport default {\r\n    User,\r\n    Categorie,\r\n    Product,\r\n    Variedad,\r\n    Slider,\r\n    Cupone,\r\n    Discount,\r\n    Cart,\r\n    AddressClient,\r\n    Sale,\r\n    SaleAddress,\r\n    SaleDetail,\r\n    Review,\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,SAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,UAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,cAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,KAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,YAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,WAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,OAAA,GAAAb,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAc,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAId;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,WAAW,EAAXA,oBAAW;EACXC,UAAU,EAAVA,mBAAU;EACVC,MAAM,EAANA;AACJ,CAAC","ignoreList":[]}},"mtime":1751765561269},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    require: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    require: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es desactivado\n  phone: {\n    type: String,\n    maxlength: 20,\n    require: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlICwge1NjaGVtYX0gZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICByb2w6eyB0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjMwLCByZXF1aXJlOnRydWUgfSxcclxuICAgIG5hbWU6eyB0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlIH0sXHJcbiAgICBzdXJuYW1lOnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2UgfSxcclxuICAgIGVtYWlsOnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6dHJ1ZSwgdW5pcXVlOnRydWUgfSxcclxuICAgIHBhc3N3b3JkOnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgYXZhdGFyOnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2UgfSxcclxuICAgIHN0YXRlOnsgdHlwZTpOdW1iZXIsIGRlZmF1bHQ6MSB9LC8vMSBlcyBhY3Rpdm8geSAyIGVzIGRlc2FjdGl2YWRvXHJcbiAgICBwaG9uZTp7IHR5cGU6U3RyaW5nLCBtYXhsZW5ndGg6MjAsIHJlcXVpcmU6ZmFsc2UgfSxcclxuICAgIGJpcnRoZGF5OnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZTpmYWxzZSB9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59XHJcbik7XHJcblxyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsVXNlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFMUMsTUFBTVcsVUFBVSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDMUJDLEdBQUcsRUFBQztJQUFFQyxJQUFJLEVBQUNDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEVBQUU7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDL0MyQixJQUFJLEVBQUM7SUFBRUgsSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ2pENEIsT0FBTyxFQUFDO0lBQUVKLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQU0sQ0FBQztFQUNyRDZCLEtBQUssRUFBQztJQUFFTCxJQUFJLEVBQUNDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBRTFCLE9BQU8sRUFBQyxJQUFJO0lBQUU4QixNQUFNLEVBQUM7RUFBSyxDQUFDO0VBQy9EQyxRQUFRLEVBQUM7SUFBRVAsSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ3JEZ0MsTUFBTSxFQUFDO0lBQUVSLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQU0sQ0FBQztFQUNwRGlDLEtBQUssRUFBQztJQUFFVCxJQUFJLEVBQUNVLE1BQU07SUFBRTNCLE9BQU8sRUFBQztFQUFFLENBQUM7RUFBQztFQUNqQzRCLEtBQUssRUFBQztJQUFFWCxJQUFJLEVBQUNDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEVBQUU7SUFBRTFCLE9BQU8sRUFBQztFQUFNLENBQUM7RUFDbERvQyxRQUFRLEVBQUM7SUFBRVosSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxFQUFFO0lBQUUxQixPQUFPLEVBQUM7RUFBTTtBQUN4RCxDQUFDLEVBQUM7RUFDRXFDLFVBQVUsRUFBQztBQUNmLENBQ0EsQ0FBQztBQUVELE1BQU1DLElBQUksR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sRUFBQ25CLFVBQVUsQ0FBQztBQUFDLElBQUFvQixRQUFBLEdBQUFDLE9BQUEsQ0FBQW5DLE9BQUEsR0FDaEMrQixJQUFJIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["User.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst UserSchema = new Schema({\r\n    rol:{ type:String, maxlength:30, require:true },\r\n    name:{ type:String, maxlength:250, require:true },\r\n    surname:{ type:String, maxlength:250, require:false },\r\n    email:{ type:String, maxlength:250, require:true, unique:true },\r\n    password:{ type:String, maxlength:250, require:true },\r\n    avatar:{ type:String, maxlength:250, require:false },\r\n    state:{ type:Number, default:1 },//1 es activo y 2 es desactivado\r\n    phone:{ type:String, maxlength:20, require:false },\r\n    birthday:{ type:String, maxlength:20, require:false },\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst User = mongoose.model(\"user\",UserSchema);\r\nexport default User;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAAEC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAK,CAAC;EAC/C2B,IAAI,EAAC;IAAEH,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACjD4B,OAAO,EAAC;IAAEJ,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAM,CAAC;EACrD6B,KAAK,EAAC;IAAEL,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC,IAAI;IAAE8B,MAAM,EAAC;EAAK,CAAC;EAC/DC,QAAQ,EAAC;IAAEP,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACrDgC,MAAM,EAAC;IAAER,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAM,CAAC;EACpDiC,KAAK,EAAC;IAAET,IAAI,EAACU,MAAM;IAAE3B,OAAO,EAAC;EAAE,CAAC;EAAC;EACjC4B,KAAK,EAAC;IAAEX,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAM,CAAC;EAClDoC,QAAQ,EAAC;IAAEZ,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAM;AACxD,CAAC,EAAC;EACEqC,UAAU,EAAC;AACf,CACA,CAAC;AAED,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAChC+B,IAAI","ignoreList":[]}},"mtime":1714840979356},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\services\\\\token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, \"ecommerce_udemy\", {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, \"ecommerce_udemy\");\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log('Error', error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGVuY29kZTogYXN5bmMoX2lkLHJvbCxlbWFpbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZDpfaWQscm9sOnJvbCxlbWFpbDplbWFpbH0sXCJlY29tbWVyY2VfdWRlbXlcIix7ZXhwaXJlc0luOicxZCd9KTtcclxuICAgICAgICByZXR1cm4gdG9rZW5cclxuICAgIH0sXHJcblxyXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtfaWR9ID0gYXdhaXQgand0LnZlcmlmeSh0b2tlbixcImVjb21tZXJjZV91ZGVteVwiKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDpfaWQsc3RhdGU6MX0pO1xyXG4gICAgICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FHaEI7RUFDWEcsTUFBTSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxLQUFLLEtBQUs7SUFDNUIsTUFBTUMsS0FBSyxHQUFHQyxxQkFBRyxDQUFDQyxJQUFJLENBQUM7TUFBQ0wsR0FBRyxFQUFDQSxHQUFHO01BQUNDLEdBQUcsRUFBQ0EsR0FBRztNQUFDQyxLQUFLLEVBQUNBO0lBQUssQ0FBQyxFQUFDLGlCQUFpQixFQUFDO01BQUNJLFNBQVMsRUFBQztJQUFJLENBQUMsQ0FBQztJQUN4RixPQUFPSCxLQUFLO0VBQ2hCLENBQUM7RUFFREksTUFBTSxFQUFFLE1BQU1KLEtBQUssSUFBSztJQUNwQixJQUFJO01BQ0EsTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBQyxpQkFBaUIsQ0FBQztNQUN2RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFDQSxHQUFHO1FBQUNhLEtBQUssRUFBQztNQUFDLENBQUMsQ0FBQztNQUNuRCxJQUFJSixJQUFJLEVBQUU7UUFDTixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLEVBQUVGLEtBQUssQ0FBQztJQUMvQjtFQUNKO0FBR0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\services\\","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\nimport models from '../models';\r\n\r\n\r\nexport default {\r\n    encode: async(_id,rol,email) => {\r\n        const token = jwt.sign({_id:_id,rol:rol,email:email},\"ecommerce_udemy\",{expiresIn:'1d'});\r\n        return token\r\n    },\r\n\r\n    decode: async(token) => {\r\n        try {\r\n            const {_id} = await jwt.verify(token,\"ecommerce_udemy\");\r\n            const user = models.User.findOne({_id:_id,state:1});\r\n            if (user) {\r\n                return user;\r\n            }\r\n            return false;\r\n        } catch (error) {\r\n            console.log('Error', error);\r\n        }\r\n    }\r\n\r\n\r\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGhB;EACXG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAK;IAC5B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAACA,GAAG;MAACC,GAAG,EAACA,GAAG;MAACC,KAAK,EAACA;IAAK,CAAC,EAAC,iBAAiB,EAAC;MAACI,SAAS,EAAC;IAAI,CAAC,CAAC;IACxF,OAAOH,KAAK;EAChB,CAAC;EAEDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAC,iBAAiB,CAAC;MACvD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAACA,GAAG;QAACa,KAAK,EAAC;MAAC,CAAC,CAAC;MACnD,IAAIJ,IAAI,EAAE;QACN,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;IAC/B;EACJ;AAGJ,CAAC","ignoreList":[]}},"mtime":1715378861006},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfSG9tZSIsIl9DYXJ0IiwiX0FkZHJlc3NDbGllbnQiLCJfU2FsZSIsIl9SZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJ1c2UiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlNsaWRlciIsIkN1cG9uZSIsIkRpc2NvdW50IiwiSG9tZSIsIkNhcnQiLCJBZGRyZXNzQ2xpZW50IiwiU2FsZSIsIlJldmlldyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiXHJcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXHJcbmltcG9ydCBQcm9kdWN0IGZyb20gXCIuL1Byb2R1Y3RcIjtcclxuaW1wb3J0IFNsaWRlciBmcm9tIFwiLi9TbGlkZXJcIjtcclxuaW1wb3J0IEN1cG9uZSBmcm9tIFwiLi9DdXBvbmVcIjtcclxuaW1wb3J0IERpc2NvdW50IGZyb20gXCIuL0Rpc2NvdW50XCI7XHJcbmltcG9ydCBIb21lIGZyb20gXCIuL0hvbWVcIjtcclxuaW1wb3J0IENhcnQgZnJvbSBcIi4vQ2FydFwiO1xyXG5pbXBvcnQgQWRkcmVzc0NsaWVudCBmcm9tIFwiLi9BZGRyZXNzQ2xpZW50XCI7XHJcbmltcG9ydCBTYWxlIGZyb20gXCIuL1NhbGVcIjtcclxuaW1wb3J0IFJldmlldyBmcm9tIFwiLi9SZXZpZXdcIjtcclxuXHJcblxyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5yb3V0ZXIudXNlKCAnL3VzZXJzJywgVXNlcilcclxucm91dGVyLnVzZSggJy9jYXRlZ29yaWVzJywgQ2F0ZWdvcmllKVxyXG5yb3V0ZXIudXNlKCAnL3Byb2R1Y3RzJywgUHJvZHVjdClcclxucm91dGVyLnVzZSggJy9zbGlkZXJzJywgU2xpZGVyKVxyXG5yb3V0ZXIudXNlKCAnL2N1cG9uZXMnLCBDdXBvbmUpXHJcbnJvdXRlci51c2UoICcvZGlzY291bnQnLCBEaXNjb3VudClcclxucm91dGVyLnVzZSggJy9ob21lJywgSG9tZSlcclxucm91dGVyLnVzZSggJy9jYXJ0JywgQ2FydClcclxucm91dGVyLnVzZSgnL2FkZHJlc3NfY2xpZW50JyxBZGRyZXNzQ2xpZW50KVxyXG5yb3V0ZXIudXNlKCcvc2FsZScsU2FsZSlcclxucm91dGVyLnVzZSgnL3JldmlldycsUmV2aWV3KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLE9BQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFNBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLEtBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLEtBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLGNBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLEtBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLE9BQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQWEsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUk5QixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBRSxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUMzQkgsTUFBTSxDQUFDRSxHQUFHLENBQUUsYUFBYSxFQUFFRSxrQkFBUyxDQUFDO0FBQ3JDSixNQUFNLENBQUNFLEdBQUcsQ0FBRSxXQUFXLEVBQUVHLGdCQUFPLENBQUM7QUFDakNMLE1BQU0sQ0FBQ0UsR0FBRyxDQUFFLFVBQVUsRUFBRUksZUFBTSxDQUFDO0FBQy9CTixNQUFNLENBQUNFLEdBQUcsQ0FBRSxVQUFVLEVBQUVLLGVBQU0sQ0FBQztBQUMvQlAsTUFBTSxDQUFDRSxHQUFHLENBQUUsV0FBVyxFQUFFTSxpQkFBUSxDQUFDO0FBQ2xDUixNQUFNLENBQUNFLEdBQUcsQ0FBRSxPQUFPLEVBQUVPLGFBQUksQ0FBQztBQUMxQlQsTUFBTSxDQUFDRSxHQUFHLENBQUUsT0FBTyxFQUFFUSxhQUFJLENBQUM7QUFDMUJWLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDUyxzQkFBYSxDQUFDO0FBQzNDWCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUNVLGFBQUksQ0FBQztBQUN4QlosTUFBTSxDQUFDRSxHQUFHLENBQUMsU0FBUyxFQUFDVyxlQUFNLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FFYkMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","_Slider","_Cupone","_Discount","_Home","_Cart","_AddressClient","_Sale","_Review","obj","__esModule","default","router","routerx","use","User","Categorie","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport User from \"./User\"\r\nimport Categorie from './Categorie'\r\nimport Product from \"./Product\";\r\nimport Slider from \"./Slider\";\r\nimport Cupone from \"./Cupone\";\r\nimport Discount from \"./Discount\";\r\nimport Home from \"./Home\";\r\nimport Cart from \"./Cart\";\r\nimport AddressClient from \"./AddressClient\";\r\nimport Sale from \"./Sale\";\r\nimport Review from \"./Review\";\r\n\r\n\r\n\r\nconst router = routerx();\r\nrouter.use( '/users', User)\r\nrouter.use( '/categories', Categorie)\r\nrouter.use( '/products', Product)\r\nrouter.use( '/sliders', Slider)\r\nrouter.use( '/cupones', Cupone)\r\nrouter.use( '/discount', Discount)\r\nrouter.use( '/home', Home)\r\nrouter.use( '/cart', Cart)\r\nrouter.use('/address_client',AddressClient)\r\nrouter.use('/sale',Sale)\r\nrouter.use('/review',Review)\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,cAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,OAAA,GAAAZ,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAa,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAI9B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAE,QAAQ,EAAEC,aAAI,CAAC;AAC3BH,MAAM,CAACE,GAAG,CAAE,aAAa,EAAEE,kBAAS,CAAC;AACrCJ,MAAM,CAACE,GAAG,CAAE,WAAW,EAAEG,gBAAO,CAAC;AACjCL,MAAM,CAACE,GAAG,CAAE,UAAU,EAAEI,eAAM,CAAC;AAC/BN,MAAM,CAACE,GAAG,CAAE,UAAU,EAAEK,eAAM,CAAC;AAC/BP,MAAM,CAACE,GAAG,CAAE,WAAW,EAAEM,iBAAQ,CAAC;AAClCR,MAAM,CAACE,GAAG,CAAE,OAAO,EAAEO,aAAI,CAAC;AAC1BT,MAAM,CAACE,GAAG,CAAE,OAAO,EAAEQ,aAAI,CAAC;AAC1BV,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACS,sBAAa,CAAC;AAC3CX,MAAM,CAACE,GAAG,CAAC,OAAO,EAACU,aAAI,CAAC;AACxBZ,MAAM,CAACE,GAAG,CAAC,SAAS,EAACW,eAAM,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEbC,MAAM","ignoreList":[]}},"mtime":1751765561300},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/user/\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJsaXN0IiwicmVnaXN0ZXJfYWRtaW4iLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgIHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5cclxuLy9odHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXIvXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIHVzZXJDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sdXNlckNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsdXNlckNvbnRyb2xsZXIubG9naW4pXHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luX2FkbWluXCIsdXNlckNvbnRyb2xsZXIubG9naW5fYWRtaW4pXHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsdXNlckNvbnRyb2xsZXIucmVtb3ZlKVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNqREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFFRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDNUNOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUN4RFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNNLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTix1QkFBYyxDQUFDUSxjQUFjLENBQUM7QUFDN0VYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWxCLE9BQUEsR0FHL0JDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","userController","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["User.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport userController from '../controllers/UserController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\n//http://localhost:3000/api/user/\r\n\r\nrouter.post(\"/register\", userController.register);\r\nrouter.put(\"/update\", userController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,userController.list);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,userController.register_admin);\r\nrouter.post(\"/login\",userController.login)\r\nrouter.post(\"/login_admin\",userController.login_admin)\r\nrouter.delete(\"/delete\",userController.remove)\r\n\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAAEF,uBAAc,CAACG,MAAM,CAAC;AAC5CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACO,IAAI,CAAC;AACxDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAACN,uBAAc,CAACQ,cAAc,CAAC;AAC7EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAG/BC,MAAM","ignoreList":[]}},"mtime":1715726937494},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n        console.log(error);\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA \n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTEND: USER_FRONTEND\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO ÉXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO ÉXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA \n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTEND: USER_FRONTEND\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO ÉXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO ÉXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.file.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let userT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE A MODIFICADO CORRECTAMENTE \",\n        user: _resources.default.User.user_list(userT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          'name': new RegExp(search, \"i\")\n        }, {\n          'surname': new RegExp(search, \"i\")\n        }, {\n          'email': new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const USer = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE \"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJ5Y3J5cHQiLCJoYXNoIiwidXNlciIsIm1vZGVscyIsIlVzZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJyZWdpc3Rlcl9hZG1pbiIsInVzZXJWIiwiZmluZE9uZSIsImVtYWlsIiwicm9sIiwicmVzb3VyY2VzIiwidXNlcl9saXN0IiwibG9naW4iLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsIlVTRVJfRlJPTlRFTkQiLCJuYW1lIiwic3VybmFtZSIsImF2YXRhciIsImxvZ2luX2FkbWluIiwidXBkYXRlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImZpbGUiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwidXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJVU2VyIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBieWNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbic7XHJcbmltcG9ydCByZXNvdXJjZXMgZnJvbSAnLi9yZXNvdXJjZXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYnljcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlZ2lzdGVyX2FkbWluOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyViA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwgfSlcclxuICAgICAgICAgICAgaWYgKHVzZXJWKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBZQSBFWElTVEVcIiB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIjtcclxuICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBieWNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIDEwKTtcclxuICAgICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsb2dpbjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOiAxIH0pXHJcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAvL1NJIEVTVEEgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BIFxyXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBieWNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLCB1c2VyLnJvbCwgdXNlci5lbWFpbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFTkQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBVU0VSX0ZST05URU5EOiBVU0VSX0ZST05URU5EIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyDDiVhJU1RFXCIgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gw4lYSVNURVwiIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICBsb2dpbl9hZG1pbjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOiAxLCByb2w6IFwiYWRtaW5cIiB9KVxyXG4gICAgICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQSBcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYnljcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URU5EID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5ULFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2w6IHVzZXIucm9sLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBVU0VSX0ZST05URU5EOiBVU0VSX0ZST05URU5EIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyDDiVhJU1RFXCIgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gw4lYSVNURVwiIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgdXBkYXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGUuYXZhdGFyLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXZhdGFyX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXZhdGFyX25hbWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYnljcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiByZXEuYm9keS5faWQgfSwgcmVxLmJvZHkpXHJcbiAgICAgICAgICAgIGxldCB1c2VyVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBfaWQ6IHJlcS5ib2R5Ll9pZCB9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFIFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyVClcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6IFtcclxuICAgICAgICAgICAgICAgICAgICB7ICduYW1lJzogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgJ3N1cm5hbWUnOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyAnZW1haWwnOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7ICdjcmVhdGVkQXQnOiAtMSB9KTtcclxuXHJcbiAgICAgICAgICAgIFVzZXJzID0gVXNlcnMubWFwKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcnM6IFVzZXJzIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICByZW1vdmU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFVTZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZERlbGV0ZSh7IF9pZDogcmVxLnF1ZXJ5Ll9pZCB9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFIFwiIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQW9DLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFckI7RUFDWEcsUUFBUSxFQUFFLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQzFCLElBQUk7TUFDQUQsR0FBRyxDQUFDRSxJQUFJLENBQUNDLFFBQVEsR0FBRyxNQUFNQyxpQkFBTyxDQUFDQyxJQUFJLENBQUNMLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDQyxRQUFRLEVBQUUsRUFBRSxDQUFDO01BQzdELE1BQU1HLElBQUksR0FBRyxNQUFNQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsTUFBTSxDQUFDVCxHQUFHLENBQUNFLElBQUksQ0FBQztNQUMvQ0QsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0wsSUFBSSxDQUFDO0lBQzlCLENBQUMsQ0FBQyxPQUFPTSxLQUFLLEVBQUU7TUFDWlgsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO01BQ3hEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUVESyxjQUFjLEVBQUUsTUFBQUEsQ0FBT2pCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ2hDLElBQUk7TUFDQSxNQUFNaUIsS0FBSyxHQUFHLE1BQU1YLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDVyxPQUFPLENBQUM7UUFBRUMsS0FBSyxFQUFFcEIsR0FBRyxDQUFDRSxJQUFJLENBQUNrQjtNQUFNLENBQUMsQ0FBQztNQUNsRSxJQUFJRixLQUFLLEVBQUU7UUFDUGpCLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7VUFBRUMsT0FBTyxFQUFFO1FBQXVCLENBQUMsQ0FBQztRQUN6REMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztNQUN0QjtNQUNBWixHQUFHLENBQUNFLElBQUksQ0FBQ21CLEdBQUcsR0FBRyxPQUFPO01BQ3RCckIsR0FBRyxDQUFDRSxJQUFJLENBQUNDLFFBQVEsR0FBRyxNQUFNQyxpQkFBTyxDQUFDQyxJQUFJLENBQUNMLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDQyxRQUFRLEVBQUUsRUFBRSxDQUFDO01BQzdELElBQUlHLElBQUksR0FBRyxNQUFNQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsTUFBTSxDQUFDVCxHQUFHLENBQUNFLElBQUksQ0FBQztNQUM3Q0QsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkwsSUFBSSxFQUFFZ0Isa0JBQVMsQ0FBQ2QsSUFBSSxDQUFDZSxTQUFTLENBQUNqQixJQUFJO01BQ3ZDLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPTSxLQUFLLEVBQUU7TUFDWlgsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO01BQ3hEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUVEWSxLQUFLLEVBQUUsTUFBQUEsQ0FBT3hCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ3ZCLElBQUk7TUFDQSxNQUFNSyxJQUFJLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxJQUFJLENBQUNXLE9BQU8sQ0FBQztRQUFFQyxLQUFLLEVBQUVwQixHQUFHLENBQUNFLElBQUksQ0FBQ2tCLEtBQUs7UUFBRUssS0FBSyxFQUFFO01BQUUsQ0FBQyxDQUFDO01BQzNFLElBQUluQixJQUFJLEVBQUU7UUFDTjtRQUNBLElBQUlvQixPQUFPLEdBQUcsTUFBTXRCLGlCQUFPLENBQUNzQixPQUFPLENBQUMxQixHQUFHLENBQUNFLElBQUksQ0FBQ0MsUUFBUSxFQUFFRyxJQUFJLENBQUNILFFBQVEsQ0FBQztRQUNyRSxJQUFJdUIsT0FBTyxFQUFFO1VBQ1QsSUFBSUMsTUFBTSxHQUFHLE1BQU1DLGNBQUssQ0FBQ0MsTUFBTSxDQUFDdkIsSUFBSSxDQUFDd0IsR0FBRyxFQUFFeEIsSUFBSSxDQUFDZSxHQUFHLEVBQUVmLElBQUksQ0FBQ2MsS0FBSyxDQUFDO1VBRS9ELE1BQU1XLGFBQWEsR0FBRztZQUNsQkgsS0FBSyxFQUFFRCxNQUFNO1lBQ2JyQixJQUFJLEVBQUU7Y0FDRndCLEdBQUcsRUFBRXhCLElBQUksQ0FBQ3dCLEdBQUc7Y0FDYkUsSUFBSSxFQUFFMUIsSUFBSSxDQUFDMEIsSUFBSTtjQUNmWixLQUFLLEVBQUVkLElBQUksQ0FBQ2MsS0FBSztjQUNqQmEsT0FBTyxFQUFFM0IsSUFBSSxDQUFDMkIsT0FBTztjQUNyQkMsTUFBTSxFQUFFNUIsSUFBSSxDQUFDNEI7WUFFakI7VUFDSixDQUFDO1VBRURqQyxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVvQixhQUFhLEVBQUVBO1VBQWMsQ0FBQyxDQUFDO1FBRTFELENBQUMsTUFBTTtVQUNIOUIsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztZQUFFQyxPQUFPLEVBQUU7VUFBdUIsQ0FBQyxDQUFDO1FBQzdEO01BRUosQ0FBQyxNQUFNO1FBQ0hiLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7VUFBRUMsT0FBTyxFQUFFO1FBQXVCLENBQUMsQ0FBQztNQUM3RDtJQUVKLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7TUFDWlgsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO01BQ3hEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUdEdUIsV0FBVyxFQUFFLE1BQUFBLENBQU9uQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUM3QixJQUFJO01BQ0EsTUFBTUssSUFBSSxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDVyxPQUFPLENBQUM7UUFBRUMsS0FBSyxFQUFFcEIsR0FBRyxDQUFDRSxJQUFJLENBQUNrQixLQUFLO1FBQUVLLEtBQUssRUFBRSxDQUFDO1FBQUVKLEdBQUcsRUFBRTtNQUFRLENBQUMsQ0FBQztNQUN6RixJQUFJZixJQUFJLEVBQUU7UUFDTjtRQUNBLElBQUlvQixPQUFPLEdBQUcsTUFBTXRCLGlCQUFPLENBQUNzQixPQUFPLENBQUMxQixHQUFHLENBQUNFLElBQUksQ0FBQ0MsUUFBUSxFQUFFRyxJQUFJLENBQUNILFFBQVEsQ0FBQztRQUNyRSxJQUFJdUIsT0FBTyxFQUFFO1VBQ1QsSUFBSUMsTUFBTSxHQUFHLE1BQU1DLGNBQUssQ0FBQ0MsTUFBTSxDQUFDdkIsSUFBSSxDQUFDd0IsR0FBRyxFQUFFeEIsSUFBSSxDQUFDZSxHQUFHLEVBQUVmLElBQUksQ0FBQ2MsS0FBSyxDQUFDO1VBRS9ELE1BQU1XLGFBQWEsR0FBRztZQUNsQkgsS0FBSyxFQUFFRCxNQUFNO1lBQ2JyQixJQUFJLEVBQUU7Y0FDRjBCLElBQUksRUFBRTFCLElBQUksQ0FBQzBCLElBQUk7Y0FDZlosS0FBSyxFQUFFZCxJQUFJLENBQUNjLEtBQUs7Y0FDakJhLE9BQU8sRUFBRTNCLElBQUksQ0FBQzJCLE9BQU87Y0FDckJDLE1BQU0sRUFBRTVCLElBQUksQ0FBQzRCLE1BQU07Y0FDbkJiLEdBQUcsRUFBRWYsSUFBSSxDQUFDZTtZQUNkO1VBQ0osQ0FBQztVQUVEcEIsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFFb0IsYUFBYSxFQUFFQTtVQUFjLENBQUMsQ0FBQztRQUUxRCxDQUFDLE1BQU07VUFDSDlCLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7WUFBRUMsT0FBTyxFQUFFO1VBQXVCLENBQUMsQ0FBQztRQUM3RDtNQUVKLENBQUMsTUFBTTtRQUNIYixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1VBQUVDLE9BQU8sRUFBRTtRQUF1QixDQUFDLENBQUM7TUFDN0Q7SUFFSixDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO01BQ1pYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFBRUMsT0FBTyxFQUFFO01BQXNCLENBQUMsQ0FBQztNQUN4REMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUN0QjtFQUNKLENBQUM7RUFJRHdCLE1BQU0sRUFBRSxNQUFBQSxDQUFPcEMsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUVBLElBQUlELEdBQUcsQ0FBQ3FDLEtBQUssRUFBRTtRQUNYLElBQUlDLFFBQVEsR0FBR3RDLEdBQUcsQ0FBQ3VDLElBQUksQ0FBQ0wsTUFBTSxDQUFDTSxJQUFJO1FBQ25DLElBQUlSLElBQUksR0FBR00sUUFBUSxDQUFDRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQy9CLElBQUlDLFdBQVcsR0FBR1YsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN6QmpCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDMEIsV0FBVyxDQUFDO01BQzVCO01BRUEsSUFBSTFDLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDQyxRQUFRLEVBQUU7UUFDbkJILEdBQUcsQ0FBQ0UsSUFBSSxDQUFDQyxRQUFRLEdBQUcsTUFBTUMsaUJBQU8sQ0FBQ0MsSUFBSSxDQUFDTCxHQUFHLENBQUNFLElBQUksQ0FBQ0MsUUFBUSxFQUFFLEVBQUUsQ0FBQztNQUNqRTtNQUVBLE1BQU1JLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDbUMsaUJBQWlCLENBQUM7UUFBRWIsR0FBRyxFQUFFOUIsR0FBRyxDQUFDRSxJQUFJLENBQUM0QjtNQUFJLENBQUMsRUFBRTlCLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDO01BQ3BFLElBQUkwQyxLQUFLLEdBQUcsTUFBTXJDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDVyxPQUFPLENBQUM7UUFBRVcsR0FBRyxFQUFFOUIsR0FBRyxDQUFDRSxJQUFJLENBQUM0QjtNQUFJLENBQUMsQ0FBQztNQUM1RDdCLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ2hCO1FBQ0lHLE9BQU8sRUFBRSwyQ0FBMkM7UUFDcERSLElBQUksRUFBRWdCLGtCQUFTLENBQUNkLElBQUksQ0FBQ2UsU0FBUyxDQUFDcUIsS0FBSztNQUN4QyxDQUFDLENBQUM7SUFFVixDQUFDLENBQUMsT0FBT2hDLEtBQUssRUFBRTtNQUVaWCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQUVDLE9BQU8sRUFBRTtNQUFzQixDQUFDLENBQUM7TUFDeERDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBRURpQyxJQUFJLEVBQUUsTUFBQUEsQ0FBTzdDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ3RCLElBQUk7TUFDQSxJQUFJNkMsTUFBTSxHQUFHOUMsR0FBRyxDQUFDK0MsS0FBSyxDQUFDRCxNQUFNO01BQzdCLElBQUlFLEtBQUssR0FBRyxNQUFNekMsZUFBTSxDQUFDQyxJQUFJLENBQUN5QyxJQUFJLENBQUM7UUFDL0JDLEdBQUcsRUFBRSxDQUNEO1VBQUUsTUFBTSxFQUFFLElBQUlDLE1BQU0sQ0FBQ0wsTUFBTSxFQUFFLEdBQUc7UUFBRSxDQUFDLEVBQ25DO1VBQUUsU0FBUyxFQUFFLElBQUlLLE1BQU0sQ0FBQ0wsTUFBTSxFQUFFLEdBQUc7UUFBRSxDQUFDLEVBQ3RDO1VBQUUsT0FBTyxFQUFFLElBQUlLLE1BQU0sQ0FBQ0wsTUFBTSxFQUFFLEdBQUc7UUFBRSxDQUFDO01BRTVDLENBQUMsQ0FBQyxDQUFDTSxJQUFJLENBQUM7UUFBRSxXQUFXLEVBQUUsQ0FBQztNQUFFLENBQUMsQ0FBQztNQUU1QkosS0FBSyxHQUFHQSxLQUFLLENBQUNLLEdBQUcsQ0FBQy9DLElBQUksSUFBSTtRQUN0QixPQUFPZ0Isa0JBQVMsQ0FBQ2QsSUFBSSxDQUFDZSxTQUFTLENBQUNqQixJQUFJLENBQUM7TUFDekMsQ0FBQyxDQUFDO01BRUZMLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRTJDLEtBQUssRUFBRU47TUFBTSxDQUFDLENBQUM7SUFFMUMsQ0FBQyxDQUFDLE9BQU9wQyxLQUFLLEVBQUU7TUFDWlgsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO01BQ3hEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUVEMkMsTUFBTSxFQUFFLE1BQUFBLENBQU92RCxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0EsTUFBTXVELElBQUksR0FBRyxNQUFNakQsZUFBTSxDQUFDQyxJQUFJLENBQUNpRCxpQkFBaUIsQ0FBQztRQUFFM0IsR0FBRyxFQUFFOUIsR0FBRyxDQUFDK0MsS0FBSyxDQUFDakI7TUFBSSxDQUFDLENBQUM7TUFDeEU3QixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVHLE9BQU8sRUFBRTtNQUF1QyxDQUFDLENBQUM7SUFDN0UsQ0FBQyxDQUFDLE9BQU9GLEtBQUssRUFBRTtNQUNaWCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQUVDLE9BQU8sRUFBRTtNQUFzQixDQUFDLENBQUM7TUFDeERDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSjtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resources","obj","__esModule","default","_default","exports","register","req","res","body","password","bycrypt","hash","user","models","User","create","status","json","error","send","message","console","log","register_admin","userV","findOne","email","rol","resources","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTEND","name","surname","avatar","login_admin","update","files","img_path","file","path","split","avatar_name","findByIdAndUpdate","userT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","USer","findByIdAndDelete"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["UserController.js"],"sourcesContent":["import bycrypt from 'bcryptjs'\r\nimport models from '../models';\r\nimport token from '../services/token';\r\nimport resources from './resources';\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            req.body.password = await bycrypt.hash(req.body.password, 10);\r\n            const user = await models.User.create(req.body)\r\n            res.status(200).json(user);\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    register_admin: async (req, res) => {\r\n        try {\r\n            const userV = await models.User.findOne({ email: req.body.email })\r\n            if (userV) {\r\n                res.status(500).send({ message: \"EL USUARIO YA EXISTE\" });\r\n                console.log(error)\r\n            }\r\n            req.body.rol = \"admin\";\r\n            req.body.password = await bycrypt.hash(req.body.password, 10);\r\n            let user = await models.User.create(req.body)\r\n            res.status(200).json({\r\n                user: resources.User.user_list(user)\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    login: async (req, res) => {\r\n        try {\r\n            const user = await models.User.findOne({ email: req.body.email, state: 1 })\r\n            if (user) {\r\n                //SI ESTA REGISTRADO EN EL SISTEMA \r\n                let compare = await bycrypt.compare(req.body.password, user.password);\r\n                if (compare) {\r\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\r\n\r\n                    const USER_FRONTEND = {\r\n                        token: tokenT,\r\n                        user: {\r\n                            _id: user._id,\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({ USER_FRONTEND: USER_FRONTEND })\r\n\r\n                } else {\r\n                    res.status(500).send({ message: \"EL USUARIO NO ÉXISTE\" });\r\n                }\r\n\r\n            } else {\r\n                res.status(500).send({ message: \"EL USUARIO NO ÉXISTE\" });\r\n            }\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n    login_admin: async (req, res) => {\r\n        try {\r\n            const user = await models.User.findOne({ email: req.body.email, state: 1, rol: \"admin\" })\r\n            if (user) {\r\n                //SI ESTA REGISTRADO EN EL SISTEMA \r\n                let compare = await bycrypt.compare(req.body.password, user.password);\r\n                if (compare) {\r\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\r\n\r\n                    const USER_FRONTEND = {\r\n                        token: tokenT,\r\n                        user: {\r\n                            name: user.name,\r\n                            email: user.email,\r\n                            surname: user.surname,\r\n                            avatar: user.avatar,\r\n                            rol: user.rol,\r\n                        },\r\n                    }\r\n\r\n                    res.status(200).json({ USER_FRONTEND: USER_FRONTEND })\r\n\r\n                } else {\r\n                    res.status(500).send({ message: \"EL USUARIO NO ÉXISTE\" });\r\n                }\r\n\r\n            } else {\r\n                res.status(500).send({ message: \"EL USUARIO NO ÉXISTE\" });\r\n            }\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n\r\n            if (req.files) {\r\n                var img_path = req.file.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name);\r\n            }\r\n\r\n            if (req.body.password) {\r\n                req.body.password = await bycrypt.hash(req.body.password, 10);\r\n            }\r\n\r\n            await models.User.findByIdAndUpdate({ _id: req.body._id }, req.body)\r\n            let userT = await models.User.findOne({ _id: req.body._id });\r\n            res.status(200).json(\r\n                {\r\n                    message: \"EL USUARIO SE A MODIFICADO CORRECTAMENTE \",\r\n                    user: resources.User.user_list(userT)\r\n                })\r\n\r\n        } catch (error) {\r\n\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Users = await models.User.find({\r\n                $or: [\r\n                    { 'name': new RegExp(search, \"i\") },\r\n                    { 'surname': new RegExp(search, \"i\") },\r\n                    { 'email': new RegExp(search, \"i\") }\r\n                ]\r\n            }).sort({ 'createdAt': -1 });\r\n\r\n            Users = Users.map(user => {\r\n                return resources.User.user_list(user);\r\n            })\r\n\r\n            res.status(200).json({ users: Users });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    remove: async (req, res) => {\r\n        try {\r\n            const USer = await models.User.findByIdAndDelete({ _id: req.query._id });\r\n            res.status(200).json({ message: \"EL USUARIO SE ELIMINO CORRECTAMENTE \" })\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1751765561244},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _categorie = _interopRequireDefault(require(\"./categorie\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleAddress: _SaleAddress.default,\n  SaleDetail: _SaleDetail.default,\n  Review: _Review.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ3Vwb25lIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfUHJvZHVjdCIsIl9TbGlkZXIiLCJfVXNlciIsIl9WYXJpZWRhZCIsIl9jYXRlZ29yaWUiLCJfRGlzY291bnQiLCJfQ2FydCIsIl9BZGRyZXNzQ2xpZW50IiwiX1NhbGUiLCJfU2FsZUFkZHJlc3MiLCJfU2FsZURldGFpbCIsIl9SZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIlVzZXIiLCJDYXRlZ29yaWUiLCJQcm9kdWN0IiwiVmFyaWVkYWQiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkNhcnQiLCJBZGRyZXNzQ2xpZW50IiwiU2FsZSIsIlNhbGVBZGRyZXNzIiwiU2FsZURldGFpbCIsIlJldmlldyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDdXBvbmUgZnJvbSAnLi9DdXBvbmUnXHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4vUHJvZHVjdCdcclxuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJ1xyXG5pbXBvcnQgVmFyaWVkYWQgZnJvbSAnLi9WYXJpZWRhZCdcclxuaW1wb3J0IENhdGVnb3JpZSBmcm9tICcuL2NhdGVnb3JpZSdcclxuaW1wb3J0IERpc2NvdW50IGZyb20gJy4vRGlzY291bnQnXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuaW1wb3J0IEFkZHJlc3NDbGllbnQgZnJvbSAnLi9BZGRyZXNzQ2xpZW50J1xyXG5pbXBvcnQgU2FsZSBmcm9tICcuL1NhbGUnXHJcbmltcG9ydCBTYWxlQWRkcmVzcyBmcm9tICcuL1NhbGVBZGRyZXNzJ1xyXG5pbXBvcnQgU2FsZURldGFpbCBmcm9tICcuL1NhbGVEZXRhaWwnXHJcbmltcG9ydCBSZXZpZXcgZnJvbSAnLi9SZXZpZXcnXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFVzZXIsXHJcbiAgICBDYXRlZ29yaWUsXHJcbiAgICBQcm9kdWN0LFxyXG4gICAgVmFyaWVkYWQsXHJcbiAgICBTbGlkZXIsXHJcbiAgICBDdXBvbmUsXHJcbiAgICBEaXNjb3VudCxcclxuICAgIENhcnQsXHJcbiAgICBBZGRyZXNzQ2xpZW50LFxyXG4gICAgU2FsZSxcclxuICAgIFNhbGVBZGRyZXNzLFxyXG4gICAgU2FsZURldGFpbCxcclxuICAgIFJldmlldyxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsT0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksU0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssVUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsY0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsS0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsWUFBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsV0FBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVksT0FBQSxHQUFBYixzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBYyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FJZDtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkEsaUJBQVE7RUFDUkMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxRQUFRLEVBQVJBLGlCQUFRO0VBQ1JDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxhQUFhLEVBQWJBLHNCQUFhO0VBQ2JDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxXQUFXLEVBQVhBLG9CQUFXO0VBQ1hDLFVBQVUsRUFBVkEsbUJBQVU7RUFDVkMsTUFBTSxFQUFOQTtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_Cupone","_interopRequireDefault","require","_Product","_Slider","_User","_Variedad","_categorie","_Discount","_Cart","_AddressClient","_Sale","_SaleAddress","_SaleDetail","_Review","obj","__esModule","default","_default","exports","User","Categorie","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleAddress","SaleDetail","Review"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["index.js"],"sourcesContent":["import Cupone from './Cupone'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport User from './User'\r\nimport Variedad from './Variedad'\r\nimport Categorie from './categorie'\r\nimport Discount from './Discount'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\nimport Sale from './Sale'\r\nimport SaleAddress from './SaleAddress'\r\nimport SaleDetail from './SaleDetail'\r\nimport Review from './Review'\r\n\r\n\r\n\r\nexport default {\r\n    User,\r\n    Categorie,\r\n    Product,\r\n    Variedad,\r\n    Slider,\r\n    Cupone,\r\n    Discount,\r\n    Cart,\r\n    AddressClient,\r\n    Sale,\r\n    SaleAddress,\r\n    SaleDetail,\r\n    Review,\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,SAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,UAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,cAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,KAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,YAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,WAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,OAAA,GAAAb,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAc,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAId;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,WAAW,EAAXA,oBAAW;EACXC,UAAU,EAAVA,mBAAU;EACVC,MAAM,EAANA;AACJ,CAAC","ignoreList":[]}},"mtime":1751765561269},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    require: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    require: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es desactivado\n  phone: {\n    type: String,\n    maxlength: 20,\n    require: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlICwge1NjaGVtYX0gZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICByb2w6eyB0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjMwLCByZXF1aXJlOnRydWUgfSxcclxuICAgIG5hbWU6eyB0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlIH0sXHJcbiAgICBzdXJuYW1lOnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2UgfSxcclxuICAgIGVtYWlsOnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6dHJ1ZSwgdW5pcXVlOnRydWUgfSxcclxuICAgIHBhc3N3b3JkOnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgYXZhdGFyOnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2UgfSxcclxuICAgIHN0YXRlOnsgdHlwZTpOdW1iZXIsIGRlZmF1bHQ6MSB9LC8vMSBlcyBhY3Rpdm8geSAyIGVzIGRlc2FjdGl2YWRvXHJcbiAgICBwaG9uZTp7IHR5cGU6U3RyaW5nLCBtYXhsZW5ndGg6MjAsIHJlcXVpcmU6ZmFsc2UgfSxcclxuICAgIGJpcnRoZGF5OnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZTpmYWxzZSB9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59XHJcbik7XHJcblxyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsVXNlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["User.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst UserSchema = new Schema({\r\n    rol:{ type:String, maxlength:30, require:true },\r\n    name:{ type:String, maxlength:250, require:true },\r\n    surname:{ type:String, maxlength:250, require:false },\r\n    email:{ type:String, maxlength:250, require:true, unique:true },\r\n    password:{ type:String, maxlength:250, require:true },\r\n    avatar:{ type:String, maxlength:250, require:false },\r\n    state:{ type:Number, default:1 },//1 es activo y 2 es desactivado\r\n    phone:{ type:String, maxlength:20, require:false },\r\n    birthday:{ type:String, maxlength:20, require:false },\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst User = mongoose.model(\"user\",UserSchema);\r\nexport default User;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAAEC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAK,CAAC;EAC/C2B,IAAI,EAAC;IAAEH,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACjD4B,OAAO,EAAC;IAAEJ,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAM,CAAC;EACrD6B,KAAK,EAAC;IAAEL,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC,IAAI;IAAE8B,MAAM,EAAC;EAAK,CAAC;EAC/DC,QAAQ,EAAC;IAAEP,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACrDgC,MAAM,EAAC;IAAER,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAM,CAAC;EACpDiC,KAAK,EAAC;IAAET,IAAI,EAACU,MAAM;IAAE3B,OAAO,EAAC;EAAE,CAAC;EAAC;EACjC4B,KAAK,EAAC;IAAEX,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAM,CAAC;EAClDoC,QAAQ,EAAC;IAAEZ,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAM;AACxD,CAAC,EAAC;EACEqC,UAAU,EAAC;AACf,CACA,CAAC;AAED,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAChC+B,IAAI","ignoreList":[]}},"mtime":1714840979356},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\services\\\\token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, \"ecommerce_udemy\", {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, \"ecommerce_udemy\");\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log('Error', error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGVuY29kZTogYXN5bmMoX2lkLHJvbCxlbWFpbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZDpfaWQscm9sOnJvbCxlbWFpbDplbWFpbH0sXCJlY29tbWVyY2VfdWRlbXlcIix7ZXhwaXJlc0luOicxZCd9KTtcclxuICAgICAgICByZXR1cm4gdG9rZW5cclxuICAgIH0sXHJcblxyXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtfaWR9ID0gYXdhaXQgand0LnZlcmlmeSh0b2tlbixcImVjb21tZXJjZV91ZGVteVwiKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDpfaWQsc3RhdGU6MX0pO1xyXG4gICAgICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FHaEI7RUFDWEcsTUFBTSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxLQUFLLEtBQUs7SUFDNUIsTUFBTUMsS0FBSyxHQUFHQyxxQkFBRyxDQUFDQyxJQUFJLENBQUM7TUFBQ0wsR0FBRyxFQUFDQSxHQUFHO01BQUNDLEdBQUcsRUFBQ0EsR0FBRztNQUFDQyxLQUFLLEVBQUNBO0lBQUssQ0FBQyxFQUFDLGlCQUFpQixFQUFDO01BQUNJLFNBQVMsRUFBQztJQUFJLENBQUMsQ0FBQztJQUN4RixPQUFPSCxLQUFLO0VBQ2hCLENBQUM7RUFFREksTUFBTSxFQUFFLE1BQU1KLEtBQUssSUFBSztJQUNwQixJQUFJO01BQ0EsTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBQyxpQkFBaUIsQ0FBQztNQUN2RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFDQSxHQUFHO1FBQUNhLEtBQUssRUFBQztNQUFDLENBQUMsQ0FBQztNQUNuRCxJQUFJSixJQUFJLEVBQUU7UUFDTixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLEVBQUVGLEtBQUssQ0FBQztJQUMvQjtFQUNKO0FBR0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\services\\","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\nimport models from '../models';\r\n\r\n\r\nexport default {\r\n    encode: async(_id,rol,email) => {\r\n        const token = jwt.sign({_id:_id,rol:rol,email:email},\"ecommerce_udemy\",{expiresIn:'1d'});\r\n        return token\r\n    },\r\n\r\n    decode: async(token) => {\r\n        try {\r\n            const {_id} = await jwt.verify(token,\"ecommerce_udemy\");\r\n            const user = models.User.findOne({_id:_id,state:1});\r\n            if (user) {\r\n                return user;\r\n            }\r\n            return false;\r\n        } catch (error) {\r\n            console.log('Error', error);\r\n        }\r\n    }\r\n\r\n\r\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGhB;EACXG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAK;IAC5B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAACA,GAAG;MAACC,GAAG,EAACA,GAAG;MAACC,KAAK,EAACA;IAAK,CAAC,EAAC,iBAAiB,EAAC;MAACI,SAAS,EAAC;IAAI,CAAC,CAAC;IACxF,OAAOH,KAAK;EAChB,CAAC;EAEDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAC,iBAAiB,CAAC;MACvD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAACA,GAAG;QAACa,KAAK,EAAC;MAAC,CAAC,CAAC;MACnD,IAAIJ,IAAI,EAAE;QACN,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;IAC/B;EACJ;AAGJ,CAAC","ignoreList":[]}},"mtime":1715378861006},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\middlewares\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9rZW4gZnJvbSAnLi4vc2VydmljZXMvdG9rZW4nXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSxyZXMsbmV4dCkgPT4ge1xyXG4gICAgICAgIGlmKCFyZXEuaGVhZGVycy50b2tlbil7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBTRSBFTlZJTyBFTCBUT0tFTidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcclxuICAgICAgICBpZihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImNsaWVudGVcIiB8fCByZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFRPS0VOIE5PIEVTIFZBTElETydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHZlcmlmeUFkbWluOiBhc3luYyhyZXEscmVzLG5leHQpID0+IHtcclxuICAgICAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WSU8gRUwgVE9LRU4nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRva2VuLmRlY29kZShyZXEuaGVhZGVycy50b2tlbik7XHJcbiAgICAgICAgaWYocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFRPS0VOIE5PIEVTIFZBTElETydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBcUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUV0QjtFQUNYRyxlQUFlLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEVBQUNDLElBQUksS0FBSztJQUNwQyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDbEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLGNBQUssQ0FBQ0ssTUFBTSxDQUFDVCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RELElBQUdJLFFBQVEsRUFBQztNQUNSLElBQUdBLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLFNBQVMsSUFBSUYsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ3BEUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBSTtRQUNERCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBSTtNQUNETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDREksV0FBVyxFQUFFLE1BQUFBLENBQU1YLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUs7SUFDaEMsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ2xCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDUixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDdkJSLElBQUksQ0FBQyxDQUFDO01BQ1YsQ0FBQyxNQUFJO1FBQ0RELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxNQUFJO01BQ0ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0o7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\middlewares\\","sources":["auth.js"],"sourcesContent":["import token from '../services/token'\r\n\r\nexport default {\r\n    verifyEcommerce: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"cliente\" || response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    },\r\n    verifyAdmin: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEtB;EACXG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACpDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IAChC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACvBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC","ignoreList":[]}},"mtime":1740709613191},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\middlewares\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: 'NO SE ENVIO EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9rZW4gZnJvbSAnLi4vc2VydmljZXMvdG9rZW4nXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSxyZXMsbmV4dCkgPT4ge1xyXG4gICAgICAgIGlmKCFyZXEuaGVhZGVycy50b2tlbil7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBTRSBFTlZJTyBFTCBUT0tFTidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcclxuICAgICAgICBpZihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImNsaWVudGVcIiB8fCByZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFRPS0VOIE5PIEVTIFZBTElETydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHZlcmlmeUFkbWluOiBhc3luYyhyZXEscmVzLG5leHQpID0+IHtcclxuICAgICAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WSU8gRUwgVE9LRU4nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRva2VuLmRlY29kZShyZXEuaGVhZGVycy50b2tlbik7XHJcbiAgICAgICAgaWYocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFRPS0VOIE5PIEVTIFZBTElETydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBcUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUV0QjtFQUNYRyxlQUFlLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEVBQUNDLElBQUksS0FBSztJQUNwQyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDbEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLGNBQUssQ0FBQ0ssTUFBTSxDQUFDVCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RELElBQUdJLFFBQVEsRUFBQztNQUNSLElBQUdBLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLFNBQVMsSUFBSUYsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ3BEUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBSTtRQUNERCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBSTtNQUNETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDREksV0FBVyxFQUFFLE1BQUFBLENBQU1YLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUs7SUFDaEMsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ2xCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDUixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDdkJSLElBQUksQ0FBQyxDQUFDO01BQ1YsQ0FBQyxNQUFJO1FBQ0RELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxNQUFJO01BQ0ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0o7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\middlewares\\","sources":["auth.js"],"sourcesContent":["import token from '../services/token'\r\n\r\nexport default {\r\n    verifyEcommerce: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"cliente\" || response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    },\r\n    verifyAdmin: async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: 'NO SE ENVIO EL TOKEN'\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: 'NO ESTA PERMITIDO VISITAR ESTA RUTA'\r\n                });\r\n            }\r\n        }else{\r\n            res.status(403).send({\r\n                message: 'EL TOKEN NO ES VALIDO'\r\n            });\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEtB;EACXG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACpDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IAChC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACvBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC","ignoreList":[]}},"mtime":1740709613191},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DYXJ0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlNsaWRlciIsIkNhcnQiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiXHJcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSBcIi4vQ2F0ZWdvcmllXCJcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiXHJcbmltcG9ydCBTbGlkZXIgZnJvbSBcIi4vU2xpZGVyXCJcclxuaW1wb3J0IENhcnQgZnJvbSBcIi4vQ2FydFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdHtcclxuICAgICAgICBVc2VyLFxyXG4gICAgICAgIENhdGVnb3JpZSxcclxuICAgICAgICBQcm9kdWN0LFxyXG4gICAgICAgIFNsaWRlcixcclxuICAgICAgICBDYXJ0XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLE9BQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLEtBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRVg7RUFDTkcsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFNBQVMsRUFBVEEsa0JBQVM7RUFDVEMsT0FBTyxFQUFQQSxnQkFBTztFQUNQQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsSUFBSSxFQUFKQTtBQUNSLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","_Slider","_Cart","obj","__esModule","default","_default","exports","User","Categorie","Product","Slider","Cart"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["index.js"],"sourcesContent":["import User from \"./User\"\r\nimport Categorie from \"./Categorie\"\r\nimport Product from \"./Product\"\r\nimport Slider from \"./Slider\"\r\nimport Cart from \"./Cart\"\r\n\r\nexport default{\r\n        User,\r\n        Categorie,\r\n        Product,\r\n        Slider,\r\n        Cart\r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEX;EACNG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AACR,CAAC","ignoreList":[]}},"mtime":1737596036127},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcY29udHJvbGxlcnNcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHVzZXJfbGlzdCA6ICAodXNlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBS0MsSUFBSSxJQUFLO0lBQ25CLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["User.js"],"sourcesContent":["export default {\r\n    user_list :  (user) => {\r\n        return {\r\n            _id: user._id,\r\n            name: user.name,\r\n            surname: user.surname,\r\n            email: user.email,\r\n            avatar: user.avatar\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAKC,IAAI,IAAK;IACnB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1715803508179},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DYXJ0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlNsaWRlciIsIkNhcnQiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiXHJcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSBcIi4vQ2F0ZWdvcmllXCJcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiXHJcbmltcG9ydCBTbGlkZXIgZnJvbSBcIi4vU2xpZGVyXCJcclxuaW1wb3J0IENhcnQgZnJvbSBcIi4vQ2FydFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdHtcclxuICAgICAgICBVc2VyLFxyXG4gICAgICAgIENhdGVnb3JpZSxcclxuICAgICAgICBQcm9kdWN0LFxyXG4gICAgICAgIFNsaWRlcixcclxuICAgICAgICBDYXJ0XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLE9BQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLEtBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRVg7RUFDTkcsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFNBQVMsRUFBVEEsa0JBQVM7RUFDVEMsT0FBTyxFQUFQQSxnQkFBTztFQUNQQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsSUFBSSxFQUFKQTtBQUNSLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","_Slider","_Cart","obj","__esModule","default","_default","exports","User","Categorie","Product","Slider","Cart"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["index.js"],"sourcesContent":["import User from \"./User\"\r\nimport Categorie from \"./Categorie\"\r\nimport Product from \"./Product\"\r\nimport Slider from \"./Slider\"\r\nimport Cart from \"./Cart\"\r\n\r\nexport default{\r\n        User,\r\n        Categorie,\r\n        Product,\r\n        Slider,\r\n        Cart\r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEX;EACNG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AACR,CAAC","ignoreList":[]}},"mtime":1737596036127},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcY29udHJvbGxlcnNcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHVzZXJfbGlzdCA6ICAodXNlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBS0MsSUFBSSxJQUFLO0lBQ25CLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["User.js"],"sourcesContent":["export default {\r\n    user_list :  (user) => {\r\n        return {\r\n            _id: user._id,\r\n            name: user.name,\r\n            surname: user.surname,\r\n            email: user.email,\r\n            avatar: user.avatar\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAKC,IAAI,IAAK;IACnB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1715803508179},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJDYXRlZ29yaWUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiY2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSAsIHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgQ2F0ZWdvcmllU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcblxyXG4gICAgdGl0bGU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgaW1hZ2VuOnsgdHlwZTogU3RyaW5nICwgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlIH0sXHJcbiAgICBzdGF0ZTogeyB0eXBlOiBOdW1iZXIgLCBtYXhsZW5ndGg6MiAsIGRlZmF1bHQ6MX1cclxuXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlXHJcbn1cclxuKTtcclxuXHJcbmNvbnN0IENhdGVnb3JpZSA9IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcmllXCIsQ2F0ZWdvcmllU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcmllO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRTFDLE1BQU1XLGVBQWUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBRS9CQyxLQUFLLEVBQUU7SUFBQ0MsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ25EMkIsTUFBTSxFQUFDO0lBQUVILElBQUksRUFBRUMsTUFBTTtJQUFHQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUNyRDRCLEtBQUssRUFBRTtJQUFFSixJQUFJLEVBQUVLLE1BQU07SUFBR0gsU0FBUyxFQUFDLENBQUM7SUFBR25CLE9BQU8sRUFBQztFQUFDO0FBRW5ELENBQUMsRUFBQztFQUNFdUIsVUFBVSxFQUFDO0FBQ2YsQ0FDQSxDQUFDO0FBRUQsTUFBTUMsU0FBUyxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsV0FBVyxFQUFDWixlQUFlLENBQUM7QUFBQyxJQUFBYSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTVCLE9BQUEsR0FDL0N3QixTQUFTIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","imagen","state","Number","timestamps","Categorie","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["categorie.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst CategorieSchema = new Schema({\r\n\r\n    title: {type: String, maxlength:250 ,require:true },\r\n    imagen:{ type: String , maxlength:250, require:true },\r\n    state: { type: Number , maxlength:2 , default:1}\r\n\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\r\nexport default Categorie;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAE/BC,KAAK,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACnD2B,MAAM,EAAC;IAAEH,IAAI,EAAEC,MAAM;IAAGC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACrD4B,KAAK,EAAE;IAAEJ,IAAI,EAAEK,MAAM;IAAGH,SAAS,EAAC,CAAC;IAAGnB,OAAO,EAAC;EAAC;AAEnD,CAAC,EAAC;EACEuB,UAAU,EAAC;AACf,CACA,CAAC;AAED,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACZ,eAAe,CAAC;AAAC,IAAAa,QAAA,GAAAC,OAAA,CAAA5B,OAAA,GAC/CwB,SAAS","ignoreList":[]}},"mtime":1716313712105},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJDYXRlZ29yaWUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiY2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSAsIHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgQ2F0ZWdvcmllU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcblxyXG4gICAgdGl0bGU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgaW1hZ2VuOnsgdHlwZTogU3RyaW5nICwgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlIH0sXHJcbiAgICBzdGF0ZTogeyB0eXBlOiBOdW1iZXIgLCBtYXhsZW5ndGg6MiAsIGRlZmF1bHQ6MX1cclxuXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlXHJcbn1cclxuKTtcclxuXHJcbmNvbnN0IENhdGVnb3JpZSA9IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcmllXCIsQ2F0ZWdvcmllU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcmllO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRTFDLE1BQU1XLGVBQWUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBRS9CQyxLQUFLLEVBQUU7SUFBQ0MsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ25EMkIsTUFBTSxFQUFDO0lBQUVILElBQUksRUFBRUMsTUFBTTtJQUFHQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUNyRDRCLEtBQUssRUFBRTtJQUFFSixJQUFJLEVBQUVLLE1BQU07SUFBR0gsU0FBUyxFQUFDLENBQUM7SUFBR25CLE9BQU8sRUFBQztFQUFDO0FBRW5ELENBQUMsRUFBQztFQUNFdUIsVUFBVSxFQUFDO0FBQ2YsQ0FDQSxDQUFDO0FBRUQsTUFBTUMsU0FBUyxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsV0FBVyxFQUFDWixlQUFlLENBQUM7QUFBQyxJQUFBYSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTVCLE9BQUEsR0FDL0N3QixTQUFTIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","imagen","state","Number","timestamps","Categorie","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["categorie.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst CategorieSchema = new Schema({\r\n\r\n    title: {type: String, maxlength:250 ,require:true },\r\n    imagen:{ type: String , maxlength:250, require:true },\r\n    state: { type: Number , maxlength:2 , default:1}\r\n\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\r\nexport default Categorie;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAE/BC,KAAK,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACnD2B,MAAM,EAAC;IAAEH,IAAI,EAAEC,MAAM;IAAGC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACrD4B,KAAK,EAAE;IAAEJ,IAAI,EAAEK,MAAM;IAAGH,SAAS,EAAC,CAAC;IAAGnB,OAAO,EAAC;EAAC;AAEnD,CAAC,EAAC;EACEuB,UAAU,EAAC;AACf,CACA,CAAC;AAED,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACZ,eAAe,CAAC;AAAC,IAAAa,QAAA,GAAAC,OAAA,CAAA5B,OAAA,GAC/CwB,SAAS","ignoreList":[]}},"mtime":1716313712105},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/user/\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXRlZ29yaWVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSc7XHJcblxyXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL2NhdGVnb3JpZSd9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlci9cclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoIF0sIGNhdGVnb3JpZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aCBdLCBjYXRlZ29yaWVDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY2F0ZWdvcmllQ29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgY2F0ZWdvcmllQ29udHJvbGxlci5yZW1vdmUpXHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmllLzppbWdcIixjYXRlZ29yaWVDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTVDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBQztBQUFxQixDQUFDLENBQUM7QUFDeEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDakZOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDNUVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDN0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBRVIsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFdEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFDSiw0QkFBbUIsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRzFESSxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Categorie.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport categorieController from '../controllers/CategorieController'\r\nimport auth from '../middlewares/auth'\r\nimport multiparty from 'connect-multiparty';\r\n\r\nvar path = multiparty({uploadDir:'./uploads/categorie'})\r\nconst router = routerx();\r\n\r\n//http://localhost:3000/api/user/\r\n\r\nrouter.post(\"/register\", [auth.verifyAdmin, path ], categorieController.register);\r\nrouter.put(\"/update\", [auth.verifyAdmin, path ], categorieController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,categorieController.list);\r\nrouter.delete(\"/delete\", auth.verifyAdmin, categorieController.remove)\r\n\r\nrouter.get(\"/uploads/categorie/:img\",categorieController.obtener_imagen);\r\n\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAqB,CAAC,CAAC;AACxD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AACjFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,CAACJ,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,4BAAmB,CAACG,MAAM,CAAC;AAC5ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAAER,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACO,MAAM,CAAC;AAEtEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAG1DI,MAAM","ignoreList":[]}},"mtime":1716335172007},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let categorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE A MODIFICADO CORRECTAMENTE \",\n        categorie: _resources.default.Categorie.categorie_list(categorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          'title': new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(categorie => {\n        return _resources.default.Categorie.categorie_list(categorie);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE \"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsImNhdGVnb3JpZSIsIm1vZGVscyIsIkNhdGVnb3JpZSIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiY2F0ZWdvcmllVCIsImZpbmRPbmUiLCJyZXNvdXJjZXMiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsImNhdGVnb3JpZXMiLCJvYnRlbmVyX2ltYWdlbiIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkNhdGVnb3JpZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gJy4vcmVzb3VyY2VzJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3JpZSA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuY3JlYXRlKHJlcS5ib2R5KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgdXBkYXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcyAmJiByZXEuZmlsZXMucG9ydGFkYSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKTtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KVxyXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcmllVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7bWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEUgXCIsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IHJlc291cmNlcy5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoY2F0ZWdvcmllVCkgfSlcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGxpc3Q6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHsndGl0bGUnIDogbmV3IFJlZ0V4cChzZWFyY2gsXCJpXCIpfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzotMX0pO1xyXG5cclxuICAgICAgICAgICAgQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMubWFwKGNhdGVnb3JpZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdChjYXRlZ29yaWUpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgb2J0ZW5lcl9pbWFnZW46ICBhc3luYyggcmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcclxuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL2NhdGVnb3JpZS8nK2ltZywgZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlbW92ZSA6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWQgfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFIFwifSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9B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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","categorieT","findOne","resources","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["CategorieController.js"],"sourcesContent":["import models from '../models';\r\nimport resources from './resources';\r\nimport fs from 'fs'\r\nimport path from 'path';\r\n\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            if (req.files) {\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                //console.log(portada_name);\r\n                req.body.imagen = portada_name\r\n            }\r\n\r\n            const categorie = await models.Categorie.create(req.body)\r\n            res.status(200).json(categorie);\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n\r\n            if (req.files && req.files.portada) {\r\n\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                //console.log(portada_name);\r\n                req.body.imagen = portada_name\r\n\r\n            }\r\n\r\n            await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body)\r\n            let categorieT = await models.Categorie.findOne({_id: req.body._id});\r\n            res.status(200).json(\r\n                {message: \"LA CATEGORIA SE A MODIFICADO CORRECTAMENTE \",\r\n                categorie: resources.Categorie.categorie_list(categorieT) })\r\n\r\n        } catch (error) {\r\n            \r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Categories = await models.Categorie.find({\r\n                $or:[\r\n                    {'title' : new RegExp(search,\"i\")}\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n\r\n            Categories = Categories.map(categorie => {\r\n                return resources.Categorie.categorie_list(categorie);\r\n            })\r\n\r\n            res.status(200).json({ categories: Categories });\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n    obtener_imagen:  async( req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n            fs.stat('./uploads/categorie/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/categorie/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    remove : async(req,res) => {\r\n        try {\r\n            await models.Categorie.findByIdAndDelete({_id: req.query._id });\r\n            res.status(200).json({ message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE \"})\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAwB,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGT;EACXG,QAAQ,EAAE,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;IAC1B,IAAI;MACA,IAAID,GAAG,CAACE,KAAK,EAAE;QACX,IAAIC,QAAQ,GAAGH,GAAG,CAACE,KAAK,CAACE,OAAO,CAACC,IAAI;QACrC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,IAAI,CAAC;QAC/B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1B;QACAN,GAAG,CAACS,IAAI,CAACC,MAAM,GAAGF,YAAY;MAClC;MAEA,MAAMG,SAAS,GAAG,MAAMC,eAAM,CAACC,SAAS,CAACC,MAAM,CAACd,GAAG,CAACS,IAAI,CAAC;MACzDR,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACL,SAAS,CAAC;IACnC,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAsB,CAAC,CAAC;MACxDC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EAIDK,MAAM,EAAE,MAAAA,CAAOtB,GAAG,EAAEC,GAAG,KAAK;IACxB,IAAI;MAEA,IAAID,GAAG,CAACE,KAAK,IAAIF,GAAG,CAACE,KAAK,CAACE,OAAO,EAAE;QAEhC,IAAID,QAAQ,GAAGH,GAAG,CAACE,KAAK,CAACE,OAAO,CAACC,IAAI;QACrC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,IAAI,CAAC;QAC/B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1B;QACAN,GAAG,CAACS,IAAI,CAACC,MAAM,GAAGF,YAAY;MAElC;MAEA,MAAMI,eAAM,CAACC,SAAS,CAACU,iBAAiB,CAAC;QAACC,GAAG,EAAExB,GAAG,CAACS,IAAI,CAACe;MAAG,CAAC,EAACxB,GAAG,CAACS,IAAI,CAAC;MACtE,IAAIgB,UAAU,GAAG,MAAMb,eAAM,CAACC,SAAS,CAACa,OAAO,CAAC;QAACF,GAAG,EAAExB,GAAG,CAACS,IAAI,CAACe;MAAG,CAAC,CAAC;MACpEvB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAChB;QAACG,OAAO,EAAE,6CAA6C;QACvDR,SAAS,EAAEgB,kBAAS,CAACd,SAAS,CAACe,cAAc,CAACH,UAAU;MAAE,CAAC,CAAC;IAEpE,CAAC,CAAC,OAAOR,KAAK,EAAE;MAEZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAsB,CAAC,CAAC;MACxDC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EAEDY,IAAI,EAAE,MAAAA,CAAO7B,GAAG,EAAEC,GAAG,KAAK;IACtB,IAAI;MACA,IAAI6B,MAAM,GAAG9B,GAAG,CAAC+B,KAAK,CAACD,MAAM;MAC7B,IAAIE,UAAU,GAAG,MAAMpB,eAAM,CAACC,SAAS,CAACoB,IAAI,CAAC;QACzCC,GAAG,EAAC,CACA;UAAC,OAAO,EAAG,IAAIC,MAAM,CAACL,MAAM,EAAC,GAAG;QAAC,CAAC;MAE1C,CAAC,CAAC,CAACM,IAAI,CAAC;QAAC,WAAW,EAAC,CAAC;MAAC,CAAC,CAAC;MAEzBJ,UAAU,GAAGA,UAAU,CAACK,GAAG,CAAC1B,SAAS,IAAI;QACrC,OAAOgB,kBAAS,CAACd,SAAS,CAACe,cAAc,CAACjB,SAAS,CAAC;MACxD,CAAC,CAAC;MAEFV,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEsB,UAAU,EAAEN;MAAW,CAAC,CAAC;IAEpD,CAAC,CAAC,OAAOf,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAsB,CAAC,CAAC;MACxDC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EAGDsB,cAAc,EAAG,MAAAA,CAAOvC,GAAG,EAACC,GAAG,KAAK;IAChC,IAAI;MACA,IAAIuC,GAAG,GAAGxC,GAAG,CAACyC,MAAM,CAAC,KAAK,CAAC;MAC3BC,WAAE,CAACC,IAAI,CAAC,sBAAsB,GAACH,GAAG,EAAE,UAASI,GAAG,EAAC;QAC7C,IAAG,CAACA,GAAG,EAAC;UACJ,IAAIC,QAAQ,GAAG,sBAAsB,GAACL,GAAG;UACzCvC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAAC+B,QAAQ,CAACzC,aAAI,CAAC0C,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD,CAAC,MAAI;UACD,IAAIA,QAAQ,GAAG,uBAAuB;UAEtC5C,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAAC+B,QAAQ,CAACzC,aAAI,CAAC0C,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD;MACJ,CAAC,CAAC;IAEN,CAAC,CAAC,OAAO5B,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAsB,CAAC,CAAC;MACxDC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EAED+B,MAAM,EAAG,MAAAA,CAAMhD,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,MAAMW,eAAM,CAACC,SAAS,CAACoC,iBAAiB,CAAC;QAACzB,GAAG,EAAExB,GAAG,CAAC+B,KAAK,CAACP;MAAI,CAAC,CAAC;MAC/DvB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEG,OAAO,EAAE;MAAwC,CAAC,CAAC;IAC9E,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAsB,CAAC,CAAC;MACxDC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ;AAGJ,CAAC","ignoreList":[]}},"mtime":1716483700660},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/user/\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXRlZ29yaWVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSc7XHJcblxyXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL2NhdGVnb3JpZSd9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlci9cclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoIF0sIGNhdGVnb3JpZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aCBdLCBjYXRlZ29yaWVDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY2F0ZWdvcmllQ29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgY2F0ZWdvcmllQ29udHJvbGxlci5yZW1vdmUpXHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmllLzppbWdcIixjYXRlZ29yaWVDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTVDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBQztBQUFxQixDQUFDLENBQUM7QUFDeEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDakZOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDNUVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDN0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBRVIsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFdEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFDSiw0QkFBbUIsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRzFESSxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Categorie.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport categorieController from '../controllers/CategorieController'\r\nimport auth from '../middlewares/auth'\r\nimport multiparty from 'connect-multiparty';\r\n\r\nvar path = multiparty({uploadDir:'./uploads/categorie'})\r\nconst router = routerx();\r\n\r\n//http://localhost:3000/api/user/\r\n\r\nrouter.post(\"/register\", [auth.verifyAdmin, path ], categorieController.register);\r\nrouter.put(\"/update\", [auth.verifyAdmin, path ], categorieController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,categorieController.list);\r\nrouter.delete(\"/delete\", auth.verifyAdmin, categorieController.remove)\r\n\r\nrouter.get(\"/uploads/categorie/:img\",categorieController.obtener_imagen);\r\n\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAqB,CAAC,CAAC;AACxD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AACjFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,CAACJ,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,4BAAmB,CAACG,MAAM,CAAC;AAC5ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAAER,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACO,MAAM,CAAC;AAEtEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAG1DI,MAAM","ignoreList":[]}},"mtime":1716335172007},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let categorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE A MODIFICADO CORRECTAMENTE \",\n        categorie: _resources.default.Categorie.categorie_list(categorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          'title': new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(categorie => {\n        return _resources.default.Categorie.categorie_list(categorie);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE \"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsImNhdGVnb3JpZSIsIm1vZGVscyIsIkNhdGVnb3JpZSIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiY2F0ZWdvcmllVCIsImZpbmRPbmUiLCJyZXNvdXJjZXMiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsImNhdGVnb3JpZXMiLCJvYnRlbmVyX2ltYWdlbiIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkNhdGVnb3JpZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gJy4vcmVzb3VyY2VzJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3JpZSA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuY3JlYXRlKHJlcS5ib2R5KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgdXBkYXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcyAmJiByZXEuZmlsZXMucG9ydGFkYSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKTtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KVxyXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcmllVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7bWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEUgXCIsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IHJlc291cmNlcy5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoY2F0ZWdvcmllVCkgfSlcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGxpc3Q6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHsndGl0bGUnIDogbmV3IFJlZ0V4cChzZWFyY2gsXCJpXCIpfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzotMX0pO1xyXG5cclxuICAgICAgICAgICAgQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMubWFwKGNhdGVnb3JpZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdChjYXRlZ29yaWUpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgb2J0ZW5lcl9pbWFnZW46ICBhc3luYyggcmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcclxuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL2NhdGVnb3JpZS8nK2ltZywgZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlbW92ZSA6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWQgfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFIFwifSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdUO0VBQ1hHLFFBQVEsRUFBRSxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0EsSUFBSUQsR0FBRyxDQUFDRSxLQUFLLEVBQUU7UUFDWCxJQUFJQyxRQUFRLEdBQUdILEdBQUcsQ0FBQ0UsS0FBSyxDQUFDRSxPQUFPLENBQUNDLElBQUk7UUFDckMsSUFBSUMsSUFBSSxHQUFHSCxRQUFRLENBQUNJLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDL0IsSUFBSUMsWUFBWSxHQUFHRixJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzFCO1FBQ0FOLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDQyxNQUFNLEdBQUdGLFlBQVk7TUFDbEM7TUFFQSxNQUFNRyxTQUFTLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxTQUFTLENBQUNDLE1BQU0sQ0FBQ2QsR0FBRyxDQUFDUyxJQUFJLENBQUM7TUFDekRSLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLFNBQVMsQ0FBQztJQUNuQyxDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO01BQ1poQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQUVDLE9BQU8sRUFBRTtNQUFzQixDQUFDLENBQUM7TUFDeERDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBSURLLE1BQU0sRUFBRSxNQUFBQSxDQUFPdEIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUVBLElBQUlELEdBQUcsQ0FBQ0UsS0FBSyxJQUFJRixHQUFHLENBQUNFLEtBQUssQ0FBQ0UsT0FBTyxFQUFFO1FBRWhDLElBQUlELFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLElBQUksQ0FBQztRQUMvQixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUI7UUFDQU4sR0FBRyxDQUFDUyxJQUFJLENBQUNDLE1BQU0sR0FBR0YsWUFBWTtNQUVsQztNQUVBLE1BQU1JLGVBQU0sQ0FBQ0MsU0FBUyxDQUFDVSxpQkFBaUIsQ0FBQztRQUFDQyxHQUFHLEVBQUV4QixHQUFHLENBQUNTLElBQUksQ0FBQ2U7TUFBRyxDQUFDLEVBQUN4QixHQUFHLENBQUNTLElBQUksQ0FBQztNQUN0RSxJQUFJZ0IsVUFBVSxHQUFHLE1BQU1iLGVBQU0sQ0FBQ0MsU0FBUyxDQUFDYSxPQUFPLENBQUM7UUFBQ0YsR0FBRyxFQUFFeEIsR0FBRyxDQUFDUyxJQUFJLENBQUNlO01BQUcsQ0FBQyxDQUFDO01BQ3BFdkIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDaEI7UUFBQ0csT0FBTyxFQUFFLDZDQUE2QztRQUN2RFIsU0FBUyxFQUFFZ0Isa0JBQVMsQ0FBQ2QsU0FBUyxDQUFDZSxjQUFjLENBQUNILFVBQVU7TUFBRSxDQUFDLENBQUM7SUFFcEUsQ0FBQyxDQUFDLE9BQU9SLEtBQUssRUFBRTtNQUVaaEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO01BQ3hEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUVEWSxJQUFJLEVBQUUsTUFBQUEsQ0FBTzdCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ3RCLElBQUk7TUFDQSxJQUFJNkIsTUFBTSxHQUFHOUIsR0FBRyxDQUFDK0IsS0FBSyxDQUFDRCxNQUFNO01BQzdCLElBQUlFLFVBQVUsR0FBRyxNQUFNcEIsZUFBTSxDQUFDQyxTQUFTLENBQUNvQixJQUFJLENBQUM7UUFDekNDLEdBQUcsRUFBQyxDQUNBO1VBQUMsT0FBTyxFQUFHLElBQUlDLE1BQU0sQ0FBQ0wsTUFBTSxFQUFDLEdBQUc7UUFBQyxDQUFDO01BRTFDLENBQUMsQ0FBQyxDQUFDTSxJQUFJLENBQUM7UUFBQyxXQUFXLEVBQUMsQ0FBQztNQUFDLENBQUMsQ0FBQztNQUV6QkosVUFBVSxHQUFHQSxVQUFVLENBQUNLLEdBQUcsQ0FBQzFCLFNBQVMsSUFBSTtRQUNyQyxPQUFPZ0Isa0JBQVMsQ0FBQ2QsU0FBUyxDQUFDZSxjQUFjLENBQUNqQixTQUFTLENBQUM7TUFDeEQsQ0FBQyxDQUFDO01BRUZWLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRXNCLFVBQVUsRUFBRU47TUFBVyxDQUFDLENBQUM7SUFFcEQsQ0FBQyxDQUFDLE9BQU9mLEtBQUssRUFBRTtNQUNaaEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO01BQ3hEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUdEc0IsY0FBYyxFQUFHLE1BQUFBLENBQU92QyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNoQyxJQUFJO01BQ0EsSUFBSXVDLEdBQUcsR0FBR3hDLEdBQUcsQ0FBQ3lDLE1BQU0sQ0FBQyxLQUFLLENBQUM7TUFDM0JDLFdBQUUsQ0FBQ0MsSUFBSSxDQUFDLHNCQUFzQixHQUFDSCxHQUFHLEVBQUUsVUFBU0ksR0FBRyxFQUFDO1FBQzdDLElBQUcsQ0FBQ0EsR0FBRyxFQUFDO1VBQ0osSUFBSUMsUUFBUSxHQUFHLHNCQUFzQixHQUFDTCxHQUFHO1VBQ3pDdkMsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMrQixRQUFRLENBQUN6QyxhQUFJLENBQUMwQyxPQUFPLENBQUNGLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELENBQUMsTUFBSTtVQUNELElBQUlBLFFBQVEsR0FBRyx1QkFBdUI7VUFFdEM1QyxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQytCLFFBQVEsQ0FBQ3pDLGFBQUksQ0FBQzBDLE9BQU8sQ0FBQ0YsUUFBUSxDQUFDLENBQUM7UUFDcEQ7TUFDSixDQUFDLENBQUM7SUFFTixDQUFDLENBQUMsT0FBTzVCLEtBQUssRUFBRTtNQUNaaEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO01BQ3hEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUVEK0IsTUFBTSxFQUFHLE1BQUFBLENBQU1oRCxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN2QixJQUFJO01BQ0EsTUFBTVcsZUFBTSxDQUFDQyxTQUFTLENBQUNvQyxpQkFBaUIsQ0FBQztRQUFDekIsR0FBRyxFQUFFeEIsR0FBRyxDQUFDK0IsS0FBSyxDQUFDUDtNQUFJLENBQUMsQ0FBQztNQUMvRHZCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUcsT0FBTyxFQUFFO01BQXdDLENBQUMsQ0FBQztJQUM5RSxDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO01BQ1poQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQUVDLE9BQU8sRUFBRTtNQUFzQixDQUFDLENBQUM7TUFDeERDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSjtBQUdKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","categorieT","findOne","resources","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["CategorieController.js"],"sourcesContent":["import models from '../models';\r\nimport resources from './resources';\r\nimport fs from 'fs'\r\nimport path from 'path';\r\n\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            if (req.files) {\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                //console.log(portada_name);\r\n                req.body.imagen = portada_name\r\n            }\r\n\r\n            const categorie = await models.Categorie.create(req.body)\r\n            res.status(200).json(categorie);\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n\r\n            if (req.files && req.files.portada) {\r\n\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                //console.log(portada_name);\r\n                req.body.imagen = portada_name\r\n\r\n            }\r\n\r\n            await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body)\r\n            let categorieT = await models.Categorie.findOne({_id: req.body._id});\r\n            res.status(200).json(\r\n                {message: \"LA CATEGORIA SE A MODIFICADO CORRECTAMENTE \",\r\n                categorie: resources.Categorie.categorie_list(categorieT) })\r\n\r\n        } catch (error) {\r\n            \r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Categories = await models.Categorie.find({\r\n                $or:[\r\n                    {'title' : new RegExp(search,\"i\")}\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n\r\n            Categories = Categories.map(categorie => {\r\n                return resources.Categorie.categorie_list(categorie);\r\n            })\r\n\r\n            res.status(200).json({ categories: Categories });\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n    obtener_imagen:  async( req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n            fs.stat('./uploads/categorie/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/categorie/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    remove : async(req,res) => {\r\n        try {\r\n            await models.Categorie.findByIdAndDelete({_id: req.query._id });\r\n            res.status(200).json({ message: \"LA CATEGORIA SE ELIMINO CORRECTAMENTE \"})\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1716483700660},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: 'http://localhost:3000/' + 'api/categories/uploads/categorie/' + categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJzdGF0ZSJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcY29udHJvbGxlcnNcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgY2F0ZWdvcmllX2xpc3QgOiAgKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDpjYXRlZ29yaWUuX2lkLFxyXG4gICAgICAgICAgICB0aXRsZTogY2F0ZWdvcmllLnRpdGxlLFxyXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpZS5pbWFnZW4sXHJcbiAgICAgICAgICAgIGltYWdlbl9ob21lOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwLycrJ2FwaS9jYXRlZ29yaWVzL3VwbG9hZHMvY2F0ZWdvcmllLycrIGNhdGVnb3JpZS5pbWFnZW4sXHJcbiAgICAgICAgICAgIHN0YXRlOiBjYXRlZ29yaWUuc3RhdGVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBZTtFQUNYQSxjQUFjLEVBQUtDLFNBQVMsSUFBSztJQUM3QixPQUFPO01BQ0hDLEdBQUcsRUFBQ0QsU0FBUyxDQUFDQyxHQUFHO01BQ2pCQyxLQUFLLEVBQUVGLFNBQVMsQ0FBQ0UsS0FBSztNQUN0QkMsTUFBTSxFQUFFSCxTQUFTLENBQUNHLE1BQU07TUFDeEJDLFdBQVcsRUFBRSx3QkFBd0IsR0FBQyxtQ0FBbUMsR0FBRUosU0FBUyxDQUFDRyxNQUFNO01BQzNGRSxLQUFLLEVBQUVMLFNBQVMsQ0FBQ0s7SUFDckIsQ0FBQztFQUNMO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","imagen_home","state"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["Categorie.js"],"sourcesContent":["export default {\r\n    categorie_list :  (categorie) => {\r\n        return {\r\n            _id:categorie._id,\r\n            title: categorie.title,\r\n            imagen: categorie.imagen,\r\n            imagen_home: 'http://localhost:3000/'+'api/categories/uploads/categorie/'+ categorie.imagen,\r\n            state: categorie.state\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAKC,SAAS,IAAK;IAC7B,OAAO;MACHC,GAAG,EAACD,SAAS,CAACC,GAAG;MACjBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAE,wBAAwB,GAAC,mCAAmC,GAAEJ,SAAS,CAACG,MAAM;MAC3FE,KAAK,EAAEL,SAAS,CAACK;IACrB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1735852968955},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: 'http://localhost:3000/' + 'api/categories/uploads/categorie/' + categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJzdGF0ZSJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcY29udHJvbGxlcnNcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgY2F0ZWdvcmllX2xpc3QgOiAgKGNhdGVnb3JpZSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDpjYXRlZ29yaWUuX2lkLFxyXG4gICAgICAgICAgICB0aXRsZTogY2F0ZWdvcmllLnRpdGxlLFxyXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpZS5pbWFnZW4sXHJcbiAgICAgICAgICAgIGltYWdlbl9ob21lOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwLycrJ2FwaS9jYXRlZ29yaWVzL3VwbG9hZHMvY2F0ZWdvcmllLycrIGNhdGVnb3JpZS5pbWFnZW4sXHJcbiAgICAgICAgICAgIHN0YXRlOiBjYXRlZ29yaWUuc3RhdGVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBZTtFQUNYQSxjQUFjLEVBQUtDLFNBQVMsSUFBSztJQUM3QixPQUFPO01BQ0hDLEdBQUcsRUFBQ0QsU0FBUyxDQUFDQyxHQUFHO01BQ2pCQyxLQUFLLEVBQUVGLFNBQVMsQ0FBQ0UsS0FBSztNQUN0QkMsTUFBTSxFQUFFSCxTQUFTLENBQUNHLE1BQU07TUFDeEJDLFdBQVcsRUFBRSx3QkFBd0IsR0FBQyxtQ0FBbUMsR0FBRUosU0FBUyxDQUFDRyxNQUFNO01BQzNGRSxLQUFLLEVBQUVMLFNBQVMsQ0FBQ0s7SUFDckIsQ0FBQztFQUNMO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","imagen_home","state"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["Categorie.js"],"sourcesContent":["export default {\r\n    categorie_list :  (categorie) => {\r\n        return {\r\n            _id:categorie._id,\r\n            title: categorie.title,\r\n            imagen: categorie.imagen,\r\n            imagen_home: 'http://localhost:3000/'+'api/categories/uploads/categorie/'+ categorie.imagen,\r\n            state: categorie.state\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAKC,SAAS,IAAK;IAC7B,OAAO;MACHC,GAAG,EAACD,SAAS,CAACC,GAAG;MACjBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAE,wBAAwB,GAAC,mCAAmC,GAAEJ,SAAS,CAACG,MAAM;MAC3FE,KAAK,EAAEL,SAAS,CAACK;IACrB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1735852968955},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  sku: {\n    type: String,\n    required: true\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_soles: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es prueba o desarrollo , 2 va  a ser publico  y 3 va hacer anulado\n  stock: {\n    type: Number,\n    default: 0\n  },\n  descripcion: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJza3UiLCJzbHVnIiwiY2F0ZWdvcmllIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9zb2xlcyIsIk51bWJlciIsInByaWNlX3VzZCIsInBvcnRhZGEiLCJnYWxlcmlhcyIsInN0YXRlIiwic3RvY2siLCJkZXNjcmlwY2lvbiIsInJlc3VtZW4iLCJ0YWdzIiwidHlwZV9pbnZlbnRhcmlvIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHtTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFByb2R1Y3RTY2hlbWEgPSBuZXcgU2NoZW1hICh7XHJcbiAgICB0aXRsZTp7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIG1heGxlbmd0aDoyNTAgfSxcclxuICAgIHNrdTp7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHNsdWc6IHsgdHlwZTogU3RyaW5nICwgcmVxdWlyZWQ6IHRydWUsIG1heGxlbmd0aDogMTAwMH0sXHJcbiAgICBjYXRlZ29yaWU6IHsgdHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdjYXRlZ29yaWUnLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgcHJpY2Vfc29sZXMgOiB7ICB0eXBlIDogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgcHJpY2VfdXNkIDogeyAgdHlwZSA6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHBvcnRhZGE6IHsgdHlwZTogU3RyaW5nLCAgcmVxdWlyZWQ6ICB0cnVlIH0sXHJcbiAgICBnYWxlcmlhczpbIHsgdHlwZTogT2JqZWN0LCByZXF1aXJlZDogZmFsc2UgfSBdLFxyXG4gICAgc3RhdGU6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAxIH0sIC8vIDEgZXMgcHJ1ZWJhIG8gZGVzYXJyb2xsbyAsIDIgdmEgIGEgc2VyIHB1YmxpY28gIHkgMyB2YSBoYWNlciBhbnVsYWRvXHJcbiAgICBzdG9jayA6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgICBkZXNjcmlwY2lvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHJlc3VtZW46IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgdGFnczogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICB0eXBlX2ludmVudGFyaW86IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAxIH0sXHJcbn0gLCB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG59ICk7XHJcblxyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ3Byb2R1Y3QnLCBQcm9kdWN0U2NoZW1hKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","required","maxlength","sku","slug","categorie","ObjectId","ref","price_soles","Number","price_usd","portada","galerias","state","stock","descripcion","resumen","tags","type_inventario","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Product.js"],"sourcesContent":["import mongoose, {Schema } from \"mongoose\";\r\n\r\nconst ProductSchema = new Schema ({\r\n    title:{ type: String, required: true, maxlength:250 },\r\n    sku:{ type: String, required: true },\r\n    slug: { type: String , required: true, maxlength: 1000},\r\n    categorie: { type: Schema.ObjectId, ref: 'categorie', required: true },\r\n    price_soles : {  type : Number, required: true },\r\n    price_usd : {  type : Number, required: true },\r\n    portada: { type: String,  required:  true },\r\n    galerias:[ { type: Object, required: false } ],\r\n    state: { type: Number, default: 1 }, // 1 es prueba o desarrollo , 2 va  a ser publico  y 3 va hacer anulado\r\n    stock : { type: Number, default: 0 },\r\n    descripcion: { type: String, required: true},\r\n    resumen: { type: String, required: true },\r\n    tags: { type: String, required: true },\r\n    type_inventario: { type: Number, default: 1 },\r\n} , {\r\n    timestamps: true,\r\n} );\r\n\r\nconst Product = mongoose.model('product', ProductSchema);\r\n\r\nexport default Product;"],"mappings":"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","ignoreList":[]}},"mtime":1716568039654},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  sku: {\n    type: String,\n    required: true\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_soles: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es prueba o desarrollo , 2 va  a ser publico  y 3 va hacer anulado\n  stock: {\n    type: Number,\n    default: 0\n  },\n  descripcion: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJza3UiLCJzbHVnIiwiY2F0ZWdvcmllIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9zb2xlcyIsIk51bWJlciIsInByaWNlX3VzZCIsInBvcnRhZGEiLCJnYWxlcmlhcyIsInN0YXRlIiwic3RvY2siLCJkZXNjcmlwY2lvbiIsInJlc3VtZW4iLCJ0YWdzIiwidHlwZV9pbnZlbnRhcmlvIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHtTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFByb2R1Y3RTY2hlbWEgPSBuZXcgU2NoZW1hICh7XHJcbiAgICB0aXRsZTp7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIG1heGxlbmd0aDoyNTAgfSxcclxuICAgIHNrdTp7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHNsdWc6IHsgdHlwZTogU3RyaW5nICwgcmVxdWlyZWQ6IHRydWUsIG1heGxlbmd0aDogMTAwMH0sXHJcbiAgICBjYXRlZ29yaWU6IHsgdHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdjYXRlZ29yaWUnLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgcHJpY2Vfc29sZXMgOiB7ICB0eXBlIDogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgcHJpY2VfdXNkIDogeyAgdHlwZSA6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHBvcnRhZGE6IHsgdHlwZTogU3RyaW5nLCAgcmVxdWlyZWQ6ICB0cnVlIH0sXHJcbiAgICBnYWxlcmlhczpbIHsgdHlwZTogT2JqZWN0LCByZXF1aXJlZDogZmFsc2UgfSBdLFxyXG4gICAgc3RhdGU6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAxIH0sIC8vIDEgZXMgcHJ1ZWJhIG8gZGVzYXJyb2xsbyAsIDIgdmEgIGEgc2VyIHB1YmxpY28gIHkgMyB2YSBoYWNlciBhbnVsYWRvXHJcbiAgICBzdG9jayA6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgICBkZXNjcmlwY2lvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHJlc3VtZW46IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgdGFnczogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICB0eXBlX2ludmVudGFyaW86IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAxIH0sXHJcbn0gLCB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG59ICk7XHJcblxyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ3Byb2R1Y3QnLCBQcm9kdWN0U2NoZW1hKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMkMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRTNDLE1BQU1XLGFBQWEsR0FBRyxJQUFJQyxnQkFBTSxDQUFFO0VBQzlCQyxLQUFLLEVBQUM7SUFBRUMsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRSxJQUFJO0lBQUVDLFNBQVMsRUFBQztFQUFJLENBQUM7RUFDckRDLEdBQUcsRUFBQztJQUFFSixJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUNwQ0csSUFBSSxFQUFFO0lBQUVMLElBQUksRUFBRUMsTUFBTTtJQUFHQyxRQUFRLEVBQUUsSUFBSTtJQUFFQyxTQUFTLEVBQUU7RUFBSSxDQUFDO0VBQ3ZERyxTQUFTLEVBQUU7SUFBRU4sSUFBSSxFQUFFRixnQkFBTSxDQUFDUyxRQUFRO0lBQUVDLEdBQUcsRUFBRSxXQUFXO0lBQUVOLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDdEVPLFdBQVcsRUFBRztJQUFHVCxJQUFJLEVBQUdVLE1BQU07SUFBRVIsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUNoRFMsU0FBUyxFQUFHO0lBQUdYLElBQUksRUFBR1UsTUFBTTtJQUFFUixRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQzlDVSxPQUFPLEVBQUU7SUFBRVosSUFBSSxFQUFFQyxNQUFNO0lBQUdDLFFBQVEsRUFBRztFQUFLLENBQUM7RUFDM0NXLFFBQVEsRUFBQyxDQUFFO0lBQUViLElBQUksRUFBRVgsTUFBTTtJQUFFYSxRQUFRLEVBQUU7RUFBTSxDQUFDLENBQUU7RUFDOUNZLEtBQUssRUFBRTtJQUFFZCxJQUFJLEVBQUVVLE1BQU07SUFBRTNCLE9BQU8sRUFBRTtFQUFFLENBQUM7RUFBRTtFQUNyQ2dDLEtBQUssRUFBRztJQUFFZixJQUFJLEVBQUVVLE1BQU07SUFBRTNCLE9BQU8sRUFBRTtFQUFFLENBQUM7RUFDcENpQyxXQUFXLEVBQUU7SUFBRWhCLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSSxDQUFDO0VBQzVDZSxPQUFPLEVBQUU7SUFBRWpCLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3pDZ0IsSUFBSSxFQUFFO0lBQUVsQixJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q2lCLGVBQWUsRUFBRTtJQUFFbkIsSUFBSSxFQUFFVSxNQUFNO0lBQUUzQixPQUFPLEVBQUU7RUFBRTtBQUNoRCxDQUFDLEVBQUc7RUFDQXFDLFVBQVUsRUFBRTtBQUNoQixDQUFFLENBQUM7QUFFSCxNQUFNQyxPQUFPLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxTQUFTLEVBQUUxQixhQUFhLENBQUM7QUFBQyxJQUFBMkIsUUFBQSxHQUFBQyxPQUFBLENBQUExQyxPQUFBLEdBRTFDc0MsT0FBTyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","required","maxlength","sku","slug","categorie","ObjectId","ref","price_soles","Number","price_usd","portada","galerias","state","stock","descripcion","resumen","tags","type_inventario","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Product.js"],"sourcesContent":["import mongoose, {Schema } from \"mongoose\";\r\n\r\nconst ProductSchema = new Schema ({\r\n    title:{ type: String, required: true, maxlength:250 },\r\n    sku:{ type: String, required: true },\r\n    slug: { type: String , required: true, maxlength: 1000},\r\n    categorie: { type: Schema.ObjectId, ref: 'categorie', required: true },\r\n    price_soles : {  type : Number, required: true },\r\n    price_usd : {  type : Number, required: true },\r\n    portada: { type: String,  required:  true },\r\n    galerias:[ { type: Object, required: false } ],\r\n    state: { type: Number, default: 1 }, // 1 es prueba o desarrollo , 2 va  a ser publico  y 3 va hacer anulado\r\n    stock : { type: Number, default: 0 },\r\n    descripcion: { type: String, required: true},\r\n    resumen: { type: String, required: true },\r\n    tags: { type: String, required: true },\r\n    type_inventario: { type: Number, default: 1 },\r\n} , {\r\n    timestamps: true,\r\n} );\r\n\r\nconst Product = mongoose.model('product', ProductSchema);\r\n\r\nexport default Product;"],"mappings":"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","ignoreList":[]}},"mtime":1716568039654},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVmFyaWVkYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFZhcmllZGFkU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBwcm9kdWN0OiB7IHR5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAncHJvZHVjdCcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICB2YWxvcjogeyAgIHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHN0b2NrOiB7dHlwZTogTnVtYmVyICwgcmVxdWlyZWQ6IHRydWUgfVxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbn0pXHJcblxyXG5jb25zdCBWYXJpZWRhZCA9IG1vbmdvb3NlLm1vZGVsKCd2YXJpZWRhZCcsIFZhcmllZGFkU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFMUMsTUFBTVcsY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDOUJDLE9BQU8sRUFBRTtJQUFFQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLFNBQVM7SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUNsRUMsS0FBSyxFQUFFO0lBQUlKLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3pDRyxLQUFLLEVBQUU7SUFBQ04sSUFBSSxFQUFFTyxNQUFNO0lBQUdKLFFBQVEsRUFBRTtFQUFLO0FBQzFDLENBQUMsRUFBQztFQUNFSyxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsUUFBUSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsVUFBVSxFQUFFZCxjQUFjLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTlCLE9BQUEsR0FDN0MwQixRQUFRIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Variedad.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst VariedadSchema = new Schema({\r\n    product: { type: Schema.ObjectId, ref: 'product', required: true },\r\n    valor: {   type: String, required: true },\r\n    stock: {type: Number , required: true }\r\n},{\r\n    timestamps: true,\r\n})\r\n\r\nconst Variedad = mongoose.model('variedad', VariedadSchema);\r\nexport default Variedad"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,OAAO,EAAE;IAAEC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAClEC,KAAK,EAAE;IAAIJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAE;EAAK,CAAC;EACzCG,KAAK,EAAE;IAACN,IAAI,EAAEO,MAAM;IAAGJ,QAAQ,EAAE;EAAK;AAC1C,CAAC,EAAC;EACEK,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAAEd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC7C0B,QAAQ","ignoreList":[]}},"mtime":1716482215806},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVmFyaWVkYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFZhcmllZGFkU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBwcm9kdWN0OiB7IHR5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAncHJvZHVjdCcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICB2YWxvcjogeyAgIHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHN0b2NrOiB7dHlwZTogTnVtYmVyICwgcmVxdWlyZWQ6IHRydWUgfVxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbn0pXHJcblxyXG5jb25zdCBWYXJpZWRhZCA9IG1vbmdvb3NlLm1vZGVsKCd2YXJpZWRhZCcsIFZhcmllZGFkU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFMUMsTUFBTVcsY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDOUJDLE9BQU8sRUFBRTtJQUFFQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLFNBQVM7SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUNsRUMsS0FBSyxFQUFFO0lBQUlKLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3pDRyxLQUFLLEVBQUU7SUFBQ04sSUFBSSxFQUFFTyxNQUFNO0lBQUdKLFFBQVEsRUFBRTtFQUFLO0FBQzFDLENBQUMsRUFBQztFQUNFSyxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsUUFBUSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsVUFBVSxFQUFFZCxjQUFjLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTlCLE9BQUEsR0FDN0MwQixRQUFRIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Variedad.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst VariedadSchema = new Schema({\r\n    product: { type: Schema.ObjectId, ref: 'product', required: true },\r\n    valor: {   type: String, required: true },\r\n    stock: {type: Number , required: true }\r\n},{\r\n    timestamps: true,\r\n})\r\n\r\nconst Variedad = mongoose.model('variedad', VariedadSchema);\r\nexport default Variedad"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,OAAO,EAAE;IAAEC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAClEC,KAAK,EAAE;IAAIJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAE;EAAK,CAAC;EACzCG,KAAK,EAAE;IAACN,IAAI,EAAEO,MAAM;IAAGJ,QAAQ,EAAE;EAAK;AAC1C,CAAC,EAAC;EACEK,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAAEd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC7C0B,QAAQ","ignoreList":[]}},"mtime":1716482215806},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaingDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = [];\n    if (product.galerias && product.galerias.length > 0) {\n      //NUEVO POR AGREGAR\n      GALERIAS = product.galerias.map(galeria => {\n        galeria.imagen = 'http://localhost:3000' + '/api/products/uploads/product/' + galeria.imagen; //*\n        return galeria;\n      });\n      var VAL = Math.floor(Math.random() * product.galerias.length); //0,1,2\n      IMAGEN_TWO = GALERIAS[VAL].imagen;\n    }\n    return {\n      _id: product._id,\n      title: product.title,\n      slug: product.slug,\n      sku: product.sku,\n      imagen: 'http://localhost:3000/' + 'api/products/uploads/product/' + product.portada,\n      categorie: product.categorie,\n      price_soles: product.price_soles,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      descripcion: product.descripcion,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaing_discount: CampaingDiscount\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJDYW1wYWluZ0Rpc2NvdW50IiwiSU1BR0VOX1RXTyIsIkdBTEVSSUFTIiwiZ2FsZXJpYXMiLCJsZW5ndGgiLCJtYXAiLCJnYWxlcmlhIiwiaW1hZ2VuIiwiVkFMIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2lkIiwidGl0bGUiLCJzbHVnIiwic2t1IiwicG9ydGFkYSIsImNhdGVnb3JpZSIsInByaWNlX3NvbGVzIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwY2lvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwic3RhdGUiLCJpbWFnZW5fdHdvIiwiY2FtcGFpbmdfZGlzY291bnQiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9kdWN0X2xpc3Q6IChwcm9kdWN0LCB2YXJpZWRhZGVzID0gW10sYXZnX3JldmlldyA9IDAsY291bnRfcmV2aWV3PTAsQ2FtcGFpbmdEaXNjb3VudCA9IG51bGwpID0+IHtcclxuXHJcbiAgICAgICAgdmFyIElNQUdFTl9UV08gPSBcIlwiO1xyXG4gICAgICAgIGxldCBHQUxFUklBUyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAocHJvZHVjdC5nYWxlcmlhcyAmJiBwcm9kdWN0LmdhbGVyaWFzLmxlbmd0aCA+IDApIHsvL05VRVZPIFBPUiBBR1JFR0FSXHJcbiAgICAgICAgICAgIEdBTEVSSUFTID0gcHJvZHVjdC5nYWxlcmlhcy5tYXAoKGdhbGVyaWEpID0+IHtcclxuICAgICAgICAgICAgICAgIGdhbGVyaWEuaW1hZ2VuID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcgKyAnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJyArIGdhbGVyaWEuaW1hZ2VuOy8vKlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhbGVyaWE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgVkFMID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcHJvZHVjdC5nYWxlcmlhcy5sZW5ndGgpOy8vMCwxLDJcclxuICAgICAgICAgICAgSU1BR0VOX1RXTyA9IEdBTEVSSUFTW1ZBTF0uaW1hZ2VuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBwcm9kdWN0Ll9pZCxcclxuICAgICAgICAgICAgdGl0bGU6IHByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcclxuICAgICAgICAgICAgc2t1OiBwcm9kdWN0LnNrdSxcclxuICAgICAgICAgICAgaW1hZ2VuOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwLycgKyAnYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nICsgcHJvZHVjdC5wb3J0YWRhLFxyXG4gICAgICAgICAgICBjYXRlZ29yaWU6IHByb2R1Y3QuY2F0ZWdvcmllLFxyXG4gICAgICAgICAgICBwcmljZV9zb2xlczogcHJvZHVjdC5wcmljZV9zb2xlcyxcclxuICAgICAgICAgICAgcHJpY2VfdXNkOiBwcm9kdWN0LnByaWNlX3VzZCxcclxuICAgICAgICAgICAgc3RvY2s6IHByb2R1Y3Quc3RvY2ssXHJcbiAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBwcm9kdWN0LmRlc2NyaXBjaW9uLFxyXG4gICAgICAgICAgICByZXN1bWVuOiBwcm9kdWN0LnJlc3VtZW4sXHJcbiAgICAgICAgICAgIHRhZ3M6IHByb2R1Y3QudGFncyA/IEpTT04ucGFyc2UocHJvZHVjdC50YWdzKSA6IFtdLFxyXG4gICAgICAgICAgICB0eXBlX2ludmVudGFyaW86IHByb2R1Y3QudHlwZV9pbnZlbnRhcmlvLFxyXG4gICAgICAgICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcclxuICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgaW1hZ2VuX3R3bzogSU1BR0VOX1RXTyxcclxuICAgICAgICAgICAgZ2FsZXJpYXM6IEdBTEVSSUFTLFxyXG4gICAgICAgICAgICBhdmdfcmV2aWV3IDogYXZnX3JldmlldyxcclxuICAgICAgICAgICAgY291bnRfcmV2aWV3IDogY291bnRfcmV2aWV3LFxyXG4gICAgICAgICAgICBjYW1wYWluZ19kaXNjb3VudDpDYW1wYWluZ0Rpc2NvdW50LFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFlBQVksRUFBRUEsQ0FBQ0MsT0FBTyxFQUFFQyxVQUFVLEdBQUcsRUFBRSxFQUFDQyxVQUFVLEdBQUcsQ0FBQyxFQUFDQyxZQUFZLEdBQUMsQ0FBQyxFQUFDQyxnQkFBZ0IsR0FBRyxJQUFJLEtBQUs7SUFFOUYsSUFBSUMsVUFBVSxHQUFHLEVBQUU7SUFDbkIsSUFBSUMsUUFBUSxHQUFHLEVBQUU7SUFFakIsSUFBSU4sT0FBTyxDQUFDTyxRQUFRLElBQUlQLE9BQU8sQ0FBQ08sUUFBUSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQUM7TUFDbERGLFFBQVEsR0FBR04sT0FBTyxDQUFDTyxRQUFRLENBQUNFLEdBQUcsQ0FBRUMsT0FBTyxJQUFLO1FBQ3pDQSxPQUFPLENBQUNDLE1BQU0sR0FBRyx1QkFBdUIsR0FBRyxnQ0FBZ0MsR0FBR0QsT0FBTyxDQUFDQyxNQUFNLENBQUM7UUFDN0YsT0FBT0QsT0FBTztNQUNsQixDQUFDLENBQUM7TUFDRixJQUFJRSxHQUFHLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDLEdBQUdmLE9BQU8sQ0FBQ08sUUFBUSxDQUFDQyxNQUFNLENBQUMsQ0FBQztNQUM5REgsVUFBVSxHQUFHQyxRQUFRLENBQUNNLEdBQUcsQ0FBQyxDQUFDRCxNQUFNO0lBQ3JDO0lBRUEsT0FBTztNQUNISyxHQUFHLEVBQUVoQixPQUFPLENBQUNnQixHQUFHO01BQ2hCQyxLQUFLLEVBQUVqQixPQUFPLENBQUNpQixLQUFLO01BQ3BCQyxJQUFJLEVBQUVsQixPQUFPLENBQUNrQixJQUFJO01BQ2xCQyxHQUFHLEVBQUVuQixPQUFPLENBQUNtQixHQUFHO01BQ2hCUixNQUFNLEVBQUUsd0JBQXdCLEdBQUcsK0JBQStCLEdBQUdYLE9BQU8sQ0FBQ29CLE9BQU87TUFDcEZDLFNBQVMsRUFBRXJCLE9BQU8sQ0FBQ3FCLFNBQVM7TUFDNUJDLFdBQVcsRUFBRXRCLE9BQU8sQ0FBQ3NCLFdBQVc7TUFDaENDLFNBQVMsRUFBRXZCLE9BQU8sQ0FBQ3VCLFNBQVM7TUFDNUJDLEtBQUssRUFBRXhCLE9BQU8sQ0FBQ3dCLEtBQUs7TUFDcEJDLFdBQVcsRUFBRXpCLE9BQU8sQ0FBQ3lCLFdBQVc7TUFDaENDLE9BQU8sRUFBRTFCLE9BQU8sQ0FBQzBCLE9BQU87TUFDeEJDLElBQUksRUFBRTNCLE9BQU8sQ0FBQzJCLElBQUksR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUM3QixPQUFPLENBQUMyQixJQUFJLENBQUMsR0FBRyxFQUFFO01BQ2xERyxlQUFlLEVBQUU5QixPQUFPLENBQUM4QixlQUFlO01BQ3hDQyxLQUFLLEVBQUUvQixPQUFPLENBQUMrQixLQUFLO01BQ3BCOUIsVUFBVSxFQUFFQSxVQUFVO01BQ3RCK0IsVUFBVSxFQUFFM0IsVUFBVTtNQUN0QkUsUUFBUSxFQUFFRCxRQUFRO01BQ2xCSixVQUFVLEVBQUdBLFVBQVU7TUFDdkJDLFlBQVksRUFBR0EsWUFBWTtNQUMzQjhCLGlCQUFpQixFQUFDN0I7SUFDdEIsQ0FBQztFQUNMO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","CampaingDiscount","IMAGEN_TWO","GALERIAS","galerias","length","map","galeria","imagen","VAL","Math","floor","random","_id","title","slug","sku","portada","categorie","price_soles","price_usd","stock","descripcion","resumen","tags","JSON","parse","type_inventario","state","imagen_two","campaing_discount"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["Product.js"],"sourcesContent":["export default {\r\n    product_list: (product, variedades = [],avg_review = 0,count_review=0,CampaingDiscount = null) => {\r\n\r\n        var IMAGEN_TWO = \"\";\r\n        let GALERIAS = [];\r\n\r\n        if (product.galerias && product.galerias.length > 0) {//NUEVO POR AGREGAR\r\n            GALERIAS = product.galerias.map((galeria) => {\r\n                galeria.imagen = 'http://localhost:3000' + '/api/products/uploads/product/' + galeria.imagen;//*\r\n                return galeria;\r\n            });\r\n            var VAL = Math.floor(Math.random() * product.galerias.length);//0,1,2\r\n            IMAGEN_TWO = GALERIAS[VAL].imagen;\r\n        }\r\n\r\n        return {\r\n            _id: product._id,\r\n            title: product.title,\r\n            slug: product.slug,\r\n            sku: product.sku,\r\n            imagen: 'http://localhost:3000/' + 'api/products/uploads/product/' + product.portada,\r\n            categorie: product.categorie,\r\n            price_soles: product.price_soles,\r\n            price_usd: product.price_usd,\r\n            stock: product.stock,\r\n            descripcion: product.descripcion,\r\n            resumen: product.resumen,\r\n            tags: product.tags ? JSON.parse(product.tags) : [],\r\n            type_inventario: product.type_inventario,\r\n            state: product.state,\r\n            variedades: variedades,\r\n            imagen_two: IMAGEN_TWO,\r\n            galerias: GALERIAS,\r\n            avg_review : avg_review,\r\n            count_review : count_review,\r\n            campaing_discount:CampaingDiscount,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,EAACC,UAAU,GAAG,CAAC,EAACC,YAAY,GAAC,CAAC,EAACC,gBAAgB,GAAG,IAAI,KAAK;IAE9F,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAG,EAAE;IAEjB,IAAIN,OAAO,CAACO,QAAQ,IAAIP,OAAO,CAACO,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE;MAAC;MAClDF,QAAQ,GAAGN,OAAO,CAACO,QAAQ,CAACE,GAAG,CAAEC,OAAO,IAAK;QACzCA,OAAO,CAACC,MAAM,GAAG,uBAAuB,GAAG,gCAAgC,GAAGD,OAAO,CAACC,MAAM,CAAC;QAC7F,OAAOD,OAAO;MAClB,CAAC,CAAC;MACF,IAAIE,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGf,OAAO,CAACO,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC9DH,UAAU,GAAGC,QAAQ,CAACM,GAAG,CAAC,CAACD,MAAM;IACrC;IAEA,OAAO;MACHK,GAAG,EAAEhB,OAAO,CAACgB,GAAG;MAChBC,KAAK,EAAEjB,OAAO,CAACiB,KAAK;MACpBC,IAAI,EAAElB,OAAO,CAACkB,IAAI;MAClBC,GAAG,EAAEnB,OAAO,CAACmB,GAAG;MAChBR,MAAM,EAAE,wBAAwB,GAAG,+BAA+B,GAAGX,OAAO,CAACoB,OAAO;MACpFC,SAAS,EAAErB,OAAO,CAACqB,SAAS;MAC5BC,WAAW,EAAEtB,OAAO,CAACsB,WAAW;MAChCC,SAAS,EAAEvB,OAAO,CAACuB,SAAS;MAC5BC,KAAK,EAAExB,OAAO,CAACwB,KAAK;MACpBC,WAAW,EAAEzB,OAAO,CAACyB,WAAW;MAChCC,OAAO,EAAE1B,OAAO,CAAC0B,OAAO;MACxBC,IAAI,EAAE3B,OAAO,CAAC2B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAC7B,OAAO,CAAC2B,IAAI,CAAC,GAAG,EAAE;MAClDG,eAAe,EAAE9B,OAAO,CAAC8B,eAAe;MACxCC,KAAK,EAAE/B,OAAO,CAAC+B,KAAK;MACpB9B,UAAU,EAAEA,UAAU;MACtB+B,UAAU,EAAE3B,UAAU;MACtBE,QAAQ,EAAED,QAAQ;MAClBJ,UAAU,EAAGA,UAAU;MACvBC,YAAY,EAAGA,YAAY;MAC3B8B,iBAAiB,EAAC7B;IACtB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1751931169275},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaingDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = [];\n    if (product.galerias && product.galerias.length > 0) {\n      //NUEVO POR AGREGAR\n      GALERIAS = product.galerias.map(galeria => {\n        galeria.imagen = 'http://localhost:3000' + '/api/products/uploads/product/' + galeria.imagen; //*\n        return galeria;\n      });\n      var VAL = Math.floor(Math.random() * product.galerias.length); //0,1,2\n      IMAGEN_TWO = GALERIAS[VAL].imagen;\n    }\n    return {\n      _id: product._id,\n      title: product.title,\n      slug: product.slug,\n      sku: product.sku,\n      imagen: 'http://localhost:3000/' + 'api/products/uploads/product/' + product.portada,\n      categorie: product.categorie,\n      price_soles: product.price_soles,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      descripcion: product.descripcion,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaing_discount: CampaingDiscount\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJDYW1wYWluZ0Rpc2NvdW50IiwiSU1BR0VOX1RXTyIsIkdBTEVSSUFTIiwiZ2FsZXJpYXMiLCJsZW5ndGgiLCJtYXAiLCJnYWxlcmlhIiwiaW1hZ2VuIiwiVkFMIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2lkIiwidGl0bGUiLCJzbHVnIiwic2t1IiwicG9ydGFkYSIsImNhdGVnb3JpZSIsInByaWNlX3NvbGVzIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwY2lvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwic3RhdGUiLCJpbWFnZW5fdHdvIiwiY2FtcGFpbmdfZGlzY291bnQiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9kdWN0X2xpc3Q6IChwcm9kdWN0LCB2YXJpZWRhZGVzID0gW10sYXZnX3JldmlldyA9IDAsY291bnRfcmV2aWV3PTAsQ2FtcGFpbmdEaXNjb3VudCA9IG51bGwpID0+IHtcclxuXHJcbiAgICAgICAgdmFyIElNQUdFTl9UV08gPSBcIlwiO1xyXG4gICAgICAgIGxldCBHQUxFUklBUyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAocHJvZHVjdC5nYWxlcmlhcyAmJiBwcm9kdWN0LmdhbGVyaWFzLmxlbmd0aCA+IDApIHsvL05VRVZPIFBPUiBBR1JFR0FSXHJcbiAgICAgICAgICAgIEdBTEVSSUFTID0gcHJvZHVjdC5nYWxlcmlhcy5tYXAoKGdhbGVyaWEpID0+IHtcclxuICAgICAgICAgICAgICAgIGdhbGVyaWEuaW1hZ2VuID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcgKyAnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJyArIGdhbGVyaWEuaW1hZ2VuOy8vKlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhbGVyaWE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgVkFMID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcHJvZHVjdC5nYWxlcmlhcy5sZW5ndGgpOy8vMCwxLDJcclxuICAgICAgICAgICAgSU1BR0VOX1RXTyA9IEdBTEVSSUFTW1ZBTF0uaW1hZ2VuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBwcm9kdWN0Ll9pZCxcclxuICAgICAgICAgICAgdGl0bGU6IHByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcclxuICAgICAgICAgICAgc2t1OiBwcm9kdWN0LnNrdSxcclxuICAgICAgICAgICAgaW1hZ2VuOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwLycgKyAnYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nICsgcHJvZHVjdC5wb3J0YWRhLFxyXG4gICAgICAgICAgICBjYXRlZ29yaWU6IHByb2R1Y3QuY2F0ZWdvcmllLFxyXG4gICAgICAgICAgICBwcmljZV9zb2xlczogcHJvZHVjdC5wcmljZV9zb2xlcyxcclxuICAgICAgICAgICAgcHJpY2VfdXNkOiBwcm9kdWN0LnByaWNlX3VzZCxcclxuICAgICAgICAgICAgc3RvY2s6IHByb2R1Y3Quc3RvY2ssXHJcbiAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBwcm9kdWN0LmRlc2NyaXBjaW9uLFxyXG4gICAgICAgICAgICByZXN1bWVuOiBwcm9kdWN0LnJlc3VtZW4sXHJcbiAgICAgICAgICAgIHRhZ3M6IHByb2R1Y3QudGFncyA/IEpTT04ucGFyc2UocHJvZHVjdC50YWdzKSA6IFtdLFxyXG4gICAgICAgICAgICB0eXBlX2ludmVudGFyaW86IHByb2R1Y3QudHlwZV9pbnZlbnRhcmlvLFxyXG4gICAgICAgICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcclxuICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgaW1hZ2VuX3R3bzogSU1BR0VOX1RXTyxcclxuICAgICAgICAgICAgZ2FsZXJpYXM6IEdBTEVSSUFTLFxyXG4gICAgICAgICAgICBhdmdfcmV2aWV3IDogYXZnX3JldmlldyxcclxuICAgICAgICAgICAgY291bnRfcmV2aWV3IDogY291bnRfcmV2aWV3LFxyXG4gICAgICAgICAgICBjYW1wYWluZ19kaXNjb3VudDpDYW1wYWluZ0Rpc2NvdW50LFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFlBQVksRUFBRUEsQ0FBQ0MsT0FBTyxFQUFFQyxVQUFVLEdBQUcsRUFBRSxFQUFDQyxVQUFVLEdBQUcsQ0FBQyxFQUFDQyxZQUFZLEdBQUMsQ0FBQyxFQUFDQyxnQkFBZ0IsR0FBRyxJQUFJLEtBQUs7SUFFOUYsSUFBSUMsVUFBVSxHQUFHLEVBQUU7SUFDbkIsSUFBSUMsUUFBUSxHQUFHLEVBQUU7SUFFakIsSUFBSU4sT0FBTyxDQUFDTyxRQUFRLElBQUlQLE9BQU8sQ0FBQ08sUUFBUSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQUM7TUFDbERGLFFBQVEsR0FBR04sT0FBTyxDQUFDTyxRQUFRLENBQUNFLEdBQUcsQ0FBRUMsT0FBTyxJQUFLO1FBQ3pDQSxPQUFPLENBQUNDLE1BQU0sR0FBRyx1QkFBdUIsR0FBRyxnQ0FBZ0MsR0FBR0QsT0FBTyxDQUFDQyxNQUFNLENBQUM7UUFDN0YsT0FBT0QsT0FBTztNQUNsQixDQUFDLENBQUM7TUFDRixJQUFJRSxHQUFHLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDLEdBQUdmLE9BQU8sQ0FBQ08sUUFBUSxDQUFDQyxNQUFNLENBQUMsQ0FBQztNQUM5REgsVUFBVSxHQUFHQyxRQUFRLENBQUNNLEdBQUcsQ0FBQyxDQUFDRCxNQUFNO0lBQ3JDO0lBRUEsT0FBTztNQUNISyxHQUFHLEVBQUVoQixPQUFPLENBQUNnQixHQUFHO01BQ2hCQyxLQUFLLEVBQUVqQixPQUFPLENBQUNpQixLQUFLO01BQ3BCQyxJQUFJLEVBQUVsQixPQUFPLENBQUNrQixJQUFJO01BQ2xCQyxHQUFHLEVBQUVuQixPQUFPLENBQUNtQixHQUFHO01BQ2hCUixNQUFNLEVBQUUsd0JBQXdCLEdBQUcsK0JBQStCLEdBQUdYLE9BQU8sQ0FBQ29CLE9BQU87TUFDcEZDLFNBQVMsRUFBRXJCLE9BQU8sQ0FBQ3FCLFNBQVM7TUFDNUJDLFdBQVcsRUFBRXRCLE9BQU8sQ0FBQ3NCLFdBQVc7TUFDaENDLFNBQVMsRUFBRXZCLE9BQU8sQ0FBQ3VCLFNBQVM7TUFDNUJDLEtBQUssRUFBRXhCLE9BQU8sQ0FBQ3dCLEtBQUs7TUFDcEJDLFdBQVcsRUFBRXpCLE9BQU8sQ0FBQ3lCLFdBQVc7TUFDaENDLE9BQU8sRUFBRTFCLE9BQU8sQ0FBQzBCLE9BQU87TUFDeEJDLElBQUksRUFBRTNCLE9BQU8sQ0FBQzJCLElBQUksR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUM3QixPQUFPLENBQUMyQixJQUFJLENBQUMsR0FBRyxFQUFFO01BQ2xERyxlQUFlLEVBQUU5QixPQUFPLENBQUM4QixlQUFlO01BQ3hDQyxLQUFLLEVBQUUvQixPQUFPLENBQUMrQixLQUFLO01BQ3BCOUIsVUFBVSxFQUFFQSxVQUFVO01BQ3RCK0IsVUFBVSxFQUFFM0IsVUFBVTtNQUN0QkUsUUFBUSxFQUFFRCxRQUFRO01BQ2xCSixVQUFVLEVBQUdBLFVBQVU7TUFDdkJDLFlBQVksRUFBR0EsWUFBWTtNQUMzQjhCLGlCQUFpQixFQUFDN0I7SUFDdEIsQ0FBQztFQUNMO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","CampaingDiscount","IMAGEN_TWO","GALERIAS","galerias","length","map","galeria","imagen","VAL","Math","floor","random","_id","title","slug","sku","portada","categorie","price_soles","price_usd","stock","descripcion","resumen","tags","JSON","parse","type_inventario","state","imagen_two","campaing_discount"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["Product.js"],"sourcesContent":["export default {\r\n    product_list: (product, variedades = [],avg_review = 0,count_review=0,CampaingDiscount = null) => {\r\n\r\n        var IMAGEN_TWO = \"\";\r\n        let GALERIAS = [];\r\n\r\n        if (product.galerias && product.galerias.length > 0) {//NUEVO POR AGREGAR\r\n            GALERIAS = product.galerias.map((galeria) => {\r\n                galeria.imagen = 'http://localhost:3000' + '/api/products/uploads/product/' + galeria.imagen;//*\r\n                return galeria;\r\n            });\r\n            var VAL = Math.floor(Math.random() * product.galerias.length);//0,1,2\r\n            IMAGEN_TWO = GALERIAS[VAL].imagen;\r\n        }\r\n\r\n        return {\r\n            _id: product._id,\r\n            title: product.title,\r\n            slug: product.slug,\r\n            sku: product.sku,\r\n            imagen: 'http://localhost:3000/' + 'api/products/uploads/product/' + product.portada,\r\n            categorie: product.categorie,\r\n            price_soles: product.price_soles,\r\n            price_usd: product.price_usd,\r\n            stock: product.stock,\r\n            descripcion: product.descripcion,\r\n            resumen: product.resumen,\r\n            tags: product.tags ? JSON.parse(product.tags) : [],\r\n            type_inventario: product.type_inventario,\r\n            state: product.state,\r\n            variedades: variedades,\r\n            imagen_two: IMAGEN_TWO,\r\n            galerias: GALERIAS,\r\n            avg_review : avg_review,\r\n            count_review : count_review,\r\n            campaing_discount:CampaingDiscount,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,EAACC,UAAU,GAAG,CAAC,EAACC,YAAY,GAAC,CAAC,EAACC,gBAAgB,GAAG,IAAI,KAAK;IAE9F,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAG,EAAE;IAEjB,IAAIN,OAAO,CAACO,QAAQ,IAAIP,OAAO,CAACO,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE;MAAC;MAClDF,QAAQ,GAAGN,OAAO,CAACO,QAAQ,CAACE,GAAG,CAAEC,OAAO,IAAK;QACzCA,OAAO,CAACC,MAAM,GAAG,uBAAuB,GAAG,gCAAgC,GAAGD,OAAO,CAACC,MAAM,CAAC;QAC7F,OAAOD,OAAO;MAClB,CAAC,CAAC;MACF,IAAIE,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGf,OAAO,CAACO,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC9DH,UAAU,GAAGC,QAAQ,CAACM,GAAG,CAAC,CAACD,MAAM;IACrC;IAEA,OAAO;MACHK,GAAG,EAAEhB,OAAO,CAACgB,GAAG;MAChBC,KAAK,EAAEjB,OAAO,CAACiB,KAAK;MACpBC,IAAI,EAAElB,OAAO,CAACkB,IAAI;MAClBC,GAAG,EAAEnB,OAAO,CAACmB,GAAG;MAChBR,MAAM,EAAE,wBAAwB,GAAG,+BAA+B,GAAGX,OAAO,CAACoB,OAAO;MACpFC,SAAS,EAAErB,OAAO,CAACqB,SAAS;MAC5BC,WAAW,EAAEtB,OAAO,CAACsB,WAAW;MAChCC,SAAS,EAAEvB,OAAO,CAACuB,SAAS;MAC5BC,KAAK,EAAExB,OAAO,CAACwB,KAAK;MACpBC,WAAW,EAAEzB,OAAO,CAACyB,WAAW;MAChCC,OAAO,EAAE1B,OAAO,CAAC0B,OAAO;MACxBC,IAAI,EAAE3B,OAAO,CAAC2B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAC7B,OAAO,CAAC2B,IAAI,CAAC,GAAG,EAAE;MAClDG,eAAe,EAAE9B,OAAO,CAAC8B,eAAe;MACxCC,KAAK,EAAE/B,OAAO,CAAC+B,KAAK;MACpB9B,UAAU,EAAEA,UAAU;MACtB+B,UAAU,EAAE3B,UAAU;MACtBE,QAAQ,EAAED,QAAQ;MAClBJ,UAAU,EAAGA,UAAU;MACvBC,YAAY,EAAGA,YAAY;MAC3B8B,iBAAiB,EAAC7B;IACtB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1751931169275},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/user/\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _auth.default.verifyAdmin, _ProductController.default.show);\n\n//VARIEDAD\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9hdXRoIiwiX2Nvbm5lY3RNdWx0aXBhcnR5IiwiX1ZhcmllZGFkQ29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicGF0aCIsIm11bHRpcGFydHkiLCJ1cGxvYWREaXIiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsInByb2R1Y3RDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJyZWdpc3Rlcl9pbWFnZW4iLCJyZW1vdmVfaW1hZ2VuIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwic2hvdyIsIlZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBwcm9kdWN0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Qcm9kdWN0Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuaW1wb3J0IG11bHRpcGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5JztcclxuaW1wb3J0IFZhcmllZGFkQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9WYXJpZWRhZENvbnRyb2xsZXInO1xyXG5cclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6Jy4vdXBsb2Fkcy9wcm9kdWN0J30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2VyL1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGggXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfaW1hZ2VuXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoIF0sIHByb2R1Y3RDb250cm9sbGVyLnJlZ2lzdGVyX2ltYWdlbik7XHJcbnJvdXRlci5wb3N0KFwiL3JlbW92ZV9pbWFnZW5cIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGggXSwgcHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlX2ltYWdlbik7XHJcblxyXG5cclxucm91dGVyLnB1dChcIi91cGRhdGVcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGggXSwgcHJvZHVjdENvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixwcm9kdWN0Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgcHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKVxyXG5cclxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLHByb2R1Y3RDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvc2hvdy86aWRcIixhdXRoLnZlcmlmeUFkbWluLHByb2R1Y3RDb250cm9sbGVyLnNob3cpO1xyXG5cclxuLy9WQVJJRURBRFxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci12YXJpZWRhZFwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aCBdLCBWYXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS12YXJpZWRhZFwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aCBdLCBWYXJpZWRhZENvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtdmFyaWVkYWQvOmlkXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoIF0sIFZhcmllZGFkQ29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLG1CQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBbUUsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFbkUsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQW1CLENBQUMsQ0FBQztBQUN0RCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUUsRUFBRVEsMEJBQWlCLENBQUNDLFFBQVEsQ0FBQztBQUUvRU4sTUFBTSxDQUFDRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBRSxFQUFFUSwwQkFBaUIsQ0FBQ0UsZUFBZSxDQUFDO0FBQzdGUCxNQUFNLENBQUNFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLDBCQUFpQixDQUFDRyxhQUFhLENBQUM7QUFHekZSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLDBCQUFpQixDQUFDSyxNQUFNLENBQUM7QUFDMUVWLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLE9BQU8sRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDTyxJQUFJLENBQUM7QUFDM0RaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBRVYsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDBCQUFpQixDQUFDUyxNQUFNLENBQUM7QUFFcEVkLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLHVCQUF1QixFQUFDTiwwQkFBaUIsQ0FBQ1UsY0FBYyxDQUFDO0FBRXBFZixNQUFNLENBQUNXLEdBQUcsQ0FBQyxXQUFXLEVBQUNSLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQywwQkFBaUIsQ0FBQ1csSUFBSSxDQUFDOztBQUUvRDtBQUNBaEIsTUFBTSxDQUFDRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBRSxFQUFFb0IsMkJBQWtCLENBQUNYLFFBQVEsQ0FBQztBQUN6Rk4sTUFBTSxDQUFDUyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBRSxFQUFFb0IsMkJBQWtCLENBQUNQLE1BQU0sQ0FBQztBQUNwRlYsTUFBTSxDQUFDYSxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBRSxFQUFFb0IsMkJBQWtCLENBQUNKLE1BQU0sQ0FBQztBQUFDLElBQUFLLFFBQUEsR0FBQUMsT0FBQSxDQUFBdkIsT0FBQSxHQUs3RUksTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_auth","_connectMultiparty","_VariedadController","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","VariedadController","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Product.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport productController from '../controllers/ProductController'\r\nimport auth from '../middlewares/auth'\r\nimport multiparty from 'connect-multiparty';\r\nimport VariedadController from '../controllers/VariedadController';\r\n\r\nvar path = multiparty({uploadDir:'./uploads/product'})\r\nconst router = routerx();\r\n\r\n//http://localhost:3000/api/user/\r\n\r\nrouter.post(\"/register\", [auth.verifyAdmin, path ], productController.register);\r\n\r\nrouter.post(\"/register_imagen\", [auth.verifyAdmin, path ], productController.register_imagen);\r\nrouter.post(\"/remove_imagen\", [auth.verifyAdmin, path ], productController.remove_imagen);\r\n\r\n\r\nrouter.put(\"/update\", [auth.verifyAdmin, path ], productController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\r\nrouter.delete(\"/delete\", auth.verifyAdmin, productController.remove)\r\n\r\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\r\n\r\nrouter.get(\"/show/:id\",auth.verifyAdmin,productController.show);\r\n\r\n//VARIEDAD\r\nrouter.post(\"/register-variedad\", [auth.verifyAdmin, path ], VariedadController.register);\r\nrouter.put(\"/update-variedad\", [auth.verifyAdmin, path ], VariedadController.update);\r\nrouter.delete(\"/delete-variedad/:id\", [auth.verifyAdmin, path ], VariedadController.delete);\r\n\r\n\r\n\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,mBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAmE,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnE,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAmB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,0BAAiB,CAACC,QAAQ,CAAC;AAE/EN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,0BAAiB,CAACE,eAAe,CAAC;AAC7FP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,0BAAiB,CAACG,aAAa,CAAC;AAGzFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAE,CAACN,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,0BAAiB,CAACK,MAAM,CAAC;AAC1EV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAAEV,aAAI,CAACC,WAAW,EAAEC,0BAAiB,CAACS,MAAM,CAAC;AAEpEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpEf,MAAM,CAACW,GAAG,CAAC,WAAW,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACW,IAAI,CAAC;;AAE/D;AACAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEoB,2BAAkB,CAACX,QAAQ,CAAC;AACzFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAE,CAACN,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEoB,2BAAkB,CAACP,MAAM,CAAC;AACpFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAE,CAACV,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEoB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAK7EI,MAAM","ignoreList":[]}},"mtime":1718838585507},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = require(\"mongoose\");\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categorie\");\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: 'EL PRODUCTO SE REGISTRO CON ÉXITO'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 'EL PRODUCTO SE ACTUALIZO CON ÉXITO'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": new RegExp(req.query.search, 'i')\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      let query = filter.length > 0 ? {\n        $and: filter\n      } : {};\n      let products = await _models.default.Product.find(query).populate('categorie');\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      console.error('Error retrieving products:', error);\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 'EL PRODUCTO SE ELIMINO CORRECTAMENTE'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('\\\\');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: 'LA IMAGEN SE SUBIO PERFECTAMENTE',\n        imagen: {\n          imagen: 'http://localhost:3000/' + 'api/products//uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: 'LA IMAGEN SE ELIMINO PERFECTAMENTE'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJyZXF1aXJlIiwiX21vZGVscyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInNob3ciLCJyZXEiLCJyZXMiLCJwcm9kdWN0X2lkIiwicGFyYW1zIiwiaWQiLCJQUk9EVUNUIiwibW9kZWxzIiwiUHJvZHVjdCIsImZpbmRCeUlkIiwiX2lkIiwicG9wdWxhdGUiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJmaW5kIiwicHJvZHVjdCIsInN0YXR1cyIsImpzb24iLCJyZXNvdXJjZXMiLCJwcm9kdWN0X2xpc3QiLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwicmVnaXN0ZXIiLCJkYXRhIiwiYm9keSIsInZhbGlkX1Byb2R1Y3QiLCJmaW5kT25lIiwidGl0bGUiLCJjb2RlIiwic2x1ZyIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJpbWFnZW4iLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwicG9ydGFkYSIsImNyZWF0ZSIsInVwZGF0ZSIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwibGlzdCIsImZpbHRlciIsInF1ZXJ5Iiwic2VhcmNoIiwicHVzaCIsIlJlZ0V4cCIsImNhdGVnb3JpZSIsImxlbmd0aCIsIiRhbmQiLCJwcm9kdWN0cyIsIm1hcCIsImNvbnNvbGUiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJsb2ciLCJyZWdpc3Rlcl9pbWFnZW4iLCJpbWFnZW5fbmFtZSIsIiRwdXNoIiwiZ2FsZXJpYXMiLCJfX2lkIiwicmVtb3ZlX2ltYWdlbiIsIiRwdWxsIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJQcm9kdWN0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtb2RlbCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZXMgZnJvbSAnLi9yZXNvdXJjZXMnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHJcbiAgICBzaG93OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb2R1Y3RfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBsZXQgUFJPRFVDVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHsgX2lkOiBwcm9kdWN0X2lkIH0pLnBvcHVsYXRlKFwiY2F0ZWdvcmllXCIpXHJcblxyXG4gICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHsgcHJvZHVjdDogcHJvZHVjdF9pZCB9KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0OiByZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUFJPRFVDVCwgVkFSSUVEQURFUyksXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7IHRpdGxlOiBkYXRhLnRpdGxlIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbGlkX1Byb2R1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFBST0RVQ1RPIFlBIEVYSVNURSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJy0nKS5yZXBsYWNlKC9bXlxcdy1dKy9nLCAnJyk7XHJcbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuY3JlYXRlKGRhdGEpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgUFJPRFVDVE8gU0UgUkVHSVNUUk8gQ09OIMOJWElUTydcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIHVwZGF0ZTogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgbGV0IHZhbGlkX1Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHsgdGl0bGU6IGRhdGEudGl0bGUsIF9pZDogeyAkbmU6IGRhdGEuX2lkIH0gfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsaWRfUHJvZHVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgUFJPRFVDVE8gWUEgRVhJU1RFJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIGRhdGEuc2x1ZyA9IGRhdGEudGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICctJykucmVwbGFjZSgvW15cXHctXSsvZywgJycpO1xyXG4gICAgICAgICAgICBpZiAocmVxLmZpbGVzICYmIHJlcS5maWxlcy5pbWFnZW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiBkYXRhLl9pZCB9LCBkYXRhKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFBST0RVQ1RPIFNFIEFDVFVBTElaTyBDT04gw4lYSVRPJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSlcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG5cclxuICAgIGxpc3Q6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBbXTtcclxuICAgICAgICAgICAgaWYgKHJlcS5xdWVyeS5zZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlci5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHsgXCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHJlcS5xdWVyeS5zZWFyY2gsICdpJykgfSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlcS5xdWVyeS5jYXRlZ29yaWUpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlci5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHsgXCJjYXRlZ29yaWVcIjogcmVxLnF1ZXJ5LmNhdGVnb3JpZSB9LFxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBxdWVyeSA9IGZpbHRlci5sZW5ndGggPiAwID8geyAkYW5kOiBmaWx0ZXIgfSA6IHt9O1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHF1ZXJ5KS5wb3B1bGF0ZSgnY2F0ZWdvcmllJyk7XHJcbiAgICAgICAgICAgIHByb2R1Y3RzID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogcHJvZHVjdHNcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmV0cmlldmluZyBwcm9kdWN0czonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZERlbGV0ZSh7IF9pZDogX2lkIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdFTCBQUk9EVUNUTyBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEUnIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9idGVuZXJfaW1hZ2VuOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9wcm9kdWN0LycgKyBpbWcsIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycgKyBpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL2RlZmF1bHQuanBnJztcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlZ2lzdGVyX2ltYWdlbjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2VuX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiByZXEuYm9keS5faWQgfSwge1xyXG4gICAgICAgICAgICAgICAgJHB1c2g6IHtcclxuICAgICAgICAgICAgICAgICAgICBnYWxlcmlhczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZW46IGltYWdlbl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdMQSBJTUFHRU4gU0UgU1VCSU8gUEVSRkVDVEFNRU5URScsXHJcbiAgICAgICAgICAgICAgICBpbWFnZW46IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJyArICdhcGkvcHJvZHVjdHMvL3VwbG9hZHMvcHJvZHVjdC8nICsgaW1hZ2VuX25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlbW92ZV9pbWFnZW46IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7IF9pZDogcmVxLmJvZHkuX2lkIH0sIHtcclxuICAgICAgICAgICAgICAgICRwdWxsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTEEgSU1BR0VOIFNFIEVMSU1JTk8gUEVSRkVDVEFNRU5URSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFJLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFLLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUYsT0FBQTtBQUF1QixTQUFBRSx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElB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","map":{"version":3,"names":["_mongoose","require","_models","_interopRequireDefault","_resources","_fs","_path","obj","__esModule","default","_default","exports","show","req","res","product_id","params","id","PRODUCT","models","Product","findById","_id","populate","VARIEDADES","Variedad","find","product","status","json","resources","product_list","error","send","message","register","data","body","valid_Product","findOne","title","code","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","create","update","$ne","findByIdAndUpdate","list","filter","query","search","push","RegExp","categorie","length","$and","products","map","console","remove","findByIdAndDelete","obtener_imagen","img","fs","stat","err","path_img","sendFile","resolve","log","register_imagen","imagen_name","$push","galerias","__id","remove_imagen","$pull"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["ProductController.js"],"sourcesContent":["import { model } from 'mongoose';\r\nimport models from '../models'\r\nimport resources from './resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\nexport default {\r\n\r\n    show: async (req, res) => {\r\n        try {\r\n\r\n            var product_id = req.params.id;\r\n            let PRODUCT = await models.Product.findById({ _id: product_id }).populate(\"categorie\")\r\n\r\n            let VARIEDADES = await models.Variedad.find({ product: product_id })\r\n            res.status(200).json({\r\n                product: resources.Product.product_list(PRODUCT, VARIEDADES),\r\n            })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n    },\r\n\r\n    register: async (req, res) => {\r\n        try {\r\n\r\n            let data = req.body;\r\n            let valid_Product = await models.Product.findOne({ title: data.title });\r\n\r\n            if (valid_Product) {\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return;\r\n            }\r\n\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\r\n            if (req.files) {\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name\r\n            }\r\n\r\n            let product = await models.Product.create(data);\r\n            res.status(200).json({\r\n                message: 'EL PRODUCTO SE REGISTRO CON ÉXITO'\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n    },\r\n\r\n\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            let valid_Product = await models.Product.findOne({ title: data.title, _id: { $ne: data._id } });\r\n\r\n            if (valid_Product) {\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return\r\n            }\r\n\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\r\n            if (req.files && req.files.imagen) {\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name\r\n            }\r\n\r\n            await models.Product.findByIdAndUpdate({ _id: data._id }, data);\r\n            res.status(200).json({\r\n                message: 'EL PRODUCTO SE ACTUALIZO CON ÉXITO'\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n    },\r\n\r\n\r\n\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            var filter = [];\r\n            if (req.query.search) {\r\n                filter.push(\r\n                    { \"title\": new RegExp(req.query.search, 'i') },\r\n                );\r\n            }\r\n            if (req.query.categorie) {\r\n                filter.push(\r\n                    { \"categorie\": req.query.categorie },\r\n                );\r\n\r\n            }\r\n\r\n            let query = filter.length > 0 ? { $and: filter } : {};\r\n            let products = await models.Product.find(query).populate('categorie');\r\n            products = products.map(product => {\r\n                return resources.Product.product_list(product);\r\n            });\r\n\r\n            res.status(200).json({\r\n                products: products\r\n            })\r\n\r\n        } catch (error) {\r\n            console.error('Error retrieving products:', error);\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n\r\n    },\r\n    remove: async (req, res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n            await models.Product.findByIdAndDelete({ _id: _id });\r\n            res.status(200).json({ message: 'EL PRODUCTO SE ELIMINO CORRECTAMENTE' })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n    },\r\n    obtener_imagen: async (req, res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n            fs.stat('./uploads/product/' + img, function (err) {\r\n                if (!err) {\r\n                    let path_img = './uploads/product/' + img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                } else {\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    register_imagen: async (req, res) => {\r\n        try {\r\n\r\n            var img_path = req.files.imagen.path;\r\n            var name = img_path.split('\\\\');\r\n            var imagen_name = name[2];\r\n            let product = await models.Product.findByIdAndUpdate({ _id: req.body._id }, {\r\n                $push: {\r\n                    galerias: {\r\n                        imagen: imagen_name,\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: 'LA IMAGEN SE SUBIO PERFECTAMENTE',\r\n                imagen: {\r\n                    imagen: 'http://localhost:3000/' + 'api/products//uploads/product/' + imagen_name,\r\n                    _id: req.body.__id\r\n                }\r\n            })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    remove_imagen: async (req, res) => {\r\n        try {\r\n\r\n            await models.Product.findByIdAndUpdate({ _id: req.body._id }, {\r\n                $pull: {\r\n                    galerias: {\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: 'LA IMAGEN SE ELIMINO PERFECTAMENTE'\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1751931169274},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/user/\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _auth.default.verifyAdmin, _ProductController.default.show);\n\n//VARIEDAD\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9hdXRoIiwiX2Nvbm5lY3RNdWx0aXBhcnR5IiwiX1ZhcmllZGFkQ29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicGF0aCIsIm11bHRpcGFydHkiLCJ1cGxvYWREaXIiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsInByb2R1Y3RDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJyZWdpc3Rlcl9pbWFnZW4iLCJyZW1vdmVfaW1hZ2VuIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwic2hvdyIsIlZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBwcm9kdWN0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Qcm9kdWN0Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuaW1wb3J0IG11bHRpcGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5JztcclxuaW1wb3J0IFZhcmllZGFkQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9WYXJpZWRhZENvbnRyb2xsZXInO1xyXG5cclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6Jy4vdXBsb2Fkcy9wcm9kdWN0J30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2VyL1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGggXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfaW1hZ2VuXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoIF0sIHByb2R1Y3RDb250cm9sbGVyLnJlZ2lzdGVyX2ltYWdlbik7XHJcbnJvdXRlci5wb3N0KFwiL3JlbW92ZV9pbWFnZW5cIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGggXSwgcHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlX2ltYWdlbik7XHJcblxyXG5cclxucm91dGVyLnB1dChcIi91cGRhdGVcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGggXSwgcHJvZHVjdENvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixwcm9kdWN0Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgcHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKVxyXG5cclxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLHByb2R1Y3RDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvc2hvdy86aWRcIixhdXRoLnZlcmlmeUFkbWluLHByb2R1Y3RDb250cm9sbGVyLnNob3cpO1xyXG5cclxuLy9WQVJJRURBRFxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci12YXJpZWRhZFwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aCBdLCBWYXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS12YXJpZWRhZFwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aCBdLCBWYXJpZWRhZENvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtdmFyaWVkYWQvOmlkXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoIF0sIFZhcmllZGFkQ29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLG1CQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBbUUsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFbkUsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQW1CLENBQUMsQ0FBQztBQUN0RCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUUsRUFBRVEsMEJBQWlCLENBQUNDLFFBQVEsQ0FBQztBQUUvRU4sTUFBTSxDQUFDRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBRSxFQUFFUSwwQkFBaUIsQ0FBQ0UsZUFBZSxDQUFDO0FBQzdGUCxNQUFNLENBQUNFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLDBCQUFpQixDQUFDRyxhQUFhLENBQUM7QUFHekZSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLDBCQUFpQixDQUFDSyxNQUFNLENBQUM7QUFDMUVWLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLE9BQU8sRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDTyxJQUFJLENBQUM7QUFDM0RaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBRVYsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDBCQUFpQixDQUFDUyxNQUFNLENBQUM7QUFFcEVkLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLHVCQUF1QixFQUFDTiwwQkFBaUIsQ0FBQ1UsY0FBYyxDQUFDO0FBRXBFZixNQUFNLENBQUNXLEdBQUcsQ0FBQyxXQUFXLEVBQUNSLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQywwQkFBaUIsQ0FBQ1csSUFBSSxDQUFDOztBQUUvRDtBQUNBaEIsTUFBTSxDQUFDRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBRSxFQUFFb0IsMkJBQWtCLENBQUNYLFFBQVEsQ0FBQztBQUN6Rk4sTUFBTSxDQUFDUyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBRSxFQUFFb0IsMkJBQWtCLENBQUNQLE1BQU0sQ0FBQztBQUNwRlYsTUFBTSxDQUFDYSxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBRSxFQUFFb0IsMkJBQWtCLENBQUNKLE1BQU0sQ0FBQztBQUFDLElBQUFLLFFBQUEsR0FBQUMsT0FBQSxDQUFBdkIsT0FBQSxHQUs3RUksTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_auth","_connectMultiparty","_VariedadController","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","VariedadController","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Product.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport productController from '../controllers/ProductController'\r\nimport auth from '../middlewares/auth'\r\nimport multiparty from 'connect-multiparty';\r\nimport VariedadController from '../controllers/VariedadController';\r\n\r\nvar path = multiparty({uploadDir:'./uploads/product'})\r\nconst router = routerx();\r\n\r\n//http://localhost:3000/api/user/\r\n\r\nrouter.post(\"/register\", [auth.verifyAdmin, path ], productController.register);\r\n\r\nrouter.post(\"/register_imagen\", [auth.verifyAdmin, path ], productController.register_imagen);\r\nrouter.post(\"/remove_imagen\", [auth.verifyAdmin, path ], productController.remove_imagen);\r\n\r\n\r\nrouter.put(\"/update\", [auth.verifyAdmin, path ], productController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\r\nrouter.delete(\"/delete\", auth.verifyAdmin, productController.remove)\r\n\r\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\r\n\r\nrouter.get(\"/show/:id\",auth.verifyAdmin,productController.show);\r\n\r\n//VARIEDAD\r\nrouter.post(\"/register-variedad\", [auth.verifyAdmin, path ], VariedadController.register);\r\nrouter.put(\"/update-variedad\", [auth.verifyAdmin, path ], VariedadController.update);\r\nrouter.delete(\"/delete-variedad/:id\", [auth.verifyAdmin, path ], VariedadController.delete);\r\n\r\n\r\n\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,mBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAmE,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEnE,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAmB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,0BAAiB,CAACC,QAAQ,CAAC;AAE/EN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,0BAAiB,CAACE,eAAe,CAAC;AAC7FP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,0BAAiB,CAACG,aAAa,CAAC;AAGzFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAE,CAACN,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,0BAAiB,CAACK,MAAM,CAAC;AAC1EV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAAEV,aAAI,CAACC,WAAW,EAAEC,0BAAiB,CAACS,MAAM,CAAC;AAEpEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpEf,MAAM,CAACW,GAAG,CAAC,WAAW,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACW,IAAI,CAAC;;AAE/D;AACAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEoB,2BAAkB,CAACX,QAAQ,CAAC;AACzFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAE,CAACN,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEoB,2BAAkB,CAACP,MAAM,CAAC;AACpFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAE,CAACV,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEoB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAK7EI,MAAM","ignoreList":[]}},"mtime":1718838585507},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = require(\"mongoose\");\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categorie\");\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: 'EL PRODUCTO SE REGISTRO CON ÉXITO'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: 'EL PRODUCTO YA EXISTE'\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 'EL PRODUCTO SE ACTUALIZO CON ÉXITO'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": new RegExp(req.query.search, 'i')\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      let query = filter.length > 0 ? {\n        $and: filter\n      } : {};\n      let products = await _models.default.Product.find(query).populate('categorie');\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      console.error('Error retrieving products:', error);\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 'EL PRODUCTO SE ELIMINO CORRECTAMENTE'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('\\\\');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: 'LA IMAGEN SE SUBIO PERFECTAMENTE',\n        imagen: {\n          imagen: 'http://localhost:3000/' + 'api/products//uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: 'LA IMAGEN SE ELIMINO PERFECTAMENTE'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJyZXF1aXJlIiwiX21vZGVscyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInNob3ciLCJyZXEiLCJyZXMiLCJwcm9kdWN0X2lkIiwicGFyYW1zIiwiaWQiLCJQUk9EVUNUIiwibW9kZWxzIiwiUHJvZHVjdCIsImZpbmRCeUlkIiwiX2lkIiwicG9wdWxhdGUiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJmaW5kIiwicHJvZHVjdCIsInN0YXR1cyIsImpzb24iLCJyZXNvdXJjZXMiLCJwcm9kdWN0X2xpc3QiLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwicmVnaXN0ZXIiLCJkYXRhIiwiYm9keSIsInZhbGlkX1Byb2R1Y3QiLCJmaW5kT25lIiwidGl0bGUiLCJjb2RlIiwic2x1ZyIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJpbWFnZW4iLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwicG9ydGFkYSIsImNyZWF0ZSIsInVwZGF0ZSIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwibGlzdCIsImZpbHRlciIsInF1ZXJ5Iiwic2VhcmNoIiwicHVzaCIsIlJlZ0V4cCIsImNhdGVnb3JpZSIsImxlbmd0aCIsIiRhbmQiLCJwcm9kdWN0cyIsIm1hcCIsImNvbnNvbGUiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJsb2ciLCJyZWdpc3Rlcl9pbWFnZW4iLCJpbWFnZW5fbmFtZSIsIiRwdXNoIiwiZ2FsZXJpYXMiLCJfX2lkIiwicmVtb3ZlX2ltYWdlbiIsIiRwdWxsIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJQcm9kdWN0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtb2RlbCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZXMgZnJvbSAnLi9yZXNvdXJjZXMnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuXHJcbiAgICBzaG93OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHByb2R1Y3RfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBsZXQgUFJPRFVDVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHsgX2lkOiBwcm9kdWN0X2lkIH0pLnBvcHVsYXRlKFwiY2F0ZWdvcmllXCIpXHJcblxyXG4gICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHsgcHJvZHVjdDogcHJvZHVjdF9pZCB9KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0OiByZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUFJPRFVDVCwgVkFSSUVEQURFUyksXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7IHRpdGxlOiBkYXRhLnRpdGxlIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbGlkX1Byb2R1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFBST0RVQ1RPIFlBIEVYSVNURSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJy0nKS5yZXBsYWNlKC9bXlxcdy1dKy9nLCAnJyk7XHJcbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuY3JlYXRlKGRhdGEpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgUFJPRFVDVE8gU0UgUkVHSVNUUk8gQ09OIMOJWElUTydcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG5cclxuICAgIHVwZGF0ZTogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgbGV0IHZhbGlkX1Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHsgdGl0bGU6IGRhdGEudGl0bGUsIF9pZDogeyAkbmU6IGRhdGEuX2lkIH0gfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsaWRfUHJvZHVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgUFJPRFVDVE8gWUEgRVhJU1RFJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIGRhdGEuc2x1ZyA9IGRhdGEudGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICctJykucmVwbGFjZSgvW15cXHctXSsvZywgJycpO1xyXG4gICAgICAgICAgICBpZiAocmVxLmZpbGVzICYmIHJlcS5maWxlcy5pbWFnZW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiBkYXRhLl9pZCB9LCBkYXRhKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VMIFBST0RVQ1RPIFNFIEFDVFVBTElaTyBDT04gw4lYSVRPJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSlcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG5cclxuICAgIGxpc3Q6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBbXTtcclxuICAgICAgICAgICAgaWYgKHJlcS5xdWVyeS5zZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlci5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHsgXCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHJlcS5xdWVyeS5zZWFyY2gsICdpJykgfSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlcS5xdWVyeS5jYXRlZ29yaWUpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlci5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHsgXCJjYXRlZ29yaWVcIjogcmVxLnF1ZXJ5LmNhdGVnb3JpZSB9LFxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBxdWVyeSA9IGZpbHRlci5sZW5ndGggPiAwID8geyAkYW5kOiBmaWx0ZXIgfSA6IHt9O1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHF1ZXJ5KS5wb3B1bGF0ZSgnY2F0ZWdvcmllJyk7XHJcbiAgICAgICAgICAgIHByb2R1Y3RzID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogcHJvZHVjdHNcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmV0cmlldmluZyBwcm9kdWN0czonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZERlbGV0ZSh7IF9pZDogX2lkIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdFTCBQUk9EVUNUTyBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEUnIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9idGVuZXJfaW1hZ2VuOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9wcm9kdWN0LycgKyBpbWcsIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycgKyBpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL2RlZmF1bHQuanBnJztcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlZ2lzdGVyX2ltYWdlbjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2VuX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiByZXEuYm9keS5faWQgfSwge1xyXG4gICAgICAgICAgICAgICAgJHB1c2g6IHtcclxuICAgICAgICAgICAgICAgICAgICBnYWxlcmlhczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZW46IGltYWdlbl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdMQSBJTUFHRU4gU0UgU1VCSU8gUEVSRkVDVEFNRU5URScsXHJcbiAgICAgICAgICAgICAgICBpbWFnZW46IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJyArICdhcGkvcHJvZHVjdHMvL3VwbG9hZHMvcHJvZHVjdC8nICsgaW1hZ2VuX25hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlbW92ZV9pbWFnZW46IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7IF9pZDogcmVxLmJvZHkuX2lkIH0sIHtcclxuICAgICAgICAgICAgICAgICRwdWxsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTEEgSU1BR0VOIFNFIEVMSU1JTk8gUEVSRkVDVEFNRU5URSdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFJLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFLLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUYsT0FBQTtBQUF1QixTQUFBRSx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElB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","map":{"version":3,"names":["_mongoose","require","_models","_interopRequireDefault","_resources","_fs","_path","obj","__esModule","default","_default","exports","show","req","res","product_id","params","id","PRODUCT","models","Product","findById","_id","populate","VARIEDADES","Variedad","find","product","status","json","resources","product_list","error","send","message","register","data","body","valid_Product","findOne","title","code","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","create","update","$ne","findByIdAndUpdate","list","filter","query","search","push","RegExp","categorie","length","$and","products","map","console","remove","findByIdAndDelete","obtener_imagen","img","fs","stat","err","path_img","sendFile","resolve","log","register_imagen","imagen_name","$push","galerias","__id","remove_imagen","$pull"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["ProductController.js"],"sourcesContent":["import { model } from 'mongoose';\r\nimport models from '../models'\r\nimport resources from './resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\nexport default {\r\n\r\n    show: async (req, res) => {\r\n        try {\r\n\r\n            var product_id = req.params.id;\r\n            let PRODUCT = await models.Product.findById({ _id: product_id }).populate(\"categorie\")\r\n\r\n            let VARIEDADES = await models.Variedad.find({ product: product_id })\r\n            res.status(200).json({\r\n                product: resources.Product.product_list(PRODUCT, VARIEDADES),\r\n            })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n    },\r\n\r\n    register: async (req, res) => {\r\n        try {\r\n\r\n            let data = req.body;\r\n            let valid_Product = await models.Product.findOne({ title: data.title });\r\n\r\n            if (valid_Product) {\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return;\r\n            }\r\n\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\r\n            if (req.files) {\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name\r\n            }\r\n\r\n            let product = await models.Product.create(data);\r\n            res.status(200).json({\r\n                message: 'EL PRODUCTO SE REGISTRO CON ÉXITO'\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n    },\r\n\r\n\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            let valid_Product = await models.Product.findOne({ title: data.title, _id: { $ne: data._id } });\r\n\r\n            if (valid_Product) {\r\n                res.status(200).json({\r\n                    code: 403,\r\n                    message: 'EL PRODUCTO YA EXISTE'\r\n                });\r\n                return\r\n            }\r\n\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\r\n            if (req.files && req.files.imagen) {\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                data.portada = portada_name\r\n            }\r\n\r\n            await models.Product.findByIdAndUpdate({ _id: data._id }, data);\r\n            res.status(200).json({\r\n                message: 'EL PRODUCTO SE ACTUALIZO CON ÉXITO'\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n    },\r\n\r\n\r\n\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            var filter = [];\r\n            if (req.query.search) {\r\n                filter.push(\r\n                    { \"title\": new RegExp(req.query.search, 'i') },\r\n                );\r\n            }\r\n            if (req.query.categorie) {\r\n                filter.push(\r\n                    { \"categorie\": req.query.categorie },\r\n                );\r\n\r\n            }\r\n\r\n            let query = filter.length > 0 ? { $and: filter } : {};\r\n            let products = await models.Product.find(query).populate('categorie');\r\n            products = products.map(product => {\r\n                return resources.Product.product_list(product);\r\n            });\r\n\r\n            res.status(200).json({\r\n                products: products\r\n            })\r\n\r\n        } catch (error) {\r\n            console.error('Error retrieving products:', error);\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n\r\n    },\r\n    remove: async (req, res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n            await models.Product.findByIdAndDelete({ _id: _id });\r\n            res.status(200).json({ message: 'EL PRODUCTO SE ELIMINO CORRECTAMENTE' })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n    },\r\n    obtener_imagen: async (req, res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n            fs.stat('./uploads/product/' + img, function (err) {\r\n                if (!err) {\r\n                    let path_img = './uploads/product/' + img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                } else {\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    register_imagen: async (req, res) => {\r\n        try {\r\n\r\n            var img_path = req.files.imagen.path;\r\n            var name = img_path.split('\\\\');\r\n            var imagen_name = name[2];\r\n            let product = await models.Product.findByIdAndUpdate({ _id: req.body._id }, {\r\n                $push: {\r\n                    galerias: {\r\n                        imagen: imagen_name,\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: 'LA IMAGEN SE SUBIO PERFECTAMENTE',\r\n                imagen: {\r\n                    imagen: 'http://localhost:3000/' + 'api/products//uploads/product/' + imagen_name,\r\n                    _id: req.body.__id\r\n                }\r\n            })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    remove_imagen: async (req, res) => {\r\n        try {\r\n\r\n            await models.Product.findByIdAndUpdate({ _id: req.body._id }, {\r\n                $pull: {\r\n                    galerias: {\r\n                        _id: req.body.__id\r\n                    }\r\n                }\r\n            })\r\n            res.status(200).json({\r\n                message: 'LA IMAGEN SE ELIMINO PERFECTAMENTE'\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1751931169274},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = require(\"express\");\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        variedad: 'SE ELMINO LA VARIEDAD'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsInJlcXVpcmUiLCJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsInZhcmllZGFkX2V4aXRzIiwibW9kZWxzIiwiVmFyaWVkYWQiLCJmaW5kT25lIiwidmFsb3IiLCJwcm9kdWN0IiwidmFyaWVkYWQiLCJzdG9jayIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiZmluZEJ5SWQiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJkZWxldGUiLCJwYXJhbXMiLCJpZCIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJWYXJpZWRhZENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganNvbiB9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoeyB2YWxvciA6IGRhdGEudmFsb3IgLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3QgfSk7XHJcbiAgICAgICAgICAgIHZhciB2YXJpZWRhZCA9IG51bGw7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodmFyaWVkYWRfZXhpdHMpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEuc3RvY2sgPSB2YXJpZWRhZF9leGl0cy5zdG9jayArIGRhdGEuc3RvY2s7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkIH0sIGRhdGEgKVxyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkIH0pXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuY3JlYXRlKGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHZhcmllZGFkIDogdmFyaWVkYWRcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGU6IGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xyXG4gICAgICAgICAgICBsZXQgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogZGF0YS5faWQgfSlcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQgOiB2YXJpZWRhZFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBkZWxldGU6IGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOl9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICB2YXJpZWRhZCA6ICdTRSBFTE1JTk8gTEEgVkFSSUVEQUQnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUErQixTQUFBRSx1QkFBQUMsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFB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","map":{"version":3,"names":["_express","require","_models","_interopRequireDefault","obj","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["VariedadController.js"],"sourcesContent":["import { json } from 'express';\r\nimport models from '../models';\r\n\r\n\r\nexport default {\r\n    register: async (req, res) =>{\r\n        try {\r\n            let data = req.body;\r\n            let variedad_exits = await models.Variedad.findOne({ valor : data.valor , product: data.product });\r\n            var variedad = null;\r\n            \r\n            if (variedad_exits) {\r\n                data.stock = variedad_exits.stock + data.stock;\r\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id }, data )\r\n                variedad = await models.Variedad.findById({_id: variedad_exits._id })\r\n            }else{\r\n                variedad = await models.Variedad.create(data);\r\n            }\r\n            res.status(200).json({\r\n                variedad : variedad\r\n            })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n\r\n    update: async (req, res) =>{\r\n        try {\r\n            let data = req.body;\r\n            await models.Variedad.findByIdAndUpdate({_id:data._id},data);\r\n            let variedad = await models.Variedad.findById({_id: data._id })\r\n            res.status(200).json({\r\n                variedad : variedad\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n    delete: async (req, res) =>{\r\n        try {\r\n            let _id = req.params.id;\r\n            await models.Variedad.findByIdAndDelete({_id:_id});\r\n            res.status(200).json({\r\n                variedad : 'SE ELMINO LA VARIEDAD'\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1718664041123},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = require(\"express\");\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        variedad: 'SE ELMINO LA VARIEDAD'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsInJlcXVpcmUiLCJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJkYXRhIiwiYm9keSIsInZhcmllZGFkX2V4aXRzIiwibW9kZWxzIiwiVmFyaWVkYWQiLCJmaW5kT25lIiwidmFsb3IiLCJwcm9kdWN0IiwidmFyaWVkYWQiLCJzdG9jayIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiZmluZEJ5SWQiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJkZWxldGUiLCJwYXJhbXMiLCJpZCIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJWYXJpZWRhZENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganNvbiB9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoeyB2YWxvciA6IGRhdGEudmFsb3IgLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3QgfSk7XHJcbiAgICAgICAgICAgIHZhciB2YXJpZWRhZCA9IG51bGw7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodmFyaWVkYWRfZXhpdHMpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEuc3RvY2sgPSB2YXJpZWRhZF9leGl0cy5zdG9jayArIGRhdGEuc3RvY2s7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkIH0sIGRhdGEgKVxyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkIH0pXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuY3JlYXRlKGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHZhcmllZGFkIDogdmFyaWVkYWRcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGU6IGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xyXG4gICAgICAgICAgICBsZXQgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogZGF0YS5faWQgfSlcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQgOiB2YXJpZWRhZFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBkZWxldGU6IGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOl9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICB2YXJpZWRhZCA6ICdTRSBFTE1JTk8gTEEgVkFSSUVEQUQnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUErQixTQUFBRSx1QkFBQUMsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFB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","map":{"version":3,"names":["_express","require","_models","_interopRequireDefault","obj","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["VariedadController.js"],"sourcesContent":["import { json } from 'express';\r\nimport models from '../models';\r\n\r\n\r\nexport default {\r\n    register: async (req, res) =>{\r\n        try {\r\n            let data = req.body;\r\n            let variedad_exits = await models.Variedad.findOne({ valor : data.valor , product: data.product });\r\n            var variedad = null;\r\n            \r\n            if (variedad_exits) {\r\n                data.stock = variedad_exits.stock + data.stock;\r\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id }, data )\r\n                variedad = await models.Variedad.findById({_id: variedad_exits._id })\r\n            }else{\r\n                variedad = await models.Variedad.create(data);\r\n            }\r\n            res.status(200).json({\r\n                variedad : variedad\r\n            })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n\r\n    update: async (req, res) =>{\r\n        try {\r\n            let data = req.body;\r\n            await models.Variedad.findByIdAndUpdate({_id:data._id},data);\r\n            let variedad = await models.Variedad.findById({_id: data._id })\r\n            res.status(200).json({\r\n                variedad : variedad\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n    delete: async (req, res) =>{\r\n        try {\r\n            let _id = req.params.id;\r\n            await models.Variedad.findByIdAndDelete({_id:_id});\r\n            res.status(200).json({\r\n                variedad : 'SE ELMINO LA VARIEDAD'\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1718664041123},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"sliders\", SliderSchema);\nvar _default = exports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJsaW5rIiwiaW1hZ2VuIiwic3RhdGUiLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiU2xpZGVyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgLCB7U2NoZW1hfSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IFNsaWRlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG5cclxuICAgIHRpdGxlOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIGxpbms6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgaW1hZ2VuOnsgdHlwZTogU3RyaW5nICwgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlIH0sXHJcbiAgICBzdGF0ZTogeyB0eXBlOiBOdW1iZXIgLCBtYXhsZW5ndGg6MiAsIGRlZmF1bHQ6MX1cclxuXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlXHJcbn1cclxuKTtcclxuXHJcbmNvbnN0IFNsaWRlciA9IG1vbmdvb3NlLm1vZGVsKFwic2xpZGVyc1wiLFNsaWRlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFNsaWRlcjtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUU1QkMsS0FBSyxFQUFFO0lBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUNuRDJCLElBQUksRUFBRTtJQUFDSCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDbEQ0QixNQUFNLEVBQUM7SUFBRUosSUFBSSxFQUFFQyxNQUFNO0lBQUdDLFNBQVMsRUFBQyxHQUFHO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ3JENkIsS0FBSyxFQUFFO0lBQUVMLElBQUksRUFBRU0sTUFBTTtJQUFHSixTQUFTLEVBQUMsQ0FBQztJQUFHbkIsT0FBTyxFQUFDO0VBQUM7QUFFbkQsQ0FBQyxFQUFDO0VBQ0V3QixVQUFVLEVBQUM7QUFDZixDQUNBLENBQUM7QUFFRCxNQUFNQyxNQUFNLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxTQUFTLEVBQUNiLFlBQVksQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBN0IsT0FBQSxHQUN2Q3lCLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SliderSchema","Schema","title","type","String","maxlength","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Slider.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst SliderSchema = new Schema({\r\n\r\n    title: {type: String, maxlength:250 ,require:true },\r\n    link: {type: String, maxlength:250 ,require:true },\r\n    imagen:{ type: String , maxlength:250, require:true },\r\n    state: { type: Number , maxlength:2 , default:1}\r\n\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst Slider = mongoose.model(\"sliders\",SliderSchema);\r\nexport default Slider;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAE5BC,KAAK,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACnD2B,IAAI,EAAE;IAACH,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EAClD4B,MAAM,EAAC;IAAEJ,IAAI,EAAEC,MAAM;IAAGC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACrD6B,KAAK,EAAE;IAAEL,IAAI,EAAEM,MAAM;IAAGJ,SAAS,EAAC,CAAC;IAAGnB,OAAO,EAAC;EAAC;AAEnD,CAAC,EAAC;EACEwB,UAAU,EAAC;AACf,CACA,CAAC;AAED,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACb,YAAY,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GACvCyB,MAAM","ignoreList":[]}},"mtime":1720620902004},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"sliders\", SliderSchema);\nvar _default = exports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJsaW5rIiwiaW1hZ2VuIiwic3RhdGUiLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiU2xpZGVyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgLCB7U2NoZW1hfSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IFNsaWRlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG5cclxuICAgIHRpdGxlOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIGxpbms6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgaW1hZ2VuOnsgdHlwZTogU3RyaW5nICwgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlIH0sXHJcbiAgICBzdGF0ZTogeyB0eXBlOiBOdW1iZXIgLCBtYXhsZW5ndGg6MiAsIGRlZmF1bHQ6MX1cclxuXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlXHJcbn1cclxuKTtcclxuXHJcbmNvbnN0IFNsaWRlciA9IG1vbmdvb3NlLm1vZGVsKFwic2xpZGVyc1wiLFNsaWRlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFNsaWRlcjtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUU1QkMsS0FBSyxFQUFFO0lBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUNuRDJCLElBQUksRUFBRTtJQUFDSCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDbEQ0QixNQUFNLEVBQUM7SUFBRUosSUFBSSxFQUFFQyxNQUFNO0lBQUdDLFNBQVMsRUFBQyxHQUFHO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ3JENkIsS0FBSyxFQUFFO0lBQUVMLElBQUksRUFBRU0sTUFBTTtJQUFHSixTQUFTLEVBQUMsQ0FBQztJQUFHbkIsT0FBTyxFQUFDO0VBQUM7QUFFbkQsQ0FBQyxFQUFDO0VBQ0V3QixVQUFVLEVBQUM7QUFDZixDQUNBLENBQUM7QUFFRCxNQUFNQyxNQUFNLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxTQUFTLEVBQUNiLFlBQVksQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBN0IsT0FBQSxHQUN2Q3lCLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SliderSchema","Schema","title","type","String","maxlength","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Slider.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst SliderSchema = new Schema({\r\n\r\n    title: {type: String, maxlength:250 ,require:true },\r\n    link: {type: String, maxlength:250 ,require:true },\r\n    imagen:{ type: String , maxlength:250, require:true },\r\n    state: { type: Number , maxlength:2 , default:1}\r\n\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst Slider = mongoose.model(\"sliders\",SliderSchema);\r\nexport default Slider;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAE5BC,KAAK,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACnD2B,IAAI,EAAE;IAACH,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EAClD4B,MAAM,EAAC;IAAEJ,IAAI,EAAEC,MAAM;IAAGC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACrD6B,KAAK,EAAE;IAAEL,IAAI,EAAEM,MAAM;IAAGJ,SAAS,EAAC,CAAC;IAAGnB,OAAO,EAAC;EAAC;AAEnD,CAAC,EAAC;EACEwB,UAAU,EAAC;AACf,CACA,CAAC;AAED,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACb,YAAY,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GACvCyB,MAAM","ignoreList":[]}},"mtime":1720620902004},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/user/\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJzbGlkZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBzbGlkZXJDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1NsaWRlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSc7XHJcblxyXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL3NsaWRlcid9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlci9cclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoIF0sIHNsaWRlckNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aCBdLCBzbGlkZXJDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgc2xpZGVyQ29udHJvbGxlci5yZW1vdmUpXHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvc2xpZGVyLzppbWdcIixzbGlkZXJDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGlCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTVDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBQztBQUFrQixDQUFDLENBQUM7QUFDckQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLHlCQUFnQixDQUFDQyxRQUFRLENBQUM7QUFDOUVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLHlCQUFnQixDQUFDRyxNQUFNLENBQUM7QUFDekVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLHlCQUFnQixDQUFDSyxJQUFJLENBQUM7QUFDMURWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBRVIsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDTyxNQUFNLENBQUM7QUFFbkVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHNCQUFzQixFQUFDSix5QkFBZ0IsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBR3BESSxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Slider.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport sliderController from '../controllers/SliderController'\r\nimport auth from '../middlewares/auth'\r\nimport multiparty from 'connect-multiparty';\r\n\r\nvar path = multiparty({uploadDir:'./uploads/slider'})\r\nconst router = routerx();\r\n\r\n//http://localhost:3000/api/user/\r\n\r\nrouter.post(\"/register\", [auth.verifyAdmin, path ], sliderController.register);\r\nrouter.put(\"/update\", [auth.verifyAdmin, path ], sliderController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\r\nrouter.delete(\"/delete\", auth.verifyAdmin, sliderController.remove)\r\n\r\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\r\n\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAkB,CAAC,CAAC;AACrD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,yBAAgB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,CAACJ,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,yBAAgB,CAACG,MAAM,CAAC;AACzER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAAER,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACO,MAAM,CAAC;AAEnEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAGpDI,MAAM","ignoreList":[]}},"mtime":1720632292864},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let sliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLAIDER SE A MODIFICADO CORRECTAMENTE \",\n        slider: _resources.default.Slider.slider_list(sliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          'title': new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resources.default.Slider.slider_list(slider);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL SLAIDER  SE ELIMINO CORRECTAMENTE \"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsInNsaWRlciIsIm1vZGVscyIsIlNsaWRlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwic2xpZGVyVCIsImZpbmRPbmUiLCJyZXNvdXJjZXMiLCJzbGlkZXJfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlNsaWRlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInNsaWRlcnMiLCJvYnRlbmVyX2ltYWdlbiIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlNsaWRlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gJy4vcmVzb3VyY2VzJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNsaWRlciA9IGF3YWl0IG1vZGVscy5TbGlkZXIuY3JlYXRlKHJlcS5ib2R5KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihzbGlkZXIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgdXBkYXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcyAmJiByZXEuZmlsZXMucG9ydGFkYSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKTtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KVxyXG4gICAgICAgICAgICBsZXQgc2xpZGVyVCA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7bWVzc2FnZTogXCJFTCBTTEFJREVSIFNFIEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFIFwiLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVyOiByZXNvdXJjZXMuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlclQpIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IFNsaWRlcnMgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7J3RpdGxlJyA6IG5ldyBSZWdFeHAoc2VhcmNoLFwiaVwiKX1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6LTF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcChzbGlkZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5TbGlkZXIuc2xpZGVyX2xpc3Qoc2xpZGVyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc2xpZGVyczogU2xpZGVycyB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIG9idGVuZXJfaW1hZ2VuOiAgYXN5bmMoIHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9zbGlkZXIvJytpbWcsIGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgICAgICBpZighZXJyKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL3NsaWRlci8nK2ltZztcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL2RlZmF1bHQuanBnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICByZW1vdmUgOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiRUwgU0xBSURFUiAgU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFIFwifSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFD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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","sliderT","findOne","resources","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["SliderController.js"],"sourcesContent":["import models from '../models';\r\nimport resources from './resources';\r\nimport fs from 'fs'\r\nimport path from 'path';\r\n\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            if (req.files) {\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                //console.log(portada_name);\r\n                req.body.imagen = portada_name\r\n            }\r\n\r\n            const slider = await models.Slider.create(req.body)\r\n            res.status(200).json(slider);\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n\r\n            if (req.files && req.files.portada) {\r\n\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                //console.log(portada_name);\r\n                req.body.imagen = portada_name\r\n\r\n            }\r\n\r\n            await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body)\r\n            let sliderT = await models.Slider.findOne({_id: req.body._id});\r\n            res.status(200).json(\r\n                {message: \"EL SLAIDER SE A MODIFICADO CORRECTAMENTE \",\r\n                slider: resources.Slider.slider_list(sliderT) })\r\n\r\n        } catch (error) {\r\n            \r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Sliders = await models.Slider.find({\r\n                $or:[\r\n                    {'title' : new RegExp(search,\"i\")}\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n\r\n            Sliders = Sliders.map(slider => {\r\n                return resources.Slider.slider_list(slider);\r\n            })\r\n\r\n            res.status(200).json({ sliders: Sliders });\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n    obtener_imagen:  async( req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n            fs.stat('./uploads/slider/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/slider/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    remove : async(req,res) => {\r\n        try {\r\n            await models.Slider.findByIdAndDelete({_id: req.query._id });\r\n            res.status(200).json({ message: \"EL SLAIDER  SE ELIMINO CORRECTAMENTE \"})\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1720632780816},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/user/\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJzbGlkZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBzbGlkZXJDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1NsaWRlckNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSc7XHJcblxyXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL3NsaWRlcid9KVxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlci9cclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoIF0sIHNsaWRlckNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aCBdLCBzbGlkZXJDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgc2xpZGVyQ29udHJvbGxlci5yZW1vdmUpXHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvc2xpZGVyLzppbWdcIixzbGlkZXJDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGlCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTVDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBQztBQUFrQixDQUFDLENBQUM7QUFDckQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLHlCQUFnQixDQUFDQyxRQUFRLENBQUM7QUFDOUVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFFLEVBQUVRLHlCQUFnQixDQUFDRyxNQUFNLENBQUM7QUFDekVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLHlCQUFnQixDQUFDSyxJQUFJLENBQUM7QUFDMURWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBRVIsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDTyxNQUFNLENBQUM7QUFFbkVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHNCQUFzQixFQUFDSix5QkFBZ0IsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBR3BESSxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Slider.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport sliderController from '../controllers/SliderController'\r\nimport auth from '../middlewares/auth'\r\nimport multiparty from 'connect-multiparty';\r\n\r\nvar path = multiparty({uploadDir:'./uploads/slider'})\r\nconst router = routerx();\r\n\r\n//http://localhost:3000/api/user/\r\n\r\nrouter.post(\"/register\", [auth.verifyAdmin, path ], sliderController.register);\r\nrouter.put(\"/update\", [auth.verifyAdmin, path ], sliderController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\r\nrouter.delete(\"/delete\", auth.verifyAdmin, sliderController.remove)\r\n\r\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\r\n\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAkB,CAAC,CAAC;AACrD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,yBAAgB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,CAACJ,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAE,EAAEQ,yBAAgB,CAACG,MAAM,CAAC;AACzER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAAER,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACO,MAAM,CAAC;AAEnEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAGpDI,MAAM","ignoreList":[]}},"mtime":1720632292864},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: 'http://localhost:3000/' + 'api/sliders/uploads/slider/' + slider.imagen,\n      state: slider.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwic3RhdGUiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHNsaWRlcl9saXN0IDogIChzbGlkZXIpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6c2xpZGVyLl9pZCxcclxuICAgICAgICAgICAgdGl0bGU6IHNsaWRlci50aXRsZSxcclxuICAgICAgICAgICAgbGluazogc2xpZGVyLmxpbmssXHJcbiAgICAgICAgICAgIGltYWdlbjogc2xpZGVyLmltYWdlbixcclxuICAgICAgICAgICAgaW1hZ2VuX2hvbWU6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJysnYXBpL3NsaWRlcnMvdXBsb2Fkcy9zbGlkZXIvJysgc2xpZGVyLmltYWdlbixcclxuICAgICAgICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFdBQVcsRUFBS0MsTUFBTSxJQUFLO0lBQ3ZCLE9BQU87TUFDSEMsR0FBRyxFQUFDRCxNQUFNLENBQUNDLEdBQUc7TUFDZEMsS0FBSyxFQUFFRixNQUFNLENBQUNFLEtBQUs7TUFDbkJDLElBQUksRUFBRUgsTUFBTSxDQUFDRyxJQUFJO01BQ2pCQyxNQUFNLEVBQUVKLE1BQU0sQ0FBQ0ksTUFBTTtNQUNyQkMsV0FBVyxFQUFFLHdCQUF3QixHQUFDLDZCQUE2QixHQUFFTCxNQUFNLENBQUNJLE1BQU07TUFDbEZFLEtBQUssRUFBRU4sTUFBTSxDQUFDTTtJQUNsQixDQUFDO0VBQ0w7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","state"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["Slider.js"],"sourcesContent":["export default {\r\n    slider_list :  (slider) => {\r\n        return {\r\n            _id:slider._id,\r\n            title: slider.title,\r\n            link: slider.link,\r\n            imagen: slider.imagen,\r\n            imagen_home: 'http://localhost:3000/'+'api/sliders/uploads/slider/'+ slider.imagen,\r\n            state: slider.state\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,WAAW,EAAKC,MAAM,IAAK;IACvB,OAAO;MACHC,GAAG,EAACD,MAAM,CAACC,GAAG;MACdC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAE,wBAAwB,GAAC,6BAA6B,GAAEL,MAAM,CAACI,MAAM;MAClFE,KAAK,EAAEN,MAAM,CAACM;IAClB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1735852356822},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: 'http://localhost:3000/' + 'api/sliders/uploads/slider/' + slider.imagen,\n      state: slider.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwic3RhdGUiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHNsaWRlcl9saXN0IDogIChzbGlkZXIpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6c2xpZGVyLl9pZCxcclxuICAgICAgICAgICAgdGl0bGU6IHNsaWRlci50aXRsZSxcclxuICAgICAgICAgICAgbGluazogc2xpZGVyLmxpbmssXHJcbiAgICAgICAgICAgIGltYWdlbjogc2xpZGVyLmltYWdlbixcclxuICAgICAgICAgICAgaW1hZ2VuX2hvbWU6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJysnYXBpL3NsaWRlcnMvdXBsb2Fkcy9zbGlkZXIvJysgc2xpZGVyLmltYWdlbixcclxuICAgICAgICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFdBQVcsRUFBS0MsTUFBTSxJQUFLO0lBQ3ZCLE9BQU87TUFDSEMsR0FBRyxFQUFDRCxNQUFNLENBQUNDLEdBQUc7TUFDZEMsS0FBSyxFQUFFRixNQUFNLENBQUNFLEtBQUs7TUFDbkJDLElBQUksRUFBRUgsTUFBTSxDQUFDRyxJQUFJO01BQ2pCQyxNQUFNLEVBQUVKLE1BQU0sQ0FBQ0ksTUFBTTtNQUNyQkMsV0FBVyxFQUFFLHdCQUF3QixHQUFDLDZCQUE2QixHQUFFTCxNQUFNLENBQUNJLE1BQU07TUFDbEZFLEtBQUssRUFBRU4sTUFBTSxDQUFDTTtJQUNsQixDQUFDO0VBQ0w7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","state"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["Slider.js"],"sourcesContent":["export default {\r\n    slider_list :  (slider) => {\r\n        return {\r\n            _id:slider._id,\r\n            title: slider.title,\r\n            link: slider.link,\r\n            imagen: slider.imagen,\r\n            imagen_home: 'http://localhost:3000/'+'api/sliders/uploads/slider/'+ slider.imagen,\r\n            state: slider.state\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,WAAW,EAAKC,MAAM,IAAK;IACvB,OAAO;MACHC,GAAG,EAACD,MAAM,CAACC,GAAG;MACdC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAE,wBAAwB,GAAC,6BAA6B,GAAEL,MAAM,CAACI,MAAM;MAClFE,KAAK,EAAEN,MAAM,CAACM;IAClB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1735852356822},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let sliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLAIDER SE A MODIFICADO CORRECTAMENTE \",\n        slider: _resources.default.Slider.slider_list(sliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          'title': new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resources.default.Slider.slider_list(slider);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL SLAIDER  SE ELIMINO CORRECTAMENTE \"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsInNsaWRlciIsIm1vZGVscyIsIlNsaWRlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwic2xpZGVyVCIsImZpbmRPbmUiLCJyZXNvdXJjZXMiLCJzbGlkZXJfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlNsaWRlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInNsaWRlcnMiLCJvYnRlbmVyX2ltYWdlbiIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlNsaWRlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gJy4vcmVzb3VyY2VzJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNsaWRlciA9IGF3YWl0IG1vZGVscy5TbGlkZXIuY3JlYXRlKHJlcS5ib2R5KVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihzbGlkZXIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgdXBkYXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcyAmJiByZXEuZmlsZXMucG9ydGFkYSkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKTtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KVxyXG4gICAgICAgICAgICBsZXQgc2xpZGVyVCA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7bWVzc2FnZTogXCJFTCBTTEFJREVSIFNFIEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFIFwiLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVyOiByZXNvdXJjZXMuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlclQpIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IFNsaWRlcnMgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7J3RpdGxlJyA6IG5ldyBSZWdFeHAoc2VhcmNoLFwiaVwiKX1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6LTF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcChzbGlkZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5TbGlkZXIuc2xpZGVyX2xpc3Qoc2xpZGVyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc2xpZGVyczogU2xpZGVycyB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIG9idGVuZXJfaW1hZ2VuOiAgYXN5bmMoIHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9zbGlkZXIvJytpbWcsIGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgICAgICBpZighZXJyKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL3NsaWRlci8nK2ltZztcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL2RlZmF1bHQuanBnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICByZW1vdmUgOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiRUwgU0xBSURFUiAgU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFIFwifSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIiB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdUO0VBQ1hHLFFBQVEsRUFBRSxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0EsSUFBSUQsR0FBRyxDQUFDRSxLQUFLLEVBQUU7UUFDWCxJQUFJQyxRQUFRLEdBQUdILEdBQUcsQ0FBQ0UsS0FBSyxDQUFDRSxPQUFPLENBQUNDLElBQUk7UUFDckMsSUFBSUMsSUFBSSxHQUFHSCxRQUFRLENBQUNJLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDL0IsSUFBSUMsWUFBWSxHQUFHRixJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzFCO1FBQ0FOLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDQyxNQUFNLEdBQUdGLFlBQVk7TUFDbEM7TUFFQSxNQUFNRyxNQUFNLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2QsR0FBRyxDQUFDUyxJQUFJLENBQUM7TUFDbkRSLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLE1BQU0sQ0FBQztJQUNoQyxDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO01BQ1poQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQUVDLE9BQU8sRUFBRTtNQUFzQixDQUFDLENBQUM7TUFDeERDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBSURLLE1BQU0sRUFBRSxNQUFBQSxDQUFPdEIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUVBLElBQUlELEdBQUcsQ0FBQ0UsS0FBSyxJQUFJRixHQUFHLENBQUNFLEtBQUssQ0FBQ0UsT0FBTyxFQUFFO1FBRWhDLElBQUlELFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLElBQUksQ0FBQztRQUMvQixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUI7UUFDQU4sR0FBRyxDQUFDUyxJQUFJLENBQUNDLE1BQU0sR0FBR0YsWUFBWTtNQUVsQztNQUVBLE1BQU1JLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDVSxpQkFBaUIsQ0FBQztRQUFDQyxHQUFHLEVBQUV4QixHQUFHLENBQUNTLElBQUksQ0FBQ2U7TUFBRyxDQUFDLEVBQUN4QixHQUFHLENBQUNTLElBQUksQ0FBQztNQUNuRSxJQUFJZ0IsT0FBTyxHQUFHLE1BQU1iLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDYSxPQUFPLENBQUM7UUFBQ0YsR0FBRyxFQUFFeEIsR0FBRyxDQUFDUyxJQUFJLENBQUNlO01BQUcsQ0FBQyxDQUFDO01BQzlEdkIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDaEI7UUFBQ0csT0FBTyxFQUFFLDJDQUEyQztRQUNyRFIsTUFBTSxFQUFFZ0Isa0JBQVMsQ0FBQ2QsTUFBTSxDQUFDZSxXQUFXLENBQUNILE9BQU87TUFBRSxDQUFDLENBQUM7SUFFeEQsQ0FBQyxDQUFDLE9BQU9SLEtBQUssRUFBRTtNQUVaaEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO01BQ3hEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUVEWSxJQUFJLEVBQUUsTUFBQUEsQ0FBTzdCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ3RCLElBQUk7TUFDQSxJQUFJNkIsTUFBTSxHQUFHOUIsR0FBRyxDQUFDK0IsS0FBSyxDQUFDRCxNQUFNO01BQzdCLElBQUlFLE9BQU8sR0FBRyxNQUFNcEIsZUFBTSxDQUFDQyxNQUFNLENBQUNvQixJQUFJLENBQUM7UUFDbkNDLEdBQUcsRUFBQyxDQUNBO1VBQUMsT0FBTyxFQUFHLElBQUlDLE1BQU0sQ0FBQ0wsTUFBTSxFQUFDLEdBQUc7UUFBQyxDQUFDO01BRTFDLENBQUMsQ0FBQyxDQUFDTSxJQUFJLENBQUM7UUFBQyxXQUFXLEVBQUMsQ0FBQztNQUFDLENBQUMsQ0FBQztNQUV6QkosT0FBTyxHQUFHQSxPQUFPLENBQUNLLEdBQUcsQ0FBQzFCLE1BQU0sSUFBSTtRQUM1QixPQUFPZ0Isa0JBQVMsQ0FBQ2QsTUFBTSxDQUFDZSxXQUFXLENBQUNqQixNQUFNLENBQUM7TUFDL0MsQ0FBQyxDQUFDO01BRUZWLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRXNCLE9BQU8sRUFBRU47TUFBUSxDQUFDLENBQUM7SUFFOUMsQ0FBQyxDQUFDLE9BQU9mLEtBQUssRUFBRTtNQUNaaEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO01BQ3hEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUdEc0IsY0FBYyxFQUFHLE1BQUFBLENBQU92QyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNoQyxJQUFJO01BQ0EsSUFBSXVDLEdBQUcsR0FBR3hDLEdBQUcsQ0FBQ3lDLE1BQU0sQ0FBQyxLQUFLLENBQUM7TUFDM0JDLFdBQUUsQ0FBQ0MsSUFBSSxDQUFDLG1CQUFtQixHQUFDSCxHQUFHLEVBQUUsVUFBU0ksR0FBRyxFQUFDO1FBQzFDLElBQUcsQ0FBQ0EsR0FBRyxFQUFDO1VBQ0osSUFBSUMsUUFBUSxHQUFHLG1CQUFtQixHQUFDTCxHQUFHO1VBQ3RDdkMsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMrQixRQUFRLENBQUN6QyxhQUFJLENBQUMwQyxPQUFPLENBQUNGLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELENBQUMsTUFBSTtVQUNELElBQUlBLFFBQVEsR0FBRyx1QkFBdUI7VUFFdEM1QyxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQytCLFFBQVEsQ0FBQ3pDLGFBQUksQ0FBQzBDLE9BQU8sQ0FBQ0YsUUFBUSxDQUFDLENBQUM7UUFDcEQ7TUFDSixDQUFDLENBQUM7SUFFTixDQUFDLENBQUMsT0FBTzVCLEtBQUssRUFBRTtNQUNaaEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO01BQ3hEQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUVEK0IsTUFBTSxFQUFHLE1BQUFBLENBQU1oRCxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN2QixJQUFJO01BQ0EsTUFBTVcsZUFBTSxDQUFDQyxNQUFNLENBQUNvQyxpQkFBaUIsQ0FBQztRQUFDekIsR0FBRyxFQUFFeEIsR0FBRyxDQUFDK0IsS0FBSyxDQUFDUDtNQUFJLENBQUMsQ0FBQztNQUM1RHZCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUcsT0FBTyxFQUFFO01BQXVDLENBQUMsQ0FBQztJQUM3RSxDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO01BQ1poQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQUVDLE9BQU8sRUFBRTtNQUFzQixDQUFDLENBQUM7TUFDeERDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSjtBQUdKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","sliderT","findOne","resources","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["SliderController.js"],"sourcesContent":["import models from '../models';\r\nimport resources from './resources';\r\nimport fs from 'fs'\r\nimport path from 'path';\r\n\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            if (req.files) {\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                //console.log(portada_name);\r\n                req.body.imagen = portada_name\r\n            }\r\n\r\n            const slider = await models.Slider.create(req.body)\r\n            res.status(200).json(slider);\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n\r\n            if (req.files && req.files.portada) {\r\n\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                //console.log(portada_name);\r\n                req.body.imagen = portada_name\r\n\r\n            }\r\n\r\n            await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body)\r\n            let sliderT = await models.Slider.findOne({_id: req.body._id});\r\n            res.status(200).json(\r\n                {message: \"EL SLAIDER SE A MODIFICADO CORRECTAMENTE \",\r\n                slider: resources.Slider.slider_list(sliderT) })\r\n\r\n        } catch (error) {\r\n            \r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Sliders = await models.Slider.find({\r\n                $or:[\r\n                    {'title' : new RegExp(search,\"i\")}\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n\r\n            Sliders = Sliders.map(slider => {\r\n                return resources.Slider.slider_list(slider);\r\n            })\r\n\r\n            res.status(200).json({ sliders: Sliders });\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n    obtener_imagen:  async( req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n            fs.stat('./uploads/slider/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/slider/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    remove : async(req,res) => {\r\n        try {\r\n            await models.Slider.findByIdAndDelete({_id: req.query._id });\r\n            res.status(200).json({ message: \"EL SLAIDER  SE ELIMINO CORRECTAMENTE \"})\r\n        } catch (error) {\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1720632780816},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // por defecto moneda 1 o por pocentaje 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  // por modena o porcentaje \n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  // 1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es activado\n  products: [{\n    type: Object\n  }],\n  categories: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = exports.default = Cupone;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJzdGF0ZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsInRpbWVzdGFtcHMiLCJDdXBvbmUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiQ3Vwb25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDdXBvbmVTY2hlbWEgID0gbmV3IFNjaGVtYSh7XHJcblxyXG4gICAgY29kZTp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6NTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2Rpc2NvdW50Ont0eXBlOiBOdW1iZXIscmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDoxfSwgIC8vIHBvciBkZWZlY3RvIG1vbmVkYSAxIG8gcG9yIHBvY2VudGFqZSAyXHJcbiAgICBkaXNjb3VudDp7dHlwZTogTnVtYmVyLHJlcXVpcmVkOnRydWV9LCAvLyBwb3IgbW9kZW5hIG8gcG9yY2VudGFqZSBcclxuICAgIHR5cGVfY291bnQgOnsgIHR5cGU6IE51bWJlciAsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6MX0sIC8vIGlsaW1pdGFkbyAxIG8gbGltaXRhZG8gMlxyXG4gICAgbnVtX3VzZSA6eyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiBmYWxzZSAgfSxcclxuICAgIHR5cGVfc2VnbWVudCA6IHsgdHlwZTogTnVtYmVyICwgcmVxdWlyZWQ6ZmFsc2UsIGRlZmF1bHQ6MSB9LCAvLyAxIGVzIGN1cG9uIHBvciBwcm9kdWN0byB5IDIgc2VyaWEgcG9yIGNhdGVnb3JpYVxyXG4gICAgc3RhdGUgOiB7dHlwZSA6IE51bWJlciwgcmVxdWlyZWQgOiBmYWxzZSwgZGVmYXVsdDoxIH0sIC8vMSBlcyBhY3RpdmFkb1xyXG4gICAgcHJvZHVjdHM6IFt7dHlwZTogT2JqZWN0fV0sXHJcbiAgICBjYXRlZ29yaWVzIDpbIHsgdHlwZSA6IE9iamVjdCB9XVxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pXHJcblxyXG5jb25zdCBDdXBvbmUgID0gbW9uZ29vc2UubW9kZWwoXCJjdXBvbmVzXCIsIEN1cG9uZVNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IEN1cG9uZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categories","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Cupone.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst CuponeSchema  = new Schema({\r\n\r\n    code:{type: String, maxlength:50,required:true},\r\n    type_discount:{type: Number,required:true, default:1},  // por defecto moneda 1 o por pocentaje 2\r\n    discount:{type: Number,required:true}, // por modena o porcentaje \r\n    type_count :{  type: Number , required:true, default:1}, // ilimitado 1 o limitado 2\r\n    num_use :{ type: Number, required: false  },\r\n    type_segment : { type: Number , required:false, default:1 }, // 1 es cupon por producto y 2 seria por categoria\r\n    state : {type : Number, required : false, default:1 }, //1 es activado\r\n    products: [{type: Object}],\r\n    categories :[ { type : Object }]\r\n}, {\r\n    timestamps: true\r\n})\r\n\r\nconst Cupone  = mongoose.model(\"cupones\", CuponeSchema);\r\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,YAAY,GAAI,IAAIC,gBAAM,CAAC;EAE7BC,IAAI,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CC,aAAa,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAAEpB,OAAO,EAAC;EAAC,CAAC;EAAG;EACxDuB,QAAQ,EAAC;IAACN,IAAI,EAAEK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAE;EACvCI,UAAU,EAAE;IAAGP,IAAI,EAAEK,MAAM;IAAGF,QAAQ,EAAC,IAAI;IAAEpB,OAAO,EAAC;EAAC,CAAC;EAAE;EACzDyB,OAAO,EAAE;IAAER,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAE;EAAO,CAAC;EAC3CM,YAAY,EAAG;IAAET,IAAI,EAAEK,MAAM;IAAGF,QAAQ,EAAC,KAAK;IAAEpB,OAAO,EAAC;EAAE,CAAC;EAAE;EAC7D2B,KAAK,EAAG;IAACV,IAAI,EAAGK,MAAM;IAAEF,QAAQ,EAAG,KAAK;IAAEpB,OAAO,EAAC;EAAE,CAAC;EAAE;EACvD4B,QAAQ,EAAE,CAAC;IAACX,IAAI,EAAEX;EAAM,CAAC,CAAC;EAC1BuB,UAAU,EAAE,CAAE;IAAEZ,IAAI,EAAGX;EAAO,CAAC;AACnC,CAAC,EAAE;EACCwB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAIC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAAEnB,YAAY,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GACzC+B,MAAM","ignoreList":[]}},"mtime":1721603120676},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // por defecto moneda 1 o por pocentaje 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  // por modena o porcentaje \n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  // 1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es activado\n  products: [{\n    type: Object\n  }],\n  categories: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = exports.default = Cupone;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJzdGF0ZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsInRpbWVzdGFtcHMiLCJDdXBvbmUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiQ3Vwb25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBDdXBvbmVTY2hlbWEgID0gbmV3IFNjaGVtYSh7XHJcblxyXG4gICAgY29kZTp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6NTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2Rpc2NvdW50Ont0eXBlOiBOdW1iZXIscmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDoxfSwgIC8vIHBvciBkZWZlY3RvIG1vbmVkYSAxIG8gcG9yIHBvY2VudGFqZSAyXHJcbiAgICBkaXNjb3VudDp7dHlwZTogTnVtYmVyLHJlcXVpcmVkOnRydWV9LCAvLyBwb3IgbW9kZW5hIG8gcG9yY2VudGFqZSBcclxuICAgIHR5cGVfY291bnQgOnsgIHR5cGU6IE51bWJlciAsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6MX0sIC8vIGlsaW1pdGFkbyAxIG8gbGltaXRhZG8gMlxyXG4gICAgbnVtX3VzZSA6eyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiBmYWxzZSAgfSxcclxuICAgIHR5cGVfc2VnbWVudCA6IHsgdHlwZTogTnVtYmVyICwgcmVxdWlyZWQ6ZmFsc2UsIGRlZmF1bHQ6MSB9LCAvLyAxIGVzIGN1cG9uIHBvciBwcm9kdWN0byB5IDIgc2VyaWEgcG9yIGNhdGVnb3JpYVxyXG4gICAgc3RhdGUgOiB7dHlwZSA6IE51bWJlciwgcmVxdWlyZWQgOiBmYWxzZSwgZGVmYXVsdDoxIH0sIC8vMSBlcyBhY3RpdmFkb1xyXG4gICAgcHJvZHVjdHM6IFt7dHlwZTogT2JqZWN0fV0sXHJcbiAgICBjYXRlZ29yaWVzIDpbIHsgdHlwZSA6IE9iamVjdCB9XVxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pXHJcblxyXG5jb25zdCBDdXBvbmUgID0gbW9uZ29vc2UubW9kZWwoXCJjdXBvbmVzXCIsIEN1cG9uZVNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IEN1cG9uZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categories","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Cupone.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst CuponeSchema  = new Schema({\r\n\r\n    code:{type: String, maxlength:50,required:true},\r\n    type_discount:{type: Number,required:true, default:1},  // por defecto moneda 1 o por pocentaje 2\r\n    discount:{type: Number,required:true}, // por modena o porcentaje \r\n    type_count :{  type: Number , required:true, default:1}, // ilimitado 1 o limitado 2\r\n    num_use :{ type: Number, required: false  },\r\n    type_segment : { type: Number , required:false, default:1 }, // 1 es cupon por producto y 2 seria por categoria\r\n    state : {type : Number, required : false, default:1 }, //1 es activado\r\n    products: [{type: Object}],\r\n    categories :[ { type : Object }]\r\n}, {\r\n    timestamps: true\r\n})\r\n\r\nconst Cupone  = mongoose.model(\"cupones\", CuponeSchema);\r\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,YAAY,GAAI,IAAIC,gBAAM,CAAC;EAE7BC,IAAI,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CC,aAAa,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAAEpB,OAAO,EAAC;EAAC,CAAC;EAAG;EACxDuB,QAAQ,EAAC;IAACN,IAAI,EAAEK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAE;EACvCI,UAAU,EAAE;IAAGP,IAAI,EAAEK,MAAM;IAAGF,QAAQ,EAAC,IAAI;IAAEpB,OAAO,EAAC;EAAC,CAAC;EAAE;EACzDyB,OAAO,EAAE;IAAER,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAE;EAAO,CAAC;EAC3CM,YAAY,EAAG;IAAET,IAAI,EAAEK,MAAM;IAAGF,QAAQ,EAAC,KAAK;IAAEpB,OAAO,EAAC;EAAE,CAAC;EAAE;EAC7D2B,KAAK,EAAG;IAACV,IAAI,EAAGK,MAAM;IAAEF,QAAQ,EAAG,KAAK;IAAEpB,OAAO,EAAC;EAAE,CAAC;EAAE;EACvD4B,QAAQ,EAAE,CAAC;IAACX,IAAI,EAAEX;EAAM,CAAC,CAAC;EAC1BuB,UAAU,EAAE,CAAE;IAAEZ,IAAI,EAAGX;EAAO,CAAC;AACnC,CAAC,EAAE;EACCwB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAIC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAAEnB,YAAY,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GACzC+B,MAAM","ignoreList":[]}},"mtime":1721603120676},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY3Vwb25lQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImNvbmZpZyIsInNob3ciLCJkZWxldGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxyXG5pbXBvcnQgY3Vwb25lQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvQ3Vwb25lQ29udHJvbGxlclwiXHJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcclxuXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBhdXRoLnZlcmlmeUFkbWluLCBjdXBvbmVDb250cm9sbGVyLnJlZ2lzdGVyKTsgXHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIGF1dGgudmVyaWZ5QWRtaW4sIGN1cG9uZUNvbnRyb2xsZXIudXBkYXRlKTsgXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLCBhdXRoLnZlcmlmeUFkbWluLCBjdXBvbmVDb250cm9sbGVyLmxpc3QpOyBcclxucm91dGVyLmdldChcIi9jb25maWdcIiwgYXV0aC52ZXJpZnlBZG1pbiwgY3Vwb25lQ29udHJvbGxlci5jb25maWcpOyBcclxucm91dGVyLmdldChcIi9zaG93XCIsIGF1dGgudmVyaWZ5QWRtaW4sIGN1cG9uZUNvbnRyb2xsZXIuc2hvdyk7IFxyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLCBhdXRoLnZlcmlmeUFkbWluLCBjdXBvbmVDb250cm9sbGVyLmRlbGV0ZSk7IFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxpQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3RDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRUMsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDQyxRQUFRLENBQUM7QUFDckVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRUosYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDRyxNQUFNLENBQUM7QUFDaEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDSyxJQUFJLENBQUM7QUFDNURWLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDTSxNQUFNLENBQUM7QUFDaEVYLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDTyxJQUFJLENBQUM7QUFDNURaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBRVYsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDUSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FFckRDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Cupone.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport cuponeController from \"../controllers/CuponeController\"\r\nimport auth from \"../middlewares/auth\"\r\n\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\", auth.verifyAdmin, cuponeController.register); \r\nrouter.put(\"/update\", auth.verifyAdmin, cuponeController.update); \r\nrouter.get(\"/list\", auth.verifyAdmin, cuponeController.list); \r\nrouter.get(\"/config\", auth.verifyAdmin, cuponeController.config); \r\nrouter.get(\"/show\", auth.verifyAdmin, cuponeController.show); \r\nrouter.delete(\"/delete\", auth.verifyAdmin, cuponeController.delete); \r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAEJ,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAAEN,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAAEV,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAErDC,MAAM","ignoreList":[]}},"mtime":1721601471488},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exists_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exists_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE REGISTRO CORRECTAMENTE\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exists_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exists_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          'code': new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJleGlzdHNfY3Vwb25lIiwibW9kZWxzIiwiQ3Vwb25lIiwiZmluZE9uZSIsImNvZGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImN1cG9uZSIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY3Vwb25lVCIsImZpbmRCeUlkIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJzZWFyY2giLCJjdXBvbmVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJzaG93IiwiY3Vwb25lX2lkIiwiY3Vwb24iLCJjb25maWciLCJQcm9kdWN0cyIsIlByb2R1Y3QiLCJzdGF0ZSIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkN1cG9uZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHsgXHJcbiAgICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgbGV0ICBleGlzdHNfY3Vwb25lID0gIGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7Y29kZSA6IGRhdGEuY29kZX0pXHJcbiAgICAgICAgICAgIGlmIChleGlzdHNfY3Vwb25lKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dCA6IFwiRUwgQ09ESUdPIERFTCBDVVBPTiBZQSBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuY3JlYXRlKGRhdGEpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOjIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDVVBPTiBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfWNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdPQ1VSUklPIFVOIFBST0JMRU1BJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgbGV0ICBleGlzdHNfY3Vwb25lID0gIGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7Y29kZSA6IGRhdGEuY29kZSxfaWQ6eyRuZTogZGF0YS5faWR9ICB9KVxyXG4gICAgICAgICAgICBpZiAoZXhpc3RzX2N1cG9uZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQgOiBcIkVMIENPRElHTyBERUwgQ1VQT04gWUEgRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xyXG4gICAgICAgICAgICBsZXQgY3Vwb25lVCA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZEJ5SWQoe19pZDpkYXRhLl9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOjIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDVVBPTiBTRSBBQ1RVQUxJWk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgY3Vwb25lOmN1cG9uZVRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9Y2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZGVsZXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgX2lkID0gcmVxLnF1ZXJ5Ll9pZDtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZEJ5SWRBbmREZWxldGUoe19pZDpfaWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6MjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1jYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVzID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kKHtcclxuICAgICAgICAgICAgICAgICRvcjpbXHJcbiAgICAgICAgICAgICAgICAgICAgeydjb2RlJyA6IG5ldyBSZWdFeHAoc2VhcmNoLFwiaVwiKX1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6LTF9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6MjAwLFxyXG4gICAgICAgICAgICAgICAgY3Vwb25lczogY3Vwb25lcyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9Y2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIHNob3c6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVfaWQgPSByZXEucXVlcnkuY3Vwb25lX2lkO1xyXG4gICAgICAgICAgICBsZXQgY3Vwb24gPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoIHsgX2lkIDogY3Vwb25lX2lkIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOjIwMCxcclxuICAgICAgICAgICAgICAgIGN1cG9uOiBjdXBvbixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9Y2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgY29uZmlnOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOiAyIH0pO1xyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7IHN0YXRlOjEgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOjIwMCxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IENhdGVnb3JpZXMsXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1jYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn0iXSwi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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","exists_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","Categories","Categorie","products","categories"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default { \r\n    register: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            let  exists_cupone =  await models.Cupone.findOne({code : data.code})\r\n            if (exists_cupone) {\r\n                res.status(200).json({ \r\n                    message:403,\r\n                    message_text : \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                })\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.create(data);\r\n            res.status(200).json({\r\n                message:200,\r\n                message_text: \"EL CUPON SE REGISTRO CORRECTAMENTE\",\r\n                cupone:cupone\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            let  exists_cupone =  await models.Cupone.findOne({code : data.code,_id:{$ne: data._id}  })\r\n            if (exists_cupone) {\r\n                res.status(200).json({ \r\n                    message:403,\r\n                    message_text : \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                })\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.findByIdAndUpdate({_id:data._id},data);\r\n            let cuponeT = await models.Cupone.findById({_id:data._id});\r\n            res.status(200).json({\r\n                message:200,\r\n                message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\r\n                cupone:cuponeT\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    delete: async (req, res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Cupone.findByIdAndDelete({_id:_id});\r\n\r\n            res.status(200).json({\r\n                message:200,\r\n                message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\",\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            let search = req.query.search;\r\n\r\n            let cupones = await models.Cupone.find({\r\n                $or:[\r\n                    {'code' : new RegExp(search,\"i\")}\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n            \r\n            res.status(200).json({\r\n                message:200,\r\n                cupones: cupones,\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n\r\n    show: async (req, res) => {\r\n        try {\r\n            let cupone_id = req.query.cupone_id;\r\n            let cupon = await models.Cupone.findOne( { _id : cupone_id })\r\n            \r\n            res.status(200).json({\r\n                message:200,\r\n                cupon: cupon,\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    config: async (req, res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({ state: 2 });\r\n            let Categories = await models.Categorie.find({ state:1 });\r\n            \r\n            res.status(200).json({\r\n                message:200,\r\n                products: Products,\r\n                categories: Categories,\r\n\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1721662827055},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY3Vwb25lQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImNvbmZpZyIsInNob3ciLCJkZWxldGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxyXG5pbXBvcnQgY3Vwb25lQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvQ3Vwb25lQ29udHJvbGxlclwiXHJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcclxuXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBhdXRoLnZlcmlmeUFkbWluLCBjdXBvbmVDb250cm9sbGVyLnJlZ2lzdGVyKTsgXHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIGF1dGgudmVyaWZ5QWRtaW4sIGN1cG9uZUNvbnRyb2xsZXIudXBkYXRlKTsgXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLCBhdXRoLnZlcmlmeUFkbWluLCBjdXBvbmVDb250cm9sbGVyLmxpc3QpOyBcclxucm91dGVyLmdldChcIi9jb25maWdcIiwgYXV0aC52ZXJpZnlBZG1pbiwgY3Vwb25lQ29udHJvbGxlci5jb25maWcpOyBcclxucm91dGVyLmdldChcIi9zaG93XCIsIGF1dGgudmVyaWZ5QWRtaW4sIGN1cG9uZUNvbnRyb2xsZXIuc2hvdyk7IFxyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLCBhdXRoLnZlcmlmeUFkbWluLCBjdXBvbmVDb250cm9sbGVyLmRlbGV0ZSk7IFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxpQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3RDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRUMsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDQyxRQUFRLENBQUM7QUFDckVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRUosYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDRyxNQUFNLENBQUM7QUFDaEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDSyxJQUFJLENBQUM7QUFDNURWLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDTSxNQUFNLENBQUM7QUFDaEVYLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDTyxJQUFJLENBQUM7QUFDNURaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBRVYsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLHlCQUFnQixDQUFDUSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FFckRDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Cupone.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport cuponeController from \"../controllers/CuponeController\"\r\nimport auth from \"../middlewares/auth\"\r\n\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\", auth.verifyAdmin, cuponeController.register); \r\nrouter.put(\"/update\", auth.verifyAdmin, cuponeController.update); \r\nrouter.get(\"/list\", auth.verifyAdmin, cuponeController.list); \r\nrouter.get(\"/config\", auth.verifyAdmin, cuponeController.config); \r\nrouter.get(\"/show\", auth.verifyAdmin, cuponeController.show); \r\nrouter.delete(\"/delete\", auth.verifyAdmin, cuponeController.delete); \r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAEJ,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAAEN,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAAEV,aAAI,CAACC,WAAW,EAAEC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAErDC,MAAM","ignoreList":[]}},"mtime":1721601471488},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exists_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exists_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE REGISTRO CORRECTAMENTE\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exists_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exists_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          'code': new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJleGlzdHNfY3Vwb25lIiwibW9kZWxzIiwiQ3Vwb25lIiwiZmluZE9uZSIsImNvZGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImN1cG9uZSIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY3Vwb25lVCIsImZpbmRCeUlkIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJzZWFyY2giLCJjdXBvbmVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJzaG93IiwiY3Vwb25lX2lkIiwiY3Vwb24iLCJjb25maWciLCJQcm9kdWN0cyIsIlByb2R1Y3QiLCJzdGF0ZSIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkN1cG9uZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHsgXHJcbiAgICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgbGV0ICBleGlzdHNfY3Vwb25lID0gIGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7Y29kZSA6IGRhdGEuY29kZX0pXHJcbiAgICAgICAgICAgIGlmIChleGlzdHNfY3Vwb25lKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dCA6IFwiRUwgQ09ESUdPIERFTCBDVVBPTiBZQSBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuY3JlYXRlKGRhdGEpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOjIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDVVBPTiBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfWNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdPQ1VSUklPIFVOIFBST0JMRU1BJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgbGV0ICBleGlzdHNfY3Vwb25lID0gIGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7Y29kZSA6IGRhdGEuY29kZSxfaWQ6eyRuZTogZGF0YS5faWR9ICB9KVxyXG4gICAgICAgICAgICBpZiAoZXhpc3RzX2N1cG9uZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQgOiBcIkVMIENPRElHTyBERUwgQ1VQT04gWUEgRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xyXG4gICAgICAgICAgICBsZXQgY3Vwb25lVCA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZEJ5SWQoe19pZDpkYXRhLl9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOjIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDVVBPTiBTRSBBQ1RVQUxJWk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgY3Vwb25lOmN1cG9uZVRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9Y2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZGVsZXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgX2lkID0gcmVxLnF1ZXJ5Ll9pZDtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZEJ5SWRBbmREZWxldGUoe19pZDpfaWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6MjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1jYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVzID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kKHtcclxuICAgICAgICAgICAgICAgICRvcjpbXHJcbiAgICAgICAgICAgICAgICAgICAgeydjb2RlJyA6IG5ldyBSZWdFeHAoc2VhcmNoLFwiaVwiKX1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6LTF9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6MjAwLFxyXG4gICAgICAgICAgICAgICAgY3Vwb25lczogY3Vwb25lcyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9Y2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIHNob3c6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVfaWQgPSByZXEucXVlcnkuY3Vwb25lX2lkO1xyXG4gICAgICAgICAgICBsZXQgY3Vwb24gPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoIHsgX2lkIDogY3Vwb25lX2lkIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOjIwMCxcclxuICAgICAgICAgICAgICAgIGN1cG9uOiBjdXBvbixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9Y2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgY29uZmlnOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOiAyIH0pO1xyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7IHN0YXRlOjEgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOjIwMCxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IENhdGVnb3JpZXMsXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1jYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn0iXSwi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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","exists_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","Categories","Categorie","products","categories"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default { \r\n    register: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            let  exists_cupone =  await models.Cupone.findOne({code : data.code})\r\n            if (exists_cupone) {\r\n                res.status(200).json({ \r\n                    message:403,\r\n                    message_text : \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                })\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.create(data);\r\n            res.status(200).json({\r\n                message:200,\r\n                message_text: \"EL CUPON SE REGISTRO CORRECTAMENTE\",\r\n                cupone:cupone\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            let  exists_cupone =  await models.Cupone.findOne({code : data.code,_id:{$ne: data._id}  })\r\n            if (exists_cupone) {\r\n                res.status(200).json({ \r\n                    message:403,\r\n                    message_text : \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                })\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.findByIdAndUpdate({_id:data._id},data);\r\n            let cuponeT = await models.Cupone.findById({_id:data._id});\r\n            res.status(200).json({\r\n                message:200,\r\n                message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\r\n                cupone:cuponeT\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    delete: async (req, res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Cupone.findByIdAndDelete({_id:_id});\r\n\r\n            res.status(200).json({\r\n                message:200,\r\n                message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\",\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            let search = req.query.search;\r\n\r\n            let cupones = await models.Cupone.find({\r\n                $or:[\r\n                    {'code' : new RegExp(search,\"i\")}\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n            \r\n            res.status(200).json({\r\n                message:200,\r\n                cupones: cupones,\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n\r\n    show: async (req, res) => {\r\n        try {\r\n            let cupone_id = req.query.cupone_id;\r\n            let cupon = await models.Cupone.findOne( { _id : cupone_id })\r\n            \r\n            res.status(200).json({\r\n                message:200,\r\n                cupon: cupon,\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    config: async (req, res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({ state: 2 });\r\n            let Categories = await models.Categorie.find({ state:1 });\r\n            \r\n            res.status(200).json({\r\n                message:200,\r\n                products: Products,\r\n                categories: Categories,\r\n\r\n            })\r\n        }catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1721662827055},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es capaña norma y 2 es venta flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es porcentaje y 2 es moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es desactivo\n  type_segment: {\n    type: Number,\n    default: 1\n  },\n  //1 es por producto y 2 es por categoria\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = exports.default = Discount;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJzdGFydF9kYXRlIiwiRGF0ZSIsImVuZF9kYXRlIiwic3RhcnRfZGF0ZV9udW0iLCJlbmRfZGF0ZV9udW0iLCJzdGF0ZSIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsInRpbWVzdGFtcHMiLCJEaXNjb3VudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJEaXNjb3VudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hIH0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCAgRGlzY291bnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuXHJcbiAgICB0eXBlX2NhbXBhaWduOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDF9LCAvLyAxIGVzIGNhcGHDsWEgbm9ybWEgeSAyIGVzIHZlbnRhIGZsYXNoXHJcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDF9LCAvLyAxIGVzIHBvcmNlbnRhamUgeSAyIGVzIG1vbmVkYVxyXG4gICAgZGlzY291bnQ6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhcnRfZGF0ZToge3R5cGU6RGF0ZSxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGVuZF9kYXRlOnsgdHlwZTpEYXRlLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhcnRfZGF0ZV9udW06IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIGVuZF9kYXRlX251bTp7IHR5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LCAvLzEgZXMgYWN0aXZvIHkgMiBlcyBkZXNhY3Rpdm9cclxuICAgIHR5cGVfc2VnbWVudDp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwcm9kdWN0byB5IDIgZXMgcG9yIGNhdGVnb3JpYVxyXG4gICAgcHJvZHVjdHM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcclxuICAgIGNhdGVnb3JpZXM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOnRydWUsXHJcbn0pO1xyXG5cclxuY29uc3QgRGlzY291bnQgPSBtb25nb29zZS5tb2RlbChcImRpc2NvdW50c1wiLCBEaXNjb3VudFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IERpc2NvdW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categories","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Discount.js"],"sourcesContent":["import mongoose, { Schema } from \"mongoose\";\r\n\r\nconst  DiscountSchema = new Schema({\r\n\r\n    type_campaign: {type:Number, required:true, default: 1}, // 1 es capaña norma y 2 es venta flash\r\n    type_discount: {type:Number, required:true, default: 1}, // 1 es porcentaje y 2 es moneda\r\n    discount: {type: Number, required:true},\r\n    start_date: {type:Date,required:true},\r\n    end_date:{ type:Date,required:true},\r\n    start_date_num: {type:Number,required:true},\r\n    end_date_num:{ type:Number,required:true},\r\n    state:{type:Number,default: 1}, //1 es activo y 2 es desactivo\r\n    type_segment:{type:Number,default: 1},//1 es por producto y 2 es por categoria\r\n    products:[{type:Object, required:false}],\r\n    categories:[{type:Object, required:false}],\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Discount = mongoose.model(\"discounts\", DiscountSchema);\r\nexport default Discount;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE5C,MAAOW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAE/BC,aAAa,EAAE;IAACC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDoB,aAAa,EAAE;IAACH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDqB,QAAQ,EAAE;IAACJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACvCG,UAAU,EAAE;IAACL,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACrCK,QAAQ,EAAC;IAAEP,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACnCM,cAAc,EAAE;IAACR,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC3CO,YAAY,EAAC;IAAET,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACzCQ,KAAK,EAAC;IAACV,IAAI,EAACC,MAAM;IAAClB,OAAO,EAAE;EAAC,CAAC;EAAE;EAChC4B,YAAY,EAAC;IAACX,IAAI,EAACC,MAAM;IAAClB,OAAO,EAAE;EAAC,CAAC;EAAC;EACtC6B,QAAQ,EAAC,CAAC;IAACZ,IAAI,EAACX,MAAM;IAAEa,QAAQ,EAAC;EAAK,CAAC,CAAC;EACxCW,UAAU,EAAC,CAAC;IAACb,IAAI,EAACX,MAAM;IAAEa,QAAQ,EAAC;EAAK,CAAC;AAC7C,CAAC,EAAC;EACEY,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEpB,cAAc,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAC9CgC,QAAQ","ignoreList":[]}},"mtime":1735775341263},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJkaXNjb3VudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGRpc2NvdW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9EaXNjb3VudENvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgYXV0aC52ZXJpZnlBZG1pbiwgZGlzY291bnRDb250cm9sbGVyLnJlZ2lzdGVyICk7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIGF1dGgudmVyaWZ5QWRtaW4sIGRpc2NvdW50Q29udHJvbGxlci51cGRhdGUgKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIGRpc2NvdW50Q29udHJvbGxlci5saXN0ICk7XHJcbnJvdXRlci5nZXQoXCIvY29uZmlnXCIsIGF1dGgudmVyaWZ5QWRtaW4sIGRpc2NvdW50Q29udHJvbGxlci5jb25maWcgKTtcclxucm91dGVyLmdldChcIi9zaG93XCIsIGF1dGgudmVyaWZ5QWRtaW4sIGRpc2NvdW50Q29udHJvbGxlci5zaG93ICk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsIGF1dGgudmVyaWZ5QWRtaW4sIGRpc2NvdW50Q29udHJvbGxlci5kZWxldGUgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxtQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3RDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRUMsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDQyxRQUFTLENBQUM7QUFDeEVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRUosYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDRyxNQUFPLENBQUM7QUFDbkVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDSyxJQUFLLENBQUM7QUFDL0RWLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDTSxNQUFPLENBQUM7QUFDbkVYLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDTyxJQUFLLENBQUM7QUFDL0RaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBRVYsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDUSxNQUFPLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FFeERDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport discountController from '../controllers/DiscountController'\r\nimport auth from '../middlewares/auth'\r\n\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\", auth.verifyAdmin, discountController.register );\r\nrouter.put(\"/update\", auth.verifyAdmin, discountController.update );\r\nrouter.get(\"/list\", auth.verifyAdmin, discountController.list );\r\nrouter.get(\"/config\", auth.verifyAdmin, discountController.config );\r\nrouter.get(\"/show\", auth.verifyAdmin, discountController.show );\r\nrouter.delete(\"/delete\", auth.verifyAdmin, discountController.delete );\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACC,QAAS,CAAC;AACxEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAEJ,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACG,MAAO,CAAC;AACnER,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACK,IAAK,CAAC;AAC/DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAAEN,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACM,MAAO,CAAC;AACnEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACO,IAAK,CAAC;AAC/DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAAEV,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACQ,MAAO,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAExDC,MAAM","ignoreList":[]}},"mtime":1721667137378},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $lte: data.start_date_num,\n          $gte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $lte: data.start_date_num,\n          $gte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      }); //[  ]\n\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.products_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.products_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categories_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categories_s\n              }\n            }\n          }\n        });\n      }\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exists_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exists_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exists_start_date.length > 0 || exists_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMNAR ALGUNA OPCION\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE ACUALIZÓ CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      //let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJmaWx0ZXJfYSIsImZpbHRlcl9iIiwidHlwZV9zZWdtZW50IiwicHVzaCIsIiRlbGVtTWF0Y2giLCJfaWQiLCIkaW4iLCJwcm9kdWN0X3MiLCJjYXRlZ29yaWVfcyIsInR5cGVfY2FtcGFpZ24iLCJzdGFydF9kYXRlX251bSIsIiRsdGUiLCIkZ3RlIiwiZW5kX2RhdGVfbnVtIiwiZXhpdHNfc3RhcnRfZGF0ZSIsIm1vZGVscyIsIkRpc2NvdW50IiwiZmluZCIsIiRhbmQiLCJleGl0c19lbmRfZGF0ZSIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibWVzc2FnZV90ZXh0IiwiZGlzY291bnQiLCJjcmVhdGUiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwidXBkYXRlIiwicHJvZHVjdHNfcyIsImNhdGVnb3JpZXNfcyIsIiRuZSIsImV4aXN0c19zdGFydF9kYXRlIiwiZXhpc3RzX2VuZF9kYXRlIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJkZWxldGUiLCJxdWVyeSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibGlzdCIsImRpc2NvdW50cyIsInNvcnQiLCJzaG93IiwiZGlzY291bnRfaWQiLCJmaW5kT25lIiwiY29uZmlnIiwiUHJvZHVjdHMiLCJQcm9kdWN0Iiwic3RhdGUiLCJDYXRlZ29yaWVzIiwiQ2F0ZWdvcmllIiwicHJvZHVjdHMiLCJjYXRlZ29yaWVzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJEaXNjb3VudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2EgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9iID0gW107XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlX3NlZ21lbnQgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5wcm9kdWN0X3MgfSB9IH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5wcm9kdWN0X3MgfSB9IH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHsgJGVsZW1NYXRjaDogeyBfaWQ6IHsgJGluOiBkYXRhLmNhdGVnb3JpZV9zIH0gfSB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5jYXRlZ29yaWVfcyB9IH0gfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHsgJGx0ZTogZGF0YS5zdGFydF9kYXRlX251bSwgJGd0ZTogZGF0YS5lbmRfZGF0ZV9udW0gfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyAkbHRlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCAkZ3RlOiBkYXRhLmVuZF9kYXRlX251bSB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7ICRhbmQ6IGZpbHRlcl9hIH0pOy8vWyAgXVxyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyAkYW5kOiBmaWx0ZXJfYiB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIE5PIFNFIFBVRURFIFBST0dSQU1BUiBFTElNSU5BUiBBTEdVTkFTIE9QQ0lPTkVTXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzY291bnQgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudDogZGlzY291bnRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9hID0gW107XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYiA9IFtdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZV9zZWdtZW50ID09IDEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcInByb2R1Y3RzXCI6IHsgJGVsZW1NYXRjaDogeyBfaWQ6IHsgJGluOiBkYXRhLnByb2R1Y3RzX3MgfSB9IH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5wcm9kdWN0c19zIH0gfSB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyAkZWxlbU1hdGNoOiB7IF9pZDogeyAkaW46IGRhdGEuY2F0ZWdvcmllc19zIH0gfSB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5jYXRlZ29yaWVzX3MgfSB9IH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7ICRuZTogZGF0YS5faWQgfSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7ICRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7ICRuZTogZGF0YS5faWQgfSxcclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyAkZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCAkbHRlOiBkYXRhLmVuZF9kYXRlX251bSB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBsZXQgZXhpc3RzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7ICRhbmQ6IGZpbHRlcl9hIH0pO1xyXG4gICAgICAgICAgICBsZXQgZXhpc3RzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyAkYW5kOiBmaWx0ZXJfYiB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoZXhpc3RzX3N0YXJ0X2RhdGUubGVuZ3RoID4gMCB8fCBleGlzdHNfZW5kX2RhdGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIE5PIFNFIFBVRURFIFBST0dSQU1BUiBFTElNTkFSIEFMR1VOQSBPUENJT05cIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiBkYXRhLl9pZCB9LCBkYXRhKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBTRSBBQ1VBTElaw5MgQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6IGRpc2NvdW50XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBkZWxldGU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kRGVsZXRlKHsgX2lkOiBfaWQgfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgbGlzdDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy9sZXQgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuXHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudHMgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCgpLnNvcnQoeyAnY3JlYXRlZEF0JzogLTEgfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudHM6IGRpc2NvdW50cyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdPQ1VSUklPIFVOIFBST0JMRU1BJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICBzaG93OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGlzY291bnRfaWQgPSByZXEucXVlcnkuZGlzY291bnRfaWQ7XHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHsgX2lkOiBkaXNjb3VudF9pZCB9KVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6IGRpc2NvdW50LFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgY29uZmlnOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOiAyIH0pO1xyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7IHN0YXRlOiAxIH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllcyxcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWY7RUFDWEcsUUFBUSxFQUFFLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQzFCLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUNuQixJQUFJQyxRQUFRLEdBQUcsRUFBRTtNQUNqQixJQUFJQyxRQUFRLEdBQUcsRUFBRTtNQUVqQixJQUFJSCxJQUFJLENBQUNJLFlBQVksSUFBSSxDQUFDLEVBQUU7UUFDeEJGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDO1VBQ1YsVUFBVSxFQUFFO1lBQUVDLFVBQVUsRUFBRTtjQUFFQyxHQUFHLEVBQUU7Z0JBQUVDLEdBQUcsRUFBRVIsSUFBSSxDQUFDUztjQUFVO1lBQUU7VUFBRTtRQUMvRCxDQUFDLENBQUM7UUFDRk4sUUFBUSxDQUFDRSxJQUFJLENBQUM7VUFDVixVQUFVLEVBQUU7WUFBRUMsVUFBVSxFQUFFO2NBQUVDLEdBQUcsRUFBRTtnQkFBRUMsR0FBRyxFQUFFUixJQUFJLENBQUNTO2NBQVU7WUFBRTtVQUFFO1FBQy9ELENBQUMsQ0FBQztNQUNOLENBQUMsTUFBTTtRQUNIUCxRQUFRLENBQUNHLElBQUksQ0FBQztVQUNWLFlBQVksRUFBRTtZQUFFQyxVQUFVLEVBQUU7Y0FBRUMsR0FBRyxFQUFFO2dC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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categorie_s","type_campaign","start_date_num","$lte","$gte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","products_s","categories_s","$ne","exists_start_date","exists_end_date","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","Categories","Categorie","products","categories"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n\r\n            if (data.type_segment == 1) {\r\n                filter_a.push({\r\n                    \"products\": { $elemMatch: { _id: { $in: data.product_s } } }\r\n                });\r\n                filter_b.push({\r\n                    \"products\": { $elemMatch: { _id: { $in: data.product_s } } }\r\n                });\r\n            } else {\r\n                filter_a.push({\r\n                    \"categories\": { $elemMatch: { _id: { $in: data.categorie_s } } }\r\n                });\r\n                filter_b.push({\r\n                    \"categories\": { $elemMatch: { _id: { $in: data.categorie_s } } }\r\n                });\r\n            }\r\n\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                start_date_num: { $lte: data.start_date_num, $gte: data.end_date_num }\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                end_date_num: { $lte: data.start_date_num, $gte: data.end_date_num }\r\n            })\r\n            \r\n\r\n            let exits_start_date = await models.Discount.find({ $and: filter_a });//[  ]\r\n\r\n            let exits_end_date = await models.Discount.find({ $and: filter_b });\r\n\r\n            if (exits_start_date.length > 0 || exits_end_date.length > 0) {\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount: discount\r\n            });\r\n\r\n        } catch (error) {\r\n\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n\r\n            if (data.type_segment == 1) {\r\n\r\n                filter_a.push({\r\n                    \"products\": { $elemMatch: { _id: { $in: data.products_s } } }\r\n                })\r\n\r\n                filter_b.push({\r\n                    \"products\": { $elemMatch: { _id: { $in: data.products_s } } }\r\n                })\r\n\r\n            } else {\r\n\r\n                filter_a.push({\r\n                    \"categories\": { $elemMatch: { _id: { $in: data.categories_s } } }\r\n                })\r\n\r\n                filter_b.push({\r\n                    \"categories\": { $elemMatch: { _id: { $in: data.categories_s } } }\r\n                })\r\n            }\r\n\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: { $ne: data._id },\r\n                start_date_num: { $gte: data.start_date_num, $lte: data.end_date_num }\r\n            })\r\n\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: { $ne: data._id },\r\n                end_date_num: { $gte: data.start_date_num, $lte: data.end_date_num }\r\n            })\r\n\r\n            let exists_start_date = await models.Discount.find({ $and: filter_a });\r\n            let exists_end_date = await models.Discount.find({ $and: filter_b });\r\n\r\n\r\n            if (exists_start_date.length > 0 || exists_end_date.length > 0) {\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMNAR ALGUNA OPCION\"\r\n                })\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.findByIdAndUpdate({ _id: data._id }, data);\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE ACUALIZÓ CORRECTAMENTE\",\r\n                discount: discount\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    delete: async (req, res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Discount.findByIdAndDelete({ _id: _id });\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            //let search = req.query.search;\r\n\r\n            let discounts = await models.Discount.find().sort({ 'createdAt': -1 });\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discounts: discounts,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n\r\n    show: async (req, res) => {\r\n        try {\r\n            let discount_id = req.query.discount_id;\r\n            let discount = await models.Discount.findOne({ _id: discount_id })\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discount: discount,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    config: async (req, res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({ state: 2 });\r\n            let Categories = await models.Categorie.find({ state: 1 });\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categories: Categories,\r\n\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1736707473395},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es capaña norma y 2 es venta flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es porcentaje y 2 es moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es desactivo\n  type_segment: {\n    type: Number,\n    default: 1\n  },\n  //1 es por producto y 2 es por categoria\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = exports.default = Discount;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJzdGFydF9kYXRlIiwiRGF0ZSIsImVuZF9kYXRlIiwic3RhcnRfZGF0ZV9udW0iLCJlbmRfZGF0ZV9udW0iLCJzdGF0ZSIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsInRpbWVzdGFtcHMiLCJEaXNjb3VudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJEaXNjb3VudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hIH0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCAgRGlzY291bnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuXHJcbiAgICB0eXBlX2NhbXBhaWduOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDF9LCAvLyAxIGVzIGNhcGHDsWEgbm9ybWEgeSAyIGVzIHZlbnRhIGZsYXNoXHJcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDF9LCAvLyAxIGVzIHBvcmNlbnRhamUgeSAyIGVzIG1vbmVkYVxyXG4gICAgZGlzY291bnQ6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhcnRfZGF0ZToge3R5cGU6RGF0ZSxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGVuZF9kYXRlOnsgdHlwZTpEYXRlLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhcnRfZGF0ZV9udW06IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIGVuZF9kYXRlX251bTp7IHR5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LCAvLzEgZXMgYWN0aXZvIHkgMiBlcyBkZXNhY3Rpdm9cclxuICAgIHR5cGVfc2VnbWVudDp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwcm9kdWN0byB5IDIgZXMgcG9yIGNhdGVnb3JpYVxyXG4gICAgcHJvZHVjdHM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcclxuICAgIGNhdGVnb3JpZXM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOnRydWUsXHJcbn0pO1xyXG5cclxuY29uc3QgRGlzY291bnQgPSBtb25nb29zZS5tb2RlbChcImRpc2NvdW50c1wiLCBEaXNjb3VudFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IERpc2NvdW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categories","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Discount.js"],"sourcesContent":["import mongoose, { Schema } from \"mongoose\";\r\n\r\nconst  DiscountSchema = new Schema({\r\n\r\n    type_campaign: {type:Number, required:true, default: 1}, // 1 es capaña norma y 2 es venta flash\r\n    type_discount: {type:Number, required:true, default: 1}, // 1 es porcentaje y 2 es moneda\r\n    discount: {type: Number, required:true},\r\n    start_date: {type:Date,required:true},\r\n    end_date:{ type:Date,required:true},\r\n    start_date_num: {type:Number,required:true},\r\n    end_date_num:{ type:Number,required:true},\r\n    state:{type:Number,default: 1}, //1 es activo y 2 es desactivo\r\n    type_segment:{type:Number,default: 1},//1 es por producto y 2 es por categoria\r\n    products:[{type:Object, required:false}],\r\n    categories:[{type:Object, required:false}],\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Discount = mongoose.model(\"discounts\", DiscountSchema);\r\nexport default Discount;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE5C,MAAOW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAE/BC,aAAa,EAAE;IAACC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDoB,aAAa,EAAE;IAACH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDqB,QAAQ,EAAE;IAACJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACvCG,UAAU,EAAE;IAACL,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACrCK,QAAQ,EAAC;IAAEP,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACnCM,cAAc,EAAE;IAACR,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC3CO,YAAY,EAAC;IAAET,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACzCQ,KAAK,EAAC;IAACV,IAAI,EAACC,MAAM;IAAClB,OAAO,EAAE;EAAC,CAAC;EAAE;EAChC4B,YAAY,EAAC;IAACX,IAAI,EAACC,MAAM;IAAClB,OAAO,EAAE;EAAC,CAAC;EAAC;EACtC6B,QAAQ,EAAC,CAAC;IAACZ,IAAI,EAACX,MAAM;IAAEa,QAAQ,EAAC;EAAK,CAAC,CAAC;EACxCW,UAAU,EAAC,CAAC;IAACb,IAAI,EAACX,MAAM;IAAEa,QAAQ,EAAC;EAAK,CAAC;AAC7C,CAAC,EAAC;EACEY,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEpB,cAAc,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAC9CgC,QAAQ","ignoreList":[]}},"mtime":1735775341263},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJkaXNjb3VudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGRpc2NvdW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9EaXNjb3VudENvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgYXV0aC52ZXJpZnlBZG1pbiwgZGlzY291bnRDb250cm9sbGVyLnJlZ2lzdGVyICk7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIGF1dGgudmVyaWZ5QWRtaW4sIGRpc2NvdW50Q29udHJvbGxlci51cGRhdGUgKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIGRpc2NvdW50Q29udHJvbGxlci5saXN0ICk7XHJcbnJvdXRlci5nZXQoXCIvY29uZmlnXCIsIGF1dGgudmVyaWZ5QWRtaW4sIGRpc2NvdW50Q29udHJvbGxlci5jb25maWcgKTtcclxucm91dGVyLmdldChcIi9zaG93XCIsIGF1dGgudmVyaWZ5QWRtaW4sIGRpc2NvdW50Q29udHJvbGxlci5zaG93ICk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsIGF1dGgudmVyaWZ5QWRtaW4sIGRpc2NvdW50Q29udHJvbGxlci5kZWxldGUgKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxtQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3RDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRUMsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDQyxRQUFTLENBQUM7QUFDeEVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRUosYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDRyxNQUFPLENBQUM7QUFDbkVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDSyxJQUFLLENBQUM7QUFDL0RWLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDTSxNQUFPLENBQUM7QUFDbkVYLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDTyxJQUFLLENBQUM7QUFDL0RaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBRVYsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDJCQUFrQixDQUFDUSxNQUFPLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FFeERDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport discountController from '../controllers/DiscountController'\r\nimport auth from '../middlewares/auth'\r\n\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\", auth.verifyAdmin, discountController.register );\r\nrouter.put(\"/update\", auth.verifyAdmin, discountController.update );\r\nrouter.get(\"/list\", auth.verifyAdmin, discountController.list );\r\nrouter.get(\"/config\", auth.verifyAdmin, discountController.config );\r\nrouter.get(\"/show\", auth.verifyAdmin, discountController.show );\r\nrouter.delete(\"/delete\", auth.verifyAdmin, discountController.delete );\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACC,QAAS,CAAC;AACxEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAEJ,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACG,MAAO,CAAC;AACnER,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACK,IAAK,CAAC;AAC/DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAAEN,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACM,MAAO,CAAC;AACnEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACO,IAAK,CAAC;AAC/DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAAEV,aAAI,CAACC,WAAW,EAAEC,2BAAkB,CAACQ,MAAO,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAExDC,MAAM","ignoreList":[]}},"mtime":1721667137378},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $lte: data.start_date_num,\n          $gte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $lte: data.start_date_num,\n          $gte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      }); //[  ]\n\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.products_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.products_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categories_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categories_s\n              }\n            }\n          }\n        });\n      }\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exists_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exists_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exists_start_date.length > 0 || exists_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMNAR ALGUNA OPCION\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE ACUALIZÓ CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      //let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJmaWx0ZXJfYSIsImZpbHRlcl9iIiwidHlwZV9zZWdtZW50IiwicHVzaCIsIiRlbGVtTWF0Y2giLCJfaWQiLCIkaW4iLCJwcm9kdWN0X3MiLCJjYXRlZ29yaWVfcyIsInR5cGVfY2FtcGFpZ24iLCJzdGFydF9kYXRlX251bSIsIiRsdGUiLCIkZ3RlIiwiZW5kX2RhdGVfbnVtIiwiZXhpdHNfc3RhcnRfZGF0ZSIsIm1vZGVscyIsIkRpc2NvdW50IiwiZmluZCIsIiRhbmQiLCJleGl0c19lbmRfZGF0ZSIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibWVzc2FnZV90ZXh0IiwiZGlzY291bnQiLCJjcmVhdGUiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwidXBkYXRlIiwicHJvZHVjdHNfcyIsImNhdGVnb3JpZXNfcyIsIiRuZSIsImV4aXN0c19zdGFydF9kYXRlIiwiZXhpc3RzX2VuZF9kYXRlIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJkZWxldGUiLCJxdWVyeSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibGlzdCIsImRpc2NvdW50cyIsInNvcnQiLCJzaG93IiwiZGlzY291bnRfaWQiLCJmaW5kT25lIiwiY29uZmlnIiwiUHJvZHVjdHMiLCJQcm9kdWN0Iiwic3RhdGUiLCJDYXRlZ29yaWVzIiwiQ2F0ZWdvcmllIiwicHJvZHVjdHMiLCJjYXRlZ29yaWVzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJEaXNjb3VudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2EgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9iID0gW107XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlX3NlZ21lbnQgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5wcm9kdWN0X3MgfSB9IH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5wcm9kdWN0X3MgfSB9IH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHsgJGVsZW1NYXRjaDogeyBfaWQ6IHsgJGluOiBkYXRhLmNhdGVnb3JpZV9zIH0gfSB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5jYXRlZ29yaWVfcyB9IH0gfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHsgJGx0ZTogZGF0YS5zdGFydF9kYXRlX251bSwgJGd0ZTogZGF0YS5lbmRfZGF0ZV9udW0gfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyAkbHRlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCAkZ3RlOiBkYXRhLmVuZF9kYXRlX251bSB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7ICRhbmQ6IGZpbHRlcl9hIH0pOy8vWyAgXVxyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyAkYW5kOiBmaWx0ZXJfYiB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIE5PIFNFIFBVRURFIFBST0dSQU1BUiBFTElNSU5BUiBBTEdVTkFTIE9QQ0lPTkVTXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzY291bnQgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudDogZGlzY291bnRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9hID0gW107XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYiA9IFtdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZV9zZWdtZW50ID09IDEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcInByb2R1Y3RzXCI6IHsgJGVsZW1NYXRjaDogeyBfaWQ6IHsgJGluOiBkYXRhLnByb2R1Y3RzX3MgfSB9IH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5wcm9kdWN0c19zIH0gfSB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyAkZWxlbU1hdGNoOiB7IF9pZDogeyAkaW46IGRhdGEuY2F0ZWdvcmllc19zIH0gfSB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5jYXRlZ29yaWVzX3MgfSB9IH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7ICRuZTogZGF0YS5faWQgfSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7ICRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7ICRuZTogZGF0YS5faWQgfSxcclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyAkZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCAkbHRlOiBkYXRhLmVuZF9kYXRlX251bSB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBsZXQgZXhpc3RzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7ICRhbmQ6IGZpbHRlcl9hIH0pO1xyXG4gICAgICAgICAgICBsZXQgZXhpc3RzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyAkYW5kOiBmaWx0ZXJfYiB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoZXhpc3RzX3N0YXJ0X2RhdGUubGVuZ3RoID4gMCB8fCBleGlzdHNfZW5kX2RhdGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIE5PIFNFIFBVRURFIFBST0dSQU1BUiBFTElNTkFSIEFMR1VOQSBPUENJT05cIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiBkYXRhLl9pZCB9LCBkYXRhKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBTRSBBQ1VBTElaw5MgQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6IGRpc2NvdW50XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBkZWxldGU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kRGVsZXRlKHsgX2lkOiBfaWQgfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgbGlzdDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy9sZXQgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcclxuXHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudHMgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCgpLnNvcnQoeyAnY3JlYXRlZEF0JzogLTEgfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudHM6IGRpc2NvdW50cyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdPQ1VSUklPIFVOIFBST0JMRU1BJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICBzaG93OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGlzY291bnRfaWQgPSByZXEucXVlcnkuZGlzY291bnRfaWQ7XHJcbiAgICAgICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHsgX2lkOiBkaXNjb3VudF9pZCB9KVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6IGRpc2NvdW50LFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ09DVVJSSU8gVU4gUFJPQkxFTUEnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgY29uZmlnOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOiAyIH0pO1xyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7IHN0YXRlOiAxIH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllcyxcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWY7RUFDWEcsUUFBUSxFQUFFLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQzFCLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUNuQixJQUFJQyxRQUFRLEdBQUcsRUFBRTtNQUNqQixJQUFJQyxRQUFRLEdBQUcsRUFBRTtNQUVqQixJQUFJSCxJQUFJLENBQUNJLFlBQVksSUFBSSxDQUFDLEVBQUU7UUFDeEJGLFFBQVEsQ0FBQ0csSUFBSSxDQUFDO1VBQ1YsVUFBVSxFQUFFO1lBQUVDLFVBQVUsRUFBRTtjQUFFQyxHQUFHLEVBQUU7Z0JBQUVDLEdBQUcsRUFBRVIsSUFBSSxDQUFDUztjQUFVO1lBQUU7VUFBRTtRQUMvRCxDQUFDLENBQUM7UUFDRk4sUUFBUSxDQUFDRSxJQUFJLENBQUM7VUFDVixVQUFVLEVBQUU7WUFBRUMsVUFBVSxFQUFFO2NBQUVDLEdBQUcsRUFBRTtnQkFBRUMsR0FBRyxFQUFFUixJQUFJLENBQUNTO2NBQVU7WUFBRTtVQUFFO1FBQy9ELENBQUMsQ0FBQztNQUNOLENBQUMsTUFBTTtRQUNIUCxRQUFRLENBQUNHLElBQUksQ0FBQztVQUNWLFlBQVksRUFBRTtZQUFFQyxVQUFVLEVBQUU7Y0FBRUMsR0FBRyxFQUFFO2dC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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categorie_s","type_campaign","start_date_num","$lte","$gte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","products_s","categories_s","$ne","exists_start_date","exists_end_date","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","Categories","Categorie","products","categories"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n\r\n            if (data.type_segment == 1) {\r\n                filter_a.push({\r\n                    \"products\": { $elemMatch: { _id: { $in: data.product_s } } }\r\n                });\r\n                filter_b.push({\r\n                    \"products\": { $elemMatch: { _id: { $in: data.product_s } } }\r\n                });\r\n            } else {\r\n                filter_a.push({\r\n                    \"categories\": { $elemMatch: { _id: { $in: data.categorie_s } } }\r\n                });\r\n                filter_b.push({\r\n                    \"categories\": { $elemMatch: { _id: { $in: data.categorie_s } } }\r\n                });\r\n            }\r\n\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                start_date_num: { $lte: data.start_date_num, $gte: data.end_date_num }\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                end_date_num: { $lte: data.start_date_num, $gte: data.end_date_num }\r\n            })\r\n            \r\n\r\n            let exits_start_date = await models.Discount.find({ $and: filter_a });//[  ]\r\n\r\n            let exits_end_date = await models.Discount.find({ $and: filter_b });\r\n\r\n            if (exits_start_date.length > 0 || exits_end_date.length > 0) {\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount: discount\r\n            });\r\n\r\n        } catch (error) {\r\n\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n\r\n            if (data.type_segment == 1) {\r\n\r\n                filter_a.push({\r\n                    \"products\": { $elemMatch: { _id: { $in: data.products_s } } }\r\n                })\r\n\r\n                filter_b.push({\r\n                    \"products\": { $elemMatch: { _id: { $in: data.products_s } } }\r\n                })\r\n\r\n            } else {\r\n\r\n                filter_a.push({\r\n                    \"categories\": { $elemMatch: { _id: { $in: data.categories_s } } }\r\n                })\r\n\r\n                filter_b.push({\r\n                    \"categories\": { $elemMatch: { _id: { $in: data.categories_s } } }\r\n                })\r\n            }\r\n\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: { $ne: data._id },\r\n                start_date_num: { $gte: data.start_date_num, $lte: data.end_date_num }\r\n            })\r\n\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: { $ne: data._id },\r\n                end_date_num: { $gte: data.start_date_num, $lte: data.end_date_num }\r\n            })\r\n\r\n            let exists_start_date = await models.Discount.find({ $and: filter_a });\r\n            let exists_end_date = await models.Discount.find({ $and: filter_b });\r\n\r\n\r\n            if (exists_start_date.length > 0 || exists_end_date.length > 0) {\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMNAR ALGUNA OPCION\"\r\n                })\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.findByIdAndUpdate({ _id: data._id }, data);\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE ACUALIZÓ CORRECTAMENTE\",\r\n                discount: discount\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    delete: async (req, res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Discount.findByIdAndDelete({ _id: _id });\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            //let search = req.query.search;\r\n\r\n            let discounts = await models.Discount.find().sort({ 'createdAt': -1 });\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discounts: discounts,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n\r\n    show: async (req, res) => {\r\n        try {\r\n            let discount_id = req.query.discount_id;\r\n            let discount = await models.Discount.findOne({ _id: discount_id })\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discount: discount,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n    config: async (req, res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({ state: 2 });\r\n            let Categories = await models.Categorie.find({ state: 1 });\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categories: Categories,\r\n\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' });\r\n        }\r\n    },\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1736707473395},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\nrouter.post(\"/search_product\", _HomeController.default.search_product);\nrouter.get(\"/config-initial\", _HomeController.default.config_initial);\nrouter.post(\"/filter_products\", _HomeController.default.filter_products);\nrouter.post(\"/profile_client\", _auth.default.verifyEcommerce, _HomeController.default.profile_client);\nrouter.post(\"/update_client\", _auth.default.verifyEcommerce, _HomeController.default.update_client);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiaG9tZUNvbnRyb2xsZXIiLCJsaXN0Iiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJwb3N0Iiwic2VhcmNoX3Byb2R1Y3QiLCJjb25maWdfaW5pdGlhbCIsImZpbHRlcl9wcm9kdWN0cyIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJwcm9maWxlX2NsaWVudCIsInVwZGF0ZV9jbGllbnQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJIb21lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcclxuaW1wb3J0IGhvbWVDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlclwiXHJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLCBob21lQ29udHJvbGxlci5saXN0KTsgXHJcbnJvdXRlci5nZXQoXCIvbGFuZGluZy1wcm9kdWN0LzpzbHVnXCIsIGhvbWVDb250cm9sbGVyLnNob3dfbGFuZGluZ19wcm9kdWN0KTsgXHJcbnJvdXRlci5wb3N0KFwiL3NlYXJjaF9wcm9kdWN0XCIgLGhvbWVDb250cm9sbGVyLnNlYXJjaF9wcm9kdWN0KTsgXHJcbnJvdXRlci5nZXQoXCIvY29uZmlnLWluaXRpYWxcIiAsaG9tZUNvbnRyb2xsZXIuY29uZmlnX2luaXRpYWwpOyBcclxucm91dGVyLnBvc3QoXCIvZmlsdGVyX3Byb2R1Y3RzXCIgLGhvbWVDb250cm9sbGVyLmZpbHRlcl9wcm9kdWN0cyk7IFxyXG5cclxuXHJcbnJvdXRlci5wb3N0KFwiL3Byb2ZpbGVfY2xpZW50XCIsYXV0aC52ZXJpZnlFY29tbWVyY2UgLGhvbWVDb250cm9sbGVyLnByb2ZpbGVfY2xpZW50KTsgXHJcbnJvdXRlci5wb3N0KFwiL3VwZGF0ZV9jbGllbnRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSAsaG9tZUNvbnRyb2xsZXIudXBkYXRlX2NsaWVudCk7IFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFFQyx1QkFBYyxDQUFDQyxJQUFJLENBQUM7QUFDeENKLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLHdCQUF3QixFQUFFQyx1QkFBYyxDQUFDRSxvQkFBb0IsQ0FBQztBQUN6RUwsTUFBTSxDQUFDTSxJQUFJLENBQUMsaUJBQWlCLEVBQUVILHVCQUFjLENBQUNJLGNBQWMsQ0FBQztBQUM3RFAsTUFBTSxDQUFDRSxHQUFHLENBQUMsaUJBQWlCLEVBQUVDLHVCQUFjLENBQUNLLGNBQWMsQ0FBQztBQUM1RFIsTUFBTSxDQUFDTSxJQUFJLENBQUMsa0JBQWtCLEVBQUVILHVCQUFjLENBQUNNLGVBQWUsQ0FBQztBQUcvRFQsTUFBTSxDQUFDTSxJQUFJLENBQUMsaUJBQWlCLEVBQUNJLGFBQUksQ0FBQ0MsZUFBZSxFQUFFUix1QkFBYyxDQUFDUyxjQUFjLENBQUM7QUFDbEZaLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGdCQUFnQixFQUFDSSxhQUFJLENBQUNDLGVBQWUsRUFBRVIsdUJBQWMsQ0FBQ1UsYUFBYSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFoQixPQUFBLEdBRWxFQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","_auth","obj","__esModule","default","router","routerx","get","homeController","list","show_landing_product","post","search_product","config_initial","filter_products","auth","verifyEcommerce","profile_client","update_client","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Home.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport homeController from \"../controllers/HomeController\"\r\nimport auth from \"../middlewares/auth\"\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\", homeController.list); \r\nrouter.get(\"/landing-product/:slug\", homeController.show_landing_product); \r\nrouter.post(\"/search_product\" ,homeController.search_product); \r\nrouter.get(\"/config-initial\" ,homeController.config_initial); \r\nrouter.post(\"/filter_products\" ,homeController.filter_products); \r\n\r\n\r\nrouter.post(\"/profile_client\",auth.verifyEcommerce ,homeController.profile_client); \r\nrouter.post(\"/update_client\",auth.verifyEcommerce ,homeController.update_client); \r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEC,uBAAc,CAACC,IAAI,CAAC;AACxCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAAEC,uBAAc,CAACE,oBAAoB,CAAC;AACzEL,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAAEH,uBAAc,CAACI,cAAc,CAAC;AAC7DP,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAAEC,uBAAc,CAACK,cAAc,CAAC;AAC5DR,MAAM,CAACM,IAAI,CAAC,kBAAkB,EAAEH,uBAAc,CAACM,eAAe,CAAC;AAG/DT,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACI,aAAI,CAACC,eAAe,EAAER,uBAAc,CAACS,cAAc,CAAC;AAClFZ,MAAM,CAACM,IAAI,CAAC,gBAAgB,EAACI,aAAI,CAACC,eAAe,EAAER,uBAAc,CAACU,aAAa,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAElEC,MAAM","ignoreList":[]}},"mtime":1751931169276},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = require(\"mongoose\");\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nvar _Product = _interopRequireDefault(require(\"./resources/Product\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resources.default.Slider.slider_list(slider);\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      Categories = Categories.map(categorie => {\n        return _resources.default.Categorie.categorie_list(categorie);\n      });\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      let BestProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEWS = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXIST = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            // por producto\n            let product_a = [];\n            CampaingDiscount.products.forEach(element => {\n              product_a.push(element._id);\n            });\n            if (product_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXIST = CampaingDiscount;\n            }\n          } else {\n            // por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(element => {\n              categories_a.push(element._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXIST = CampaingDiscount;\n            }\n          }\n        }\n        ObjectBestProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEWS, COUNT_REVIEW, DISCOUNT_EXIST));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEWS = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXIST = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            // por producto\n            let product_a = [];\n            CampaingDiscount.products.forEach(element => {\n              product_a.push(element._id);\n            });\n            if (product_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXIST = CampaingDiscount;\n            }\n          } else {\n            // por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(element => {\n              categories_a.push(element._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXIST = CampaingDiscount;\n            }\n          }\n        }\n        ObjectOursProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEWS, COUNT_REVIEW, DISCOUNT_EXIST));\n      }\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      let ProductList = [];\n      if (FlashSale) {\n        if (FlashSale) {\n          for (const product of FlashSale.products) {\n            var ObjecT = await _models.default.Product.findById({\n              _id: product._id\n            });\n            let VARIEDADES = await _models.default.Variedad.find({\n              product: product._id\n            });\n            ProductList.push(_resources.default.Product.product_list(ObjecT, VARIEDADES));\n          }\n        }\n      }\n      res.status(200).json({\n        sliders: Sliders,\n        categories: Categories,\n        best_products: ObjectBestProducts,\n        ours_products: ObjectOursProducts,\n        flashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n      console.log(SLUG);\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let REVIEWS = await _models.default.Review.find({\n        product: Product._id\n      }).populate(\"user\");\n      let AVG_REVIEWS = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n      let COUNT_REVIEW = REVIEWS.length;\n      let RelatedProducts = await _models.default.Product.find({\n        categorie: Product.categorie,\n        state: 2\n      });\n      var ObjectRelatedProduct = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProduct.push(_resources.default.Product.product_list(Product, VARIEDADES));\n      }\n      let SALE_FLASH = null;\n      if (DISCOUNT_ID) {\n        SALE_FLASH = await _models.default.Discount.findById({\n          _id: DISCOUNT_ID\n        });\n      }\n      res.status(200).json({\n        product: _resources.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProduct,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEWS: AVG_REVIEWS,\n        COUNT_REVIEW: COUNT_REVIEW\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  profile_client: async (req, res) => {\n    try {\n      let user_id = req.body.user_id;\n      let Orders = await _models.default.Sale.find({\n        user: user_id\n      });\n      let sale_orders = [];\n      for (const order of Orders) {\n        let detail_orders = await _models.default.SaleDetail.find({\n          sale: order._id\n        }).populate({\n          path: \"product\",\n          populate: {\n            path: \"categorie\"\n          }\n        }).populate(\"variedad\");\n        let sale_address = await _models.default.SaleAddress.find({\n          sale: order._id\n        });\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await _models.default.Review.findOne({\n            sale_detail: detail_order._id\n          });\n          collection_detail_orders.push({\n            _id: detail_order._id,\n            product: {\n              _id: detail_order.product._id,\n              title: detail_order.product.title,\n              slug: detail_order.product.slug,\n              sku: detail_order.product.sku,\n              imagen: 'http://localhost:3000/' + 'api/products/uploads/product/' + detail_order.product.portada,\n              categorie: detail_order.product.categorie,\n              price_soles: detail_order.product.price_soles,\n              price_usd: detail_order.product.price_usd\n            },\n            type_discount: detail_order.type_discount,\n            discount: detail_order.discount,\n            cantidad: detail_order.cantidad,\n            variedad: detail_order.variedad,\n            code_cupon: detail_order.code_cupon,\n            code_discount: detail_order.code_discount,\n            price_unitario: detail_order.price_unitario,\n            subtotal: detail_order.subtotal,\n            total: detail_order.total,\n            review: reviewS\n          });\n        }\n        sale_orders.push({\n          sale: order,\n          sale_detail: collection_detail_orders,\n          sale_address: sale_address\n        });\n      }\n      let ADDRES_CLIENT = await _models.default.AddressClient.find({\n        user: user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRES_CLIENT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  update_client: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.file.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let User = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE \",\n        user: {\n          name: User.name,\n          surname: User.surname,\n          email: User.email,\n          _id: User._id\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n    }\n  },\n  search_product: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        \"title\": new RegExp(search_product, 'i')\n      }).sort({\n        \"createdAt\": 1\n      });\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEWS = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXIST = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            // por producto\n            let product_a = [];\n            CampaingDiscount.products.forEach(element => {\n              product_a.push(element._id);\n            });\n            if (product_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXIST = CampaingDiscount;\n            }\n          } else {\n            // por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(element => {\n              categories_a.push(element._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXIST = CampaingDiscount;\n            }\n          }\n        }\n        Products.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEWS, COUNT_REVIEW, DISCOUNT_EXIST));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n    }\n  },\n  config_initial: async (req, res) => {\n    try {\n      let categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      let variedades = await _models.default.Variedad.find({});\n      res.status(200).json({\n        categories: categories,\n        variedades: variedades\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n    }\n  },\n  filter_products: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let categories_selecteds = req.body.categories_selecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n      let filter = [{\n        state: 2\n      }];\n      var categories_s = [];\n      var products_s = [];\n\n      // { state: 2, \"title\": new RegExp(search_product, 'i') }\n      if (categories_selecteds.length > 0) {\n        categories_selecteds.forEach(categorie => {\n          categories_s.push(categorie);\n        });\n      }\n      ;\n      let CampaingDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      if (is_discount == 2) {\n        if (CampaingDiscount.type_segment == 1) {\n          CampaingDiscount.products.forEach(element => {\n            products_s.push(element._id);\n          });\n        } else {\n          CampaingDiscount.categories.forEach(element => {\n            categories_s.push(element._id);\n          });\n        }\n      }\n      ;\n      if (variedad_selected) {\n        let VAR = await _models.default.Variedad.findById({\n          _id: variedad_selected._id\n        });\n        if (VAR) {\n          products_s.push(VAR.product);\n        }\n      }\n      if (categories_s.length > 0) {\n        filter.push({\n          categorie: {\n            $in: categories_s\n          }\n        });\n      }\n      if (products_s.length > 0) {\n        filter.push({\n          _id: {\n            $in: products_s\n          }\n        });\n      }\n      if (price_min > 0 && price_max > 0) {\n        filter.push({\n          price_usd: {\n            $gte: price_min,\n            $lte: price_max\n          }\n        });\n      }\n      let OursProducts = await _models.default.Product.find({\n        $and: filter\n      }).sort({\n        \"createdAt\": 1\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEWS = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXIST = null;\n        if (CampaingDiscount) {\n          if (CampaingDiscount.type_segment == 1) {\n            // por producto\n            let product_a = [];\n            CampaingDiscount.products.forEach(element => {\n              product_a.push(element._id);\n            });\n            if (product_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXIST = CampaingDiscount;\n            }\n          } else {\n            // por categoria\n            let categories_a = [];\n            CampaingDiscount.categories.forEach(element => {\n              categories_a.push(element._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXIST = CampaingDiscount;\n            }\n          }\n        }\n        Products.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEWS, COUNT_REVIEW, DISCOUNT_EXIST));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJyZXF1aXJlIiwiX21vZGVscyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcmVzb3VyY2VzIiwiX1Byb2R1Y3QiLCJfYmNyeXB0anMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImxpc3QiLCJyZXEiLCJyZXMiLCJUSU1FX05PVyIsInF1ZXJ5IiwiU2xpZGVycyIsIm1vZGVscyIsIlNsaWRlciIsImZpbmQiLCJzdGF0ZSIsIm1hcCIsInNsaWRlciIsInJlc291cmNlcyIsInNsaWRlcl9saXN0IiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsImNhdGVnb3JpZSIsImNhdGVnb3JpZV9saXN0IiwiQ2FtcGFpbmdEaXNjb3VudCIsIkRpc2NvdW50IiwiZmluZE9uZSIsInR5cGVfY2FtcGFpZ24iLCJzdGFydF9kYXRlX251bSIsIiRsdGUiLCJlbmRfZGF0ZV9udW0iLCIkZ3RlIiwiQmVzdFByb2R1Y3RzIiwiUHJvZHVjdCIsInNvcnQiLCJPYmplY3RCZXN0UHJvZHVjdHMiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJwcm9kdWN0IiwiX2lkIiwiUkVWSUVXUyIsIlJldmlldyIsIkFWR19SRVZJRVdTIiwibGVuZ3RoIiwiTWF0aCIsImNlaWwiLCJyZWR1Y2UiLCJzdW0iLCJpdGVtIiwiY2FudGlkYWQiLCJDT1VOVF9SRVZJRVciLCJESVNDT1VOVF9FWElTVCIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RfYSIsInByb2R1Y3RzIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJwdXNoIiwiaW5jbHVkZXMiLCJjYXRlZ29yaWVzX2EiLCJjYXRlZ29yaWVzIiwicHJvZHVjdF9saXN0IiwiT3Vyc1Byb2R1Y3RzIiwiT2JqZWN0T3Vyc1Byb2R1Y3RzIiwiRmxhc2hTYWxlIiwiUHJvZHVjdExpc3QiLCJPYmplY1QiLCJmaW5kQnlJZCIsInN0YXR1cyIsImpzb24iLCJzbGlkZXJzIiwiYmVzdF9wcm9kdWN0cyIsIm91cnNfcHJvZHVjdHMiLCJmbGFzaFNhbGUiLCJjYW1wYWlnbl9wcm9kdWN0cyIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJTTFVHIiwicGFyYW1zIiwic2x1ZyIsIkRJU0NPVU5UX0lEIiwicG9wdWxhdGUiLCJSZWxhdGVkUHJvZHVjdHMiLCJPYmplY3RSZWxhdGVkUHJvZHVjdCIsIlNBTEVfRkxBU0giLCJyZWxhdGVkX3Byb2R1Y3RzIiwicHJvZmlsZV9jbGllbnQiLCJ1c2VyX2lkIiwiYm9keSIsIk9yZGVycyIsIlNhbGUiLCJ1c2VyIiwic2FsZV9vcmRlcnMiLCJvcmRlciIsImRldGFpbF9vcmRlcnMiLCJTYWxlRGV0YWlsIiwic2FsZSIsInBhdGgiLCJzYWxlX2FkZHJlc3MiLCJTYWxlQWRkcmVzcyIsImNvbGxlY3Rpb25fZGV0YWlsX29yZGVycyIsImRldGFpbF9vcmRlciIsInJldmlld1MiLCJzYWxlX2RldGFpbCIsInRpdGxlIiwic2t1IiwiaW1hZ2VuIiwicG9ydGFkYSIsInByaWNlX3NvbGVzIiwicHJpY2VfdXNkIiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50IiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInJldmlldyIsIkFERFJFU19DTElFTlQiLCJBZGRyZXNzQ2xpZW50IiwiYWRkcmVzc19jbGllbnQiLCJ1cGRhdGVfY2xpZW50IiwiZmlsZXMiLCJpbWdfcGF0aCIsImZpbGUiLCJhdmF0YXIiLCJuYW1lIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsInBhc3N3b3JkIiwiYnljcnlwdCIsImhhc2giLCJVc2VyIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJzdXJuYW1lIiwiZW1haWwiLCJzZWFyY2hfcHJvZHVjdCIsIlJlZ0V4cCIsIlByb2R1Y3RzIiwiY29uZmlnX2luaXRpYWwiLCJ2YXJpZWRhZGVzIiwiZmlsdGVyX3Byb2R1Y3RzIiwiY2F0ZWdvcmllc19zZWxlY3RlZHMiLCJpc19kaXNjb3VudCIsInZhcmllZGFkX3NlbGVjdGVkIiwicHJpY2VfbWluIiwicHJpY2VfbWF4IiwiZmlsdGVyIiwiY2F0ZWdvcmllc19zIiwicHJvZHVjdHNfcyIsIlZBUiIsIiRpbiIsIiRhbmQiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkhvbWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgeyBtb2RlbCB9IGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcclxuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi9yZXNvdXJjZXNcIjtcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vcmVzb3VyY2VzL1Byb2R1Y3RcIjtcclxuaW1wb3J0IGJ5Y3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBUSU1FX05PVyA9IHJlcS5xdWVyeS5USU1FX05PVztcclxuXHJcbiAgICAgICAgICAgIGxldCBTbGlkZXJzID0gYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kKHsgc3RhdGU6IDEgfSk7XHJcblxyXG4gICAgICAgICAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoc2xpZGVyID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZXMuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlcik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7IHN0YXRlOiAxIH0pO1xyXG4gICAgICAgICAgICBDYXRlZ29yaWVzID0gQ2F0ZWdvcmllcy5tYXAoY2F0ZWdvcmllID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZXMuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KGNhdGVnb3JpZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZXQgQ2FtcGFpbmdEaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IDEsXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyAkbHRlOiBUSU1FX05PVyB9LFxyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7ICRndGU6IFRJTUVfTk9XIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgQmVzdFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOiAyIH0pLnNvcnQoeyBcImNyZWF0ZWRBdFwiOiAtMSB9KTtcclxuICAgICAgICAgICAgdmFyIE9iamVjdEJlc3RQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgQmVzdFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHsgcHJvZHVjdDogUHJvZHVjdC5faWQgfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7IHByb2R1Y3Q6IFByb2R1Y3QuX2lkIH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVdTID0gUkVWSUVXUy5sZW5ndGggPiAwID8gTWF0aC5jZWlsKFJFVklFV1MucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsIDApIC8gUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGxldCBESVNDT1VOVF9FWElTVCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ2FtcGFpbmdEaXNjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDYW1wYWluZ0Rpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKSB7IC8vIHBvciBwcm9kdWN0b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdF9hID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQucHJvZHVjdHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RfYS5wdXNoKGVsZW1lbnQuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0X2EuaW5jbHVkZXMoUHJvZHVjdC5faWQgKyBcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJU1QgPSBDYW1wYWluZ0Rpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gcG9yIGNhdGVnb3JpYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQuY2F0ZWdvcmllcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc19hLnB1c2goZWxlbWVudC5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3JpZXNfYS5pbmNsdWRlcyhQcm9kdWN0LmNhdGVnb3JpZSArIFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElTVCA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBPYmplY3RCZXN0UHJvZHVjdHMucHVzaChyZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCwgVkFSSUVEQURFUywgQVZHX1JFVklFV1MsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJU1QpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IE91cnNQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzdGF0ZTogMiB9KS5zb3J0KHsgXCJjcmVhdGVkQXRcIjogMSB9KTtcclxuICAgICAgICAgICAgdmFyIE9iamVjdE91cnNQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgT3Vyc1Byb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHsgcHJvZHVjdDogUHJvZHVjdC5faWQgfSlcclxuICAgICAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHsgcHJvZHVjdDogUHJvZHVjdC5faWQgfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgQVZHX1JFVklFV1MgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgaXRlbS5jYW50aWRhZCwgMCkgLyBSRVZJRVdTLmxlbmd0aCkgOiAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IENPVU5UX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgbGV0IERJU0NPVU5UX0VYSVNUID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmIChDYW1wYWluZ0Rpc2NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKENhbXBhaW5nRGlzY291bnQudHlwZV9zZWdtZW50ID09IDEpIHsgLy8gcG9yIHByb2R1Y3RvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0X2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdF9hLnB1c2goZWxlbWVudC5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCArIFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElTVCA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBwb3IgY2F0ZWdvcmlhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yaWVzX2EgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX2EucHVzaChlbGVtZW50Ll9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcmllc19hLmluY2x1ZGVzKFByb2R1Y3QuY2F0ZWdvcmllICsgXCJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVNUID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE9iamVjdE91cnNQcm9kdWN0cy5wdXNoKHJlc291cmNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LCBWQVJJRURBREVTLCBBVkdfUkVWSUVXUywgQ09VTlRfUkVWSUVXLCBESVNDT1VOVF9FWElTVCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgRmxhc2hTYWxlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMixcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7ICRsdGU6IFRJTUVfTk9XIH0sXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHsgJGd0ZTogVElNRV9OT1cgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoRmxhc2hTYWxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoRmxhc2hTYWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9kdWN0IG9mIEZsYXNoU2FsZS5wcm9kdWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgT2JqZWNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoeyBfaWQ6IHByb2R1Y3QuX2lkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHsgcHJvZHVjdDogcHJvZHVjdC5faWQgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvZHVjdExpc3QucHVzaChyZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoT2JqZWNULCBWQVJJRURBREVTKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgYmVzdF9wcm9kdWN0czogT2JqZWN0QmVzdFByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgb3Vyc19wcm9kdWN0czogT2JqZWN0T3Vyc1Byb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgZmxhc2hTYWxlOiBGbGFzaFNhbGUsXHJcbiAgICAgICAgICAgICAgICBjYW1wYWlnbl9wcm9kdWN0czogUHJvZHVjdExpc3QsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIEVSUk9SXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICBzaG93X2xhbmRpbmdfcHJvZHVjdDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IFNMVUcgPSByZXEucGFyYW1zLnNsdWc7XHJcbiAgICAgICAgICAgIGxldCBESVNDT1VOVF9JRCA9IHJlcS5xdWVyeS5faWQ7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFNMVUcpO1xyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHsgc2x1ZzogU0xVRywgc3RhdGU6IDIgfSk7XHJcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoeyBwcm9kdWN0OiBQcm9kdWN0Ll9pZCB9KTtcclxuICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoeyBwcm9kdWN0OiBQcm9kdWN0Ll9pZCB9KS5wb3B1bGF0ZShcInVzZXJcIik7XHJcbiAgICAgICAgICAgIGxldCBBVkdfUkVWSUVXUyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLCAwKSAvIFJFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcclxuICAgICAgICAgICAgbGV0IFJlbGF0ZWRQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBjYXRlZ29yaWU6IFByb2R1Y3QuY2F0ZWdvcmllLCBzdGF0ZTogMiB9KTtcclxuICAgICAgICAgICAgdmFyIE9iamVjdFJlbGF0ZWRQcm9kdWN0ID0gW107XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBSZWxhdGVkUHJvZHVjdHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoeyBwcm9kdWN0OiBQcm9kdWN0Ll9pZCB9KVxyXG4gICAgICAgICAgICAgICAgT2JqZWN0UmVsYXRlZFByb2R1Y3QucHVzaChyZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCwgVkFSSUVEQURFUykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBTQUxFX0ZMQVNIID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKERJU0NPVU5UX0lEKSB7XHJcbiAgICAgICAgICAgICAgICBTQUxFX0ZMQVNIID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkKHsgX2lkOiBESVNDT1VOVF9JRCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0OiByZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCwgVkFSSUVEQURFUyksXHJcbiAgICAgICAgICAgICAgICByZWxhdGVkX3Byb2R1Y3RzOiBPYmplY3RSZWxhdGVkUHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIFNBTEVfRkxBU0g6IFNBTEVfRkxBU0gsXHJcbiAgICAgICAgICAgICAgICBSRVZJRVdTOiBSRVZJRVdTLFxyXG4gICAgICAgICAgICAgICAgQVZHX1JFVklFV1M6IEFWR19SRVZJRVdTLFxyXG4gICAgICAgICAgICAgICAgQ09VTlRfUkVWSUVXOiBDT1VOVF9SRVZJRVcsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBFUlJPUlwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwcm9maWxlX2NsaWVudDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHVzZXJfaWQgPSByZXEuYm9keS51c2VyX2lkO1xyXG4gICAgICAgICAgICBsZXQgT3JkZXJzID0gYXdhaXQgbW9kZWxzLlNhbGUuZmluZCh7IHVzZXI6IHVzZXJfaWQgfSk7XHJcbiAgICAgICAgICAgIGxldCBzYWxlX29yZGVycyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9yZGVyIG9mIE9yZGVycykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRldGFpbF9vcmRlcnMgPSBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5maW5kKHsgc2FsZTogb3JkZXIuX2lkIH0pLnBvcHVsYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBcImNhdGVnb3JpZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2FsZV9hZGRyZXNzID0gYXdhaXQgbW9kZWxzLlNhbGVBZGRyZXNzLmZpbmQoeyBzYWxlOiBvcmRlci5faWQgfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRldGFpbF9vcmRlciBvZiBkZXRhaWxfb3JkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldmlld1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmRPbmUoeyBzYWxlX2RldGFpbDogZGV0YWlsX29yZGVyLl9pZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogZGV0YWlsX29yZGVyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZGV0YWlsX29yZGVyLnByb2R1Y3QudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbHVnOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5zbHVnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2t1OiBkZXRhaWxfb3JkZXIucHJvZHVjdC5za3UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJyArICdhcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycgKyBkZXRhaWxfb3JkZXIucHJvZHVjdC5wb3J0YWRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5jYXRlZ29yaWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZV9zb2xlczogZGV0YWlsX29yZGVyLnByb2R1Y3QucHJpY2Vfc29sZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZV91c2Q6IGRldGFpbF9vcmRlci5wcm9kdWN0LnByaWNlX3VzZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9kaXNjb3VudDogZGV0YWlsX29yZGVyLnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50OiBkZXRhaWxfb3JkZXIuZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnRpZGFkOiBkZXRhaWxfb3JkZXIuY2FudGlkYWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmllZGFkOiBkZXRhaWxfb3JkZXIudmFyaWVkYWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfY3Vwb246IGRldGFpbF9vcmRlci5jb2RlX2N1cG9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2Rpc2NvdW50OiBkZXRhaWxfb3JkZXIuY29kZV9kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VfdW5pdGFyaW86IGRldGFpbF9vcmRlci5wcmljZV91bml0YXJpbyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidG90YWw6IGRldGFpbF9vcmRlci5zdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IGRldGFpbF9vcmRlci50b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3OiByZXZpZXdTLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2FsZV9vcmRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2FsZTogb3JkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgc2FsZV9kZXRhaWw6IGNvbGxlY3Rpb25fZGV0YWlsX29yZGVycyxcclxuICAgICAgICAgICAgICAgICAgICBzYWxlX2FkZHJlc3M6IHNhbGVfYWRkcmVzc1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IEFERFJFU19DTElFTlQgPSBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kKHtcclxuICAgICAgICAgICAgICAgIHVzZXI6IHVzZXJfaWRcclxuICAgICAgICAgICAgfSkuc29ydCh7ICdjcmVhdGVkQXQnOiAtMSB9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc2FsZV9vcmRlcnM6IHNhbGVfb3JkZXJzLFxyXG4gICAgICAgICAgICAgICAgYWRkcmVzc19jbGllbnQ6IEFERFJFU19DTElFTlQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBFUlJPUlwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGVfY2xpZW50OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAocmVxLmZpbGVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZS5hdmF0YXIucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChyZXEuYm9keS5wYXNzd29yZCkge1xyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBieWNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIDEwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmRVcGRhdGUoeyBfaWQ6IHJlcS5ib2R5Ll9pZCB9LCByZXEuYm9keSk7XHJcbiAgICAgICAgICAgIGxldCBVc2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7IF9pZDogcmVxLmJvZHkuX2lkIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNFIEdVQVJETyBTVSBJTkZPUk1BQ0nDk04gQ09SUkVDVEFNRU5URSBcIixcclxuICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogVXNlci5zdXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogVXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBVc2VyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBFUlJPUlwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuICAgIHNlYXJjaF9wcm9kdWN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgVElNRV9OT1cgPSByZXEucXVlcnkuVElNRV9OT1c7XHJcbiAgICAgICAgICAgIGxldCBzZWFyY2hfcHJvZHVjdCA9IHJlcS5ib2R5LnNlYXJjaF9wcm9kdWN0O1xyXG4gICAgICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOiAyLCBcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoX3Byb2R1Y3QsICdpJykgfSkuc29ydCh7IFwiY3JlYXRlZEF0XCI6IDEgfSk7XHJcbiAgICAgICAgICAgIGxldCBDYW1wYWluZ0Rpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7ICRsdGU6IFRJTUVfTk9XIH0sXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHsgJGd0ZTogVElNRV9OT1cgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIFByb2R1Y3RzID0gW107XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBPdXJzUHJvZHVjdHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoeyBwcm9kdWN0OiBQcm9kdWN0Ll9pZCB9KVxyXG4gICAgICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoeyBwcm9kdWN0OiBQcm9kdWN0Ll9pZCB9KTtcclxuICAgICAgICAgICAgICAgIGxldCBBVkdfUkVWSUVXUyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLCAwKSAvIFJFVklFV1MubGVuZ3RoKSA6IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJU1QgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKENhbXBhaW5nRGlzY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSkgeyAvLyBwb3IgcHJvZHVjdG9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0X2EucHVzaChlbGVtZW50Ll9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdF9hLmluY2x1ZGVzKFByb2R1Y3QuX2lkICsgXCJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVNUID0gQ2FtcGFpbmdEaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHBvciBjYXRlZ29yaWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfYSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDYW1wYWluZ0Rpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGVsZW1lbnQuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUgKyBcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJU1QgPSBDYW1wYWluZ0Rpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgUHJvZHVjdHMucHVzaChyZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCwgVkFSSUVEQURFUywgQVZHX1JFVklFV1MsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJU1QpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBFUlJPUlwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgY29uZmlnX2luaXRpYWw6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7IHN0YXRlOiAxIH0pO1xyXG4gICAgICAgICAgICBsZXQgdmFyaWVkYWRlcyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHt9KTtcclxuXHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIEVSUk9SXCJcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZmlsdGVyX3Byb2R1Y3RzOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgVElNRV9OT1cgPSByZXEucXVlcnkuVElNRV9OT1c7XHJcbiAgICAgICAgICAgIGxldCBzZWFyY2hfcHJvZHVjdCA9IHJlcS5ib2R5LnNlYXJjaF9wcm9kdWN0O1xyXG5cclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXNfc2VsZWN0ZWRzID0gcmVxLmJvZHkuY2F0ZWdvcmllc19zZWxlY3RlZHM7XHJcbiAgICAgICAgICAgIGxldCBpc19kaXNjb3VudCA9IHJlcS5ib2R5LmlzX2Rpc2NvdW50O1xyXG4gICAgICAgICAgICBsZXQgdmFyaWVkYWRfc2VsZWN0ZWQgPSByZXEuYm9keS52YXJpZWRhZF9zZWxlY3RlZDtcclxuICAgICAgICAgICAgbGV0IHByaWNlX21pbiA9IHJlcS5ib2R5LnByaWNlX21pbjtcclxuICAgICAgICAgICAgbGV0IHByaWNlX21heCA9IHJlcS5ib2R5LnByaWNlX21heDtcclxuXHJcbiAgICAgICAgICAgIGxldCBmaWx0ZXIgPSBbXHJcbiAgICAgICAgICAgICAgICB7IHN0YXRlOiAyIH0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIHZhciBjYXRlZ29yaWVzX3MgPSBbXTtcclxuICAgICAgICAgICAgdmFyIHByb2R1Y3RzX3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIHsgc3RhdGU6IDIsIFwidGl0bGVcIjogbmV3IFJlZ0V4cChzZWFyY2hfcHJvZHVjdCwgJ2knKSB9XHJcbiAgICAgICAgICAgIGlmIChjYXRlZ29yaWVzX3NlbGVjdGVkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX3NlbGVjdGVkcy5mb3JFYWNoKChjYXRlZ29yaWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX3MucHVzaChjYXRlZ29yaWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGxldCBDYW1wYWluZ0Rpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7ICRsdGU6IFRJTUVfTk9XIH0sXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHsgJGd0ZTogVElNRV9OT1cgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc19kaXNjb3VudCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ2FtcGFpbmdEaXNjb3VudC50eXBlX3NlZ21lbnQgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQucHJvZHVjdHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfcy5wdXNoKGVsZW1lbnQuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FtcGFpbmdEaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfcy5wdXNoKGVsZW1lbnQuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YXJpZWRhZF9zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IFZBUiA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZCh7IF9pZDogdmFyaWVkYWRfc2VsZWN0ZWQuX2lkIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKFZBUikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzX3MucHVzaChWQVIucHJvZHVjdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNhdGVnb3JpZXNfcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllOnskaW46IGNhdGVnb3JpZXNfc30sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJvZHVjdHNfcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgX2lkIDp7JGluOnByb2R1Y3RzX3N9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJpY2VfbWluID4gMCAmJiBwcmljZV9tYXggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VfdXNkOiB7ICRndGU6IHByaWNlX21pbiwgJGx0ZTogcHJpY2VfbWF4IH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7ICRhbmQ6IGZpbHRlciB9KS5zb3J0KHsgXCJjcmVhdGVkQXRcIjogMSB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgT3Vyc1Byb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHsgcHJvZHVjdDogUHJvZHVjdC5faWQgfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7IHByb2R1Y3Q6IFByb2R1Y3QuX2lkIH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IEFWR19SRVZJRVdTID0gUkVWSUVXUy5sZW5ndGggPiAwID8gTWF0aC5jZWlsKFJFVklFV1MucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsIDApIC8gUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGxldCBESVNDT1VOVF9FWElTVCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ2FtcGFpbmdEaXNjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDYW1wYWluZ0Rpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKSB7IC8vIHBvciBwcm9kdWN0b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdF9hID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQucHJvZHVjdHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RfYS5wdXNoKGVsZW1lbnQuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0X2EuaW5jbHVkZXMoUHJvZHVjdC5faWQgKyBcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJU1QgPSBDYW1wYWluZ0Rpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gcG9yIGNhdGVnb3JpYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhbXBhaW5nRGlzY291bnQuY2F0ZWdvcmllcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc19hLnB1c2goZWxlbWVudC5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3JpZXNfYS5pbmNsdWRlcyhQcm9kdWN0LmNhdGVnb3JpZSArIFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElTVCA9IENhbXBhaW5nRGlzY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBQcm9kdWN0cy5wdXNoKHJlc291cmNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LCBWQVJJRURBREVTLCBBVkdfUkVWSUVXUywgQ09VTlRfUkVWSUVXLCBESVNDT1VOVF9FWElTVCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogUHJvZHVjdHMsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBFUlJPUlwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLFNBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFD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","map":{"version":3,"names":["_mongoose","require","_models","_interopRequireDefault","_resources","_Product","_bcryptjs","obj","__esModule","default","_default","exports","list","req","res","TIME_NOW","query","Sliders","models","Slider","find","state","map","slider","resources","slider_list","Categories","Categorie","categorie","categorie_list","CampaingDiscount","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","BestProducts","Product","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","REVIEWS","Review","AVG_REVIEWS","length","Math","ceil","reduce","sum","item","cantidad","COUNT_REVIEW","DISCOUNT_EXIST","type_segment","product_a","products","forEach","element","push","includes","categories_a","categories","product_list","OursProducts","ObjectOursProducts","FlashSale","ProductList","ObjecT","findById","status","json","sliders","best_products","ours_products","flashSale","campaign_products","error","send","message","console","log","show_landing_product","SLUG","params","slug","DISCOUNT_ID","populate","RelatedProducts","ObjectRelatedProduct","SALE_FLASH","related_products","profile_client","user_id","body","Orders","Sale","user","sale_orders","order","detail_orders","SaleDetail","sale","path","sale_address","SaleAddress","collection_detail_orders","detail_order","reviewS","sale_detail","title","sku","imagen","portada","price_soles","price_usd","type_discount","discount","variedad","code_cupon","code_discount","price_unitario","subtotal","total","review","ADDRES_CLIENT","AddressClient","address_client","update_client","files","img_path","file","avatar","name","split","avatar_name","password","bycrypt","hash","User","findByIdAndUpdate","surname","email","search_product","RegExp","Products","config_initial","variedades","filter_products","categories_selecteds","is_discount","variedad_selected","price_min","price_max","filter","categories_s","products_s","VAR","$in","$and"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["HomeController.js"],"sourcesContent":["\r\nimport { model } from \"mongoose\";\r\nimport models from \"../models\";\r\nimport resources from \"./resources\";\r\nimport Product from \"./resources/Product\";\r\nimport bycrypt from 'bcryptjs'\r\n\r\n\r\n\r\nexport default {\r\n    list: async (req, res) => {\r\n        try {\r\n            var TIME_NOW = req.query.TIME_NOW;\r\n\r\n            let Sliders = await models.Slider.find({ state: 1 });\r\n\r\n            Sliders = Sliders.map(slider => {\r\n                return resources.Slider.slider_list(slider);\r\n            })\r\n\r\n            let Categories = await models.Categorie.find({ state: 1 });\r\n            Categories = Categories.map(categorie => {\r\n                return resources.Categorie.categorie_list(categorie);\r\n            });\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: { $lte: TIME_NOW },\r\n                end_date_num: { $gte: TIME_NOW }\r\n            });\r\n\r\n            let BestProducts = await models.Product.find({ state: 2 }).sort({ \"createdAt\": -1 });\r\n            var ObjectBestProducts = [];\r\n            for (const Product of BestProducts) {\r\n                let VARIEDADES = await models.Variedad.find({ product: Product._id });\r\n                let REVIEWS = await models.Review.find({ product: Product._id });\r\n                let AVG_REVIEWS = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXIST = null;\r\n                if (CampaingDiscount) {\r\n                    if (CampaingDiscount.type_segment == 1) { // por producto\r\n                        let product_a = [];\r\n                        CampaingDiscount.products.forEach(element => {\r\n                            product_a.push(element._id);\r\n                        });\r\n                        if (product_a.includes(Product._id + \"\")) {\r\n                            DISCOUNT_EXIST = CampaingDiscount;\r\n                        }\r\n                    } else { // por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(element => {\r\n                            categories_a.push(element._id);\r\n                        });\r\n                        if (categories_a.includes(Product.categorie + \"\")) {\r\n                            DISCOUNT_EXIST = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                ObjectBestProducts.push(resources.Product.product_list(Product, VARIEDADES, AVG_REVIEWS, COUNT_REVIEW, DISCOUNT_EXIST));\r\n            }\r\n\r\n            let OursProducts = await models.Product.find({ state: 2 }).sort({ \"createdAt\": 1 });\r\n            var ObjectOursProducts = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({ product: Product._id })\r\n                let REVIEWS = await models.Review.find({ product: Product._id });\r\n                let AVG_REVIEWS = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXIST = null;\r\n                if (CampaingDiscount) {\r\n                    if (CampaingDiscount.type_segment == 1) { // por producto\r\n                        let product_a = [];\r\n                        CampaingDiscount.products.forEach(element => {\r\n                            product_a.push(element._id);\r\n                        });\r\n                        if (product_a.includes(Product._id + \"\")) {\r\n                            DISCOUNT_EXIST = CampaingDiscount;\r\n                        }\r\n                    } else { // por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(element => {\r\n                            categories_a.push(element._id);\r\n                        });\r\n                        if (categories_a.includes(Product.categorie + \"\")) {\r\n                            DISCOUNT_EXIST = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                ObjectOursProducts.push(resources.Product.product_list(Product, VARIEDADES, AVG_REVIEWS, COUNT_REVIEW, DISCOUNT_EXIST));\r\n            }\r\n\r\n            let FlashSale = await models.Discount.findOne({\r\n                type_campaign: 2,\r\n                start_date_num: { $lte: TIME_NOW },\r\n                end_date_num: { $gte: TIME_NOW }\r\n            });\r\n\r\n            let ProductList = [];\r\n            if (FlashSale) {\r\n                if (FlashSale) {\r\n                    for (const product of FlashSale.products) {\r\n                        var ObjecT = await models.Product.findById({ _id: product._id });\r\n                        let VARIEDADES = await models.Variedad.find({ product: product._id })\r\n                        ProductList.push(resources.Product.product_list(ObjecT, VARIEDADES));\r\n                    }\r\n                }\r\n            }\r\n            res.status(200).json({\r\n                sliders: Sliders,\r\n                categories: Categories,\r\n                best_products: ObjectBestProducts,\r\n                ours_products: ObjectOursProducts,\r\n                flashSale: FlashSale,\r\n                campaign_products: ProductList,\r\n            });\r\n\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n\r\n    show_landing_product: async (req, res) => {\r\n        try {\r\n            let SLUG = req.params.slug;\r\n            let DISCOUNT_ID = req.query._id;\r\n            console.log(SLUG);\r\n\r\n            let Product = await models.Product.findOne({ slug: SLUG, state: 2 });\r\n            let VARIEDADES = await models.Variedad.find({ product: Product._id });\r\n            let REVIEWS = await models.Review.find({ product: Product._id }).populate(\"user\");\r\n            let AVG_REVIEWS = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\r\n            let COUNT_REVIEW = REVIEWS.length;\r\n            let RelatedProducts = await models.Product.find({ categorie: Product.categorie, state: 2 });\r\n            var ObjectRelatedProduct = [];\r\n            for (const Product of RelatedProducts) {\r\n                let VARIEDADES = await models.Variedad.find({ product: Product._id })\r\n                ObjectRelatedProduct.push(resources.Product.product_list(Product, VARIEDADES));\r\n            }\r\n            let SALE_FLASH = null;\r\n            if (DISCOUNT_ID) {\r\n                SALE_FLASH = await models.Discount.findById({ _id: DISCOUNT_ID });\r\n            }\r\n            res.status(200).json({\r\n                product: resources.Product.product_list(Product, VARIEDADES),\r\n                related_products: ObjectRelatedProduct,\r\n                SALE_FLASH: SALE_FLASH,\r\n                REVIEWS: REVIEWS,\r\n                AVG_REVIEWS: AVG_REVIEWS,\r\n                COUNT_REVIEW: COUNT_REVIEW,\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n    profile_client: async (req, res) => {\r\n        try {\r\n            let user_id = req.body.user_id;\r\n            let Orders = await models.Sale.find({ user: user_id });\r\n            let sale_orders = [];\r\n            for (const order of Orders) {\r\n                let detail_orders = await models.SaleDetail.find({ sale: order._id }).populate({\r\n                    path: \"product\",\r\n                    populate: {\r\n                        path: \"categorie\"\r\n                    },\r\n                }).populate(\"variedad\");\r\n                let sale_address = await models.SaleAddress.find({ sale: order._id });\r\n                let collection_detail_orders = [];\r\n                for (const detail_order of detail_orders) {\r\n                    let reviewS = await models.Review.findOne({ sale_detail: detail_order._id });\r\n                    collection_detail_orders.push({\r\n                        _id: detail_order._id,\r\n                        product: {\r\n                            _id: detail_order.product._id,\r\n                            title: detail_order.product.title,\r\n                            slug: detail_order.product.slug,\r\n                            sku: detail_order.product.sku,\r\n                            imagen: 'http://localhost:3000/' + 'api/products/uploads/product/' + detail_order.product.portada,\r\n                            categorie: detail_order.product.categorie,\r\n                            price_soles: detail_order.product.price_soles,\r\n                            price_usd: detail_order.product.price_usd,\r\n                        },\r\n                        type_discount: detail_order.type_discount,\r\n                        discount: detail_order.discount,\r\n                        cantidad: detail_order.cantidad,\r\n                        variedad: detail_order.variedad,\r\n                        code_cupon: detail_order.code_cupon,\r\n                        code_discount: detail_order.code_discount,\r\n                        price_unitario: detail_order.price_unitario,\r\n                        subtotal: detail_order.subtotal,\r\n                        total: detail_order.total,\r\n                        review: reviewS,\r\n                    });\r\n                }\r\n                sale_orders.push({\r\n                    sale: order,\r\n                    sale_detail: collection_detail_orders,\r\n                    sale_address: sale_address\r\n                });\r\n            }\r\n            let ADDRES_CLIENT = await models.AddressClient.find({\r\n                user: user_id\r\n            }).sort({ 'createdAt': -1 });\r\n            res.status(200).json({\r\n                sale_orders: sale_orders,\r\n                address_client: ADDRES_CLIENT,\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n    update_client: async (req, res) => {\r\n        try {\r\n            if (req.files) {\r\n                var img_path = req.file.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name);\r\n            }\r\n\r\n            if (req.body.password) {\r\n                req.body.password = await bycrypt.hash(req.body.password, 10);\r\n            }\r\n\r\n            await models.User.findByIdAndUpdate({ _id: req.body._id }, req.body);\r\n            let User = await models.User.findOne({ _id: req.body._id });\r\n            res.status(200).json(\r\n                {\r\n                    message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE \",\r\n                    user: {\r\n                        name: User.name,\r\n                        surname: User.surname,\r\n                        email: User.email,\r\n                        _id: User._id,\r\n                    }\r\n                })\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO ERROR\"\r\n            });\r\n        }\r\n    },\r\n\r\n\r\n    search_product: async (req, res) => {\r\n        try {\r\n            var TIME_NOW = req.query.TIME_NOW;\r\n            let search_product = req.body.search_product;\r\n            let OursProducts = await models.Product.find({ state: 2, \"title\": new RegExp(search_product, 'i') }).sort({ \"createdAt\": 1 });\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: { $lte: TIME_NOW },\r\n                end_date_num: { $gte: TIME_NOW }\r\n            });\r\n            var Products = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({ product: Product._id })\r\n                let REVIEWS = await models.Review.find({ product: Product._id });\r\n                let AVG_REVIEWS = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXIST = null;\r\n                if (CampaingDiscount) {\r\n                    if (CampaingDiscount.type_segment == 1) { // por producto\r\n                        let product_a = [];\r\n                        CampaingDiscount.products.forEach(element => {\r\n                            product_a.push(element._id);\r\n                        });\r\n                        if (product_a.includes(Product._id + \"\")) {\r\n                            DISCOUNT_EXIST = CampaingDiscount;\r\n                        }\r\n                    } else { // por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(element => {\r\n                            categories_a.push(element._id);\r\n                        });\r\n                        if (categories_a.includes(Product.categorie + \"\")) {\r\n                            DISCOUNT_EXIST = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                Products.push(resources.Product.product_list(Product, VARIEDADES, AVG_REVIEWS, COUNT_REVIEW, DISCOUNT_EXIST));\r\n            }\r\n\r\n            res.status(200).json({\r\n                products: Products,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO ERROR\"\r\n            });\r\n        }\r\n    },\r\n\r\n    config_initial: async (req, res) => {\r\n        try {\r\n\r\n            let categories = await models.Categorie.find({ state: 1 });\r\n            let variedades = await models.Variedad.find({});\r\n\r\n\r\n            res.status(200).json({\r\n                categories: categories,\r\n                variedades: variedades,\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO ERROR\"\r\n            });\r\n\r\n        }\r\n    },\r\n\r\n    filter_products: async (req, res) => {\r\n        try {\r\n            var TIME_NOW = req.query.TIME_NOW;\r\n            let search_product = req.body.search_product;\r\n\r\n            let categories_selecteds = req.body.categories_selecteds;\r\n            let is_discount = req.body.is_discount;\r\n            let variedad_selected = req.body.variedad_selected;\r\n            let price_min = req.body.price_min;\r\n            let price_max = req.body.price_max;\r\n\r\n            let filter = [\r\n                { state: 2 },\r\n            ];\r\n            var categories_s = [];\r\n            var products_s = [];\r\n\r\n            // { state: 2, \"title\": new RegExp(search_product, 'i') }\r\n            if (categories_selecteds.length > 0) {\r\n                categories_selecteds.forEach((categorie) => {\r\n                    categories_s.push(categorie);\r\n                });\r\n            };\r\n            let CampaingDiscount = await models.Discount.findOne({\r\n                type_campaign: 1,\r\n                start_date_num: { $lte: TIME_NOW },\r\n                end_date_num: { $gte: TIME_NOW }\r\n            });\r\n\r\n            if (is_discount == 2) {\r\n                if (CampaingDiscount.type_segment == 1) {\r\n                    CampaingDiscount.products.forEach(element => {\r\n                        products_s.push(element._id);\r\n                    });\r\n                } else {\r\n                    CampaingDiscount.categories.forEach(element => {\r\n                        categories_s.push(element._id);\r\n                    });\r\n                }\r\n            };\r\n\r\n            if (variedad_selected) {\r\n                let VAR = await models.Variedad.findById({ _id: variedad_selected._id });\r\n                if (VAR) {\r\n                    products_s.push(VAR.product);\r\n                }\r\n            }\r\n            if (categories_s.length > 0) {\r\n                filter.push({\r\n                    categorie:{$in: categories_s},\r\n                });\r\n            }\r\n            if (products_s.length > 0) {\r\n                filter.push({\r\n                    _id :{$in:products_s}\r\n                });\r\n            }\r\n            if (price_min > 0 && price_max > 0) {\r\n                filter.push({\r\n                    price_usd: { $gte: price_min, $lte: price_max },\r\n                });\r\n            }\r\n            let OursProducts = await models.Product.find({ $and: filter }).sort({ \"createdAt\": 1 });\r\n\r\n            var Products = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({ product: Product._id });\r\n                let REVIEWS = await models.Review.find({ product: Product._id });\r\n                let AVG_REVIEWS = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                let DISCOUNT_EXIST = null;\r\n                if (CampaingDiscount) {\r\n                    if (CampaingDiscount.type_segment == 1) { // por producto\r\n                        let product_a = [];\r\n                        CampaingDiscount.products.forEach(element => {\r\n                            product_a.push(element._id);\r\n                        });\r\n                        if (product_a.includes(Product._id + \"\")) {\r\n                            DISCOUNT_EXIST = CampaingDiscount;\r\n                        }\r\n                    } else { // por categoria\r\n                        let categories_a = [];\r\n                        CampaingDiscount.categories.forEach(element => {\r\n                            categories_a.push(element._id);\r\n                        });\r\n                        if (categories_a.includes(Product.categorie + \"\")) {\r\n                            DISCOUNT_EXIST = CampaingDiscount;\r\n                        }\r\n                    }\r\n                }\r\n                Products.push(resources.Product.product_list(Product, VARIEDADES, AVG_REVIEWS, COUNT_REVIEW, DISCOUNT_EXIST));\r\n            }\r\n\r\n            res.status(200).json({\r\n                products: Products,\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO ERROR\"\r\n            });\r\n        }\r\n    },\r\n\r\n\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1751933346112},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\n\n//router.post(\"/profile_client\",auth.verifyEcommerce ,homeController.profile_client); \nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiaG9tZUNvbnRyb2xsZXIiLCJsaXN0Iiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJIb21lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcclxuaW1wb3J0IGhvbWVDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlclwiXHJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLCBob21lQ29udHJvbGxlci5saXN0KTsgXHJcbnJvdXRlci5nZXQoXCIvbGFuZGluZy1wcm9kdWN0LzpzbHVnXCIsIGhvbWVDb250cm9sbGVyLnNob3dfbGFuZGluZ19wcm9kdWN0KTsgXHJcblxyXG4vL3JvdXRlci5wb3N0KFwiL3Byb2ZpbGVfY2xpZW50XCIsYXV0aC52ZXJpZnlFY29tbWVyY2UgLGhvbWVDb250cm9sbGVyLnByb2ZpbGVfY2xpZW50KTsgXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRUMsdUJBQWMsQ0FBQ0MsSUFBSSxDQUFDO0FBQ3hDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyx3QkFBd0IsRUFBRUMsdUJBQWMsQ0FBQ0Usb0JBQW9CLENBQUM7O0FBRXpFO0FBQUEsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFSLE9BQUEsR0FDZUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","_auth","obj","__esModule","default","router","routerx","get","homeController","list","show_landing_product","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Home.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport homeController from \"../controllers/HomeController\"\r\nimport auth from \"../middlewares/auth\"\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\", homeController.list); \r\nrouter.get(\"/landing-product/:slug\", homeController.show_landing_product); \r\n\r\n//router.post(\"/profile_client\",auth.verifyEcommerce ,homeController.profile_client); \r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEC,uBAAc,CAACC,IAAI,CAAC;AACxCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAAEC,uBAAc,CAACE,oBAAoB,CAAC;;AAEzE;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GACeC,MAAM","ignoreList":[]}},"mtime":1751129815902},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nvar _Product = _interopRequireDefault(require(\"./resources/Product\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resources.default.Slider.slider_list(slider);\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      Categories = Categories.map(categorie => {\n        return _resources.default.Categorie.categorie_list(categorie);\n      });\n      let BestProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectBestProducts.push(_resources.default.Product.product_list(Product, VARIEDADES));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectOursProducts.push(_resources.default.Product.product_list(Product, VARIEDADES));\n      }\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      let ProductList = [];\n      if (FlashSale) {\n        if (FlashSale) {\n          for (const product of FlashSale.products) {\n            var ObjecT = await _models.default.Product.findById({\n              _id: product._id\n            });\n            let VARIEDADES = await _models.default.Variedad.find({\n              product: product._id\n            });\n            ProductList.push(_resources.default.Product.product_list(ObjecT, VARIEDADES));\n          }\n        }\n      }\n      res.status(200).json({\n        sliders: Sliders,\n        categories: Categories,\n        best_products: ObjectBestProducts,\n        ours_products: ObjectOursProducts,\n        flashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      console.log(SLUG);\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let RelatedProducts = await _models.default.Product.find({\n        categorie: Product.categorie,\n        state: 2\n      });\n      var ObjectRelatedProduct = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProduct.push(_resources.default.Product.product_list(Product, VARIEDADES));\n      }\n      res.status(200).json({\n        product: _resources.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProduct\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO ERROR\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX1Byb2R1Y3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImxpc3QiLCJyZXEiLCJyZXMiLCJUSU1FX05PVyIsInF1ZXJ5IiwiU2xpZGVycyIsIm1vZGVscyIsIlNsaWRlciIsImZpbmQiLCJzdGF0ZSIsIm1hcCIsInNsaWRlciIsInJlc291cmNlcyIsInNsaWRlcl9saXN0IiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsImNhdGVnb3JpZSIsImNhdGVnb3JpZV9saXN0IiwiQmVzdFByb2R1Y3RzIiwiUHJvZHVjdCIsInNvcnQiLCJPYmplY3RCZXN0UHJvZHVjdHMiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJwcm9kdWN0IiwiX2lkIiwicHVzaCIsInByb2R1Y3RfbGlzdCIsIk91cnNQcm9kdWN0cyIsIk9iamVjdE91cnNQcm9kdWN0cyIsIkZsYXNoU2FsZSIsIkRpc2NvdW50IiwiZmluZE9uZSIsInR5cGVfY2FtcGFpZ24iLCJzdGFydF9kYXRlX251bSIsIiRsdGUiLCJlbmRfZGF0ZV9udW0iLCIkZ3RlIiwiUHJvZHVjdExpc3QiLCJwcm9kdWN0cyIsIk9iamVjVCIsImZpbmRCeUlkIiwic3RhdHVzIiwianNvbiIsInNsaWRlcnMiLCJjYXRlZ29yaWVzIiwiYmVzdF9wcm9kdWN0cyIsIm91cnNfcHJvZHVjdHMiLCJmbGFzaFNhbGUiLCJjYW1wYWlnbl9wcm9kdWN0cyIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJTTFVHIiwicGFyYW1zIiwic2x1ZyIsIlJlbGF0ZWRQcm9kdWN0cyIsIk9iamVjdFJlbGF0ZWRQcm9kdWN0IiwicmVsYXRlZF9wcm9kdWN0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiSG9tZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBtb2RlbHMgIGZyb20gXCIuLi9tb2RlbHNcIjtcclxuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi9yZXNvdXJjZXNcIjtcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vcmVzb3VyY2VzL1Byb2R1Y3RcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdHtcclxuICAgIGxpc3Q6IGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIFRJTUVfTk9XID0gcmVxLnF1ZXJ5LlRJTUVfTk9XO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNsaWRlcnMgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmQoe3N0YXRlOjF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcChzbGlkZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5TbGlkZXIuc2xpZGVyX2xpc3Qoc2xpZGVyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtzdGF0ZToxfSk7XHJcbiAgICAgICAgICAgIENhdGVnb3JpZXMgPSBDYXRlZ29yaWVzLm1hcChjYXRlZ29yaWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoY2F0ZWdvcmllKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGxldCBCZXN0UHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHtzdGF0ZToyfSkuc29ydCh7XCJjcmVhdGVkQXRcIjotMX0pO1xyXG4gICAgICAgICAgICB2YXIgT2JqZWN0QmVzdFByb2R1Y3RzID0gW107XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBCZXN0UHJvZHVjdHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3QgOiBQcm9kdWN0Ll9pZCB9KVxyXG4gICAgICAgICAgICAgICAgT2JqZWN0QmVzdFByb2R1Y3RzLnB1c2gocmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUykpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6Mn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6MX0pO1xyXG4gICAgICAgICAgICB2YXIgT2JqZWN0T3Vyc1Byb2R1Y3RzID0gW107XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBPdXJzUHJvZHVjdHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3QgOiBQcm9kdWN0Ll9pZCB9KVxyXG4gICAgICAgICAgICAgICAgT2JqZWN0T3Vyc1Byb2R1Y3RzLnB1c2gocmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUykpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgRmxhc2hTYWxlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjoyLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW0gOiB7JGx0ZTogVElNRV9OT1d9LFxyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtIDogeyRndGU6IFRJTUVfTk9XfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RMaXN0ID0gW107XHJcbiAgICAgICAgICAgIGlmIChGbGFzaFNhbGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChGbGFzaFNhbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgRmxhc2hTYWxlLnByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBPYmplY1QgPSAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDpwcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0IDogcHJvZHVjdC5faWQgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvZHVjdExpc3QucHVzaChyZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoT2JqZWNULFZBUklFREFERVMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBcclxuICAgICAgICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzIDogQ2F0ZWdvcmllcyxcclxuICAgICAgICAgICAgICAgIGJlc3RfcHJvZHVjdHMgOk9iamVjdEJlc3RQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIG91cnNfcHJvZHVjdHMgOiBPYmplY3RPdXJzUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBmbGFzaFNhbGU6Rmxhc2hTYWxlLFxyXG4gICAgICAgICAgICAgICAgY2FtcGFpZ25fcHJvZHVjdHMgOiBQcm9kdWN0TGlzdCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gRVJST1JcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiBcclxuXHJcbiAgICBzaG93X2xhbmRpbmdfcHJvZHVjdDogYXN5bmMoIHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IFNMVUcgPSByZXEucGFyYW1zLnNsdWc7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFNMVUcpO1xyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3QgPSAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7c2x1ZzpTTFVHICAsIHN0YXRlIDoyfSk7XHJcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgIGxldCBSZWxhdGVkUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHsgY2F0ZWdvcmllOiBQcm9kdWN0LmNhdGVnb3JpZSwgc3RhdGUgOjIgfSk7XHJcbiAgICAgICAgICAgIHZhciBPYmplY3RSZWxhdGVkUHJvZHVjdCA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgUmVsYXRlZFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0IDogUHJvZHVjdC5faWQgfSlcclxuICAgICAgICAgICAgICAgIE9iamVjdFJlbGF0ZWRQcm9kdWN0LnB1c2gocmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUykpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdDogcmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUyksXHJcbiAgICAgICAgICAgICAgICByZWxhdGVkX3Byb2R1Y3RzIDogT2JqZWN0UmVsYXRlZFByb2R1Y3QsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBFUlJPUlwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRzVCO0VBQ1ZHLElBQUksRUFBRSxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSTtJQUNyQixJQUFJO01BQ0EsSUFBSUMsUUFBUSxHQUFHRixHQUFHLENBQUNHLEtBQUssQ0FBQ0QsUUFBUTtNQUVqQyxJQUFJRSxPQUFPLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxNQUFNLENBQUNDLElBQUksQ0FBQztRQUFDQyxLQUFLLEVBQUM7TUFBQyxDQUFDLENBQUM7TUFFakRKLE9BQU8sR0FBR0EsT0FBTyxDQUFDSyxHQUFHLENBQUNDLE1BQU0sSUFBSTtRQUM1QixPQUFPQyxrQkFBUyxDQUFDTCxNQUFNLENBQUNNLFdBQVcsQ0FBQ0YsTUFBTSxDQUFDO01BQy9DLENBQUMsQ0FBQztNQUVGLElBQUlHLFVBQVUsR0FBRyxNQUFNUixlQUFNLENBQUNTLFNBQVMsQ0FBQ1AsSUFBSSxDQUFDO1FBQUNDLEtBQUssRUFBQztNQUFDLENBQUMsQ0FBQztNQUN2REssVUFBVSxHQUFHQSxVQUFVLENBQUNKLEdBQUcsQ0FBQ00sU0FBUyxJQUFJO1FBQ3JDLE9BQU9KLGtCQUFTLENBQUNHLFNBQVMsQ0FBQ0UsY0FBYyxDQUFDRCxTQUFTLENBQUM7TUFDeEQsQ0FBQyxDQUFDO01BRUYsSUFBSUUsWUFBWSxHQUFHLE1BQU1aLGVBQU0sQ0FBQ2EsT0FBTyxDQUFDWCxJQUFJLENBQUM7UUFBQ0MsS0FBSyxFQUFDO01BQUMsQ0FBQyxDQUFDLENBQUNXLElBQUksQ0FBQztRQUFDLFdBQVcsRUFBQyxDQUFDO01BQUMsQ0FBQyxDQUFDO01BQzlFLElBQUlDLGtCQUFrQixHQUFHLEVBQUU7TUFDM0IsS0FBSyxNQUFNRixPQUFPLElBQUlELFlBQVksRUFBRTtRQUNoQyxJQUFJSSxVQUFVLEdBQUcsTUFBTWhCLGVBQU0sQ0FBQ2lCLFFBQVEsQ0FBQ2YsSUFBSSxDQUFDO1VBQUNnQixPQUFPLEVBQUdMLE9BQU8sQ0FBQ007UUFBSSxDQUFDLENBQUM7UUFDckVKLGtCQUFrQixDQUFDSyxJQUFJLENBQUNkLGtCQUFTLENBQUNPLE9BQU8sQ0FBQ1EsWUFBWSxDQUFDUixPQUFPLEVBQUNHLFVBQVUsQ0FBQyxDQUFDO01BQy9FO01BRUEsSUFBSU0sWUFBWSxHQUFHLE1BQU10QixlQUFNLENBQUNhLE9BQU8sQ0FBQ1gsSUFBSSxDQUFDO1FBQUNDLEtBQUssRUFBQztNQUFDLENBQUMsQ0FBQyxDQUFDVyxJQUFJLENBQUM7UUFBQyxXQUFXLEVBQUM7TUFBQyxDQUFDLENBQUM7TUFDN0UsSUFBSVMsa0JBQWtCLEdBQUcsRUFBRTtNQUMzQixLQUFLLE1BQU1WLE9BQU8sSUFBSVMsWUFBWSxFQUFFO1FBQ2hDLElBQUlOLFVBQVUsR0FBRyxNQUFNaEIsZUFBTSxDQUFDaUIsUUFBUSxDQUFDZixJQUFJLENBQUM7VUFBQ2dCLE9BQU8sRUFBR0wsT0FBTyxDQUFDTTtRQUFJLENBQUMsQ0FBQztRQUNyRUksa0JBQWtCLENBQUNILElBQUksQ0FBQ2Qsa0JBQVMsQ0FBQ08sT0FBTyxDQUFDUSxZQUFZLENBQUNSLE9BQU8sRUFBQ0csVUFBVSxDQUFDLENBQUM7TUFDL0U7TUFFQSxJQUFJUSxTQUFTLEdBQUcsTUFBTXhCLGVBQU0sQ0FBQ3lCLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO1FBQzFDQyxhQUFhLEVBQUMsQ0FBQztRQUNmQyxjQUFjLEVBQUc7VUFBQ0MsSUFBSSxFQUFFaEM7UUFBUSxDQUFDO1FBQ2pDaUMsWUFBWSxFQUFHO1VBQUNDLElBQUksRUFBRWxDO1FBQVE7TUFDbEMsQ0FBQyxDQUFDO01BRUYsSUFBSW1DLFdBQVcsR0FBRyxFQUFFO01BQ3BCLElBQUlSLFNBQVMsRUFBRTtRQUNYLElBQUlBLFNBQVMsRUFBRTtVQUNYLEtBQUssTUFBTU4sT0FBTyxJQUFJTSxTQUFTLENBQUNTLFFBQVEsRUFBRTtZQUN0QyxJQUFJQyxNQUFNLEdBQUksTUFBTWxDLGVBQU0sQ0FBQ2EsT0FBTyxDQUFDc0IsUUFBUSxDQUFDO2NBQUNoQixHQUFHLEVBQUNELE9BQU8sQ0FBQ0M7WUFBRyxDQUFDLENBQUM7WUFDOUQsSUFBSUgsVUFBVSxHQUFHLE1BQU1oQixlQUFNLENBQUNpQixRQUFRLENBQUNmLElBQUksQ0FBQztjQUFDZ0IsT0FBTyxFQUFHQSxPQUFPLENBQUNDO1lBQUksQ0FBQyxDQUFDO1lBQ3JFYSxXQUFXLENBQUNaLElBQUksQ0FBQ2Qsa0JBQVMsQ0FBQ08sT0FBTyxDQUFDUSxZQUFZLENBQUNhLE1BQU0sRUFBQ2xCLFVBQVUsQ0FBQyxDQUFDO1VBQ3ZFO1FBQ0o7TUFDSjtNQUNBcEIsR0FBRyxDQUFDd0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRXZDLE9BQU87UUFDaEJ3QyxVQUFVLEVBQUcvQixVQUFVO1FBQ3ZCZ0MsYUFBYSxFQUFFekIsa0JBQWtCO1FBQ2pDMEIsYUFBYSxFQUFHbEIsa0JBQWtCO1FBQ2xDbUIsU0FBUyxFQUFDbEIsU0FBUztRQUNuQm1CLGlCQUFpQixFQUFHWDtNQUN4QixDQUFDLENBQUM7SUFHTixDQUFDLENBQUMsT0FBT1ksS0FBSyxFQUFFO01BQ1poRCxHQUFHLENBQUN3QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNTLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBR0RLLG9CQUFvQixFQUFFLE1BQUFBLENBQU90RCxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN0QyxJQUFJO01BQ0EsSUFBSXNELElBQUksR0FBR3ZELEdBQUcsQ0FBQ3dELE1BQU0sQ0FBQ0MsSUFBSTtNQUMxQkwsT0FBTyxDQUFDQyxHQUFHLENBQUNFLElBQUksQ0FBQztNQUVqQixJQUFJckMsT0FBTyxHQUFJLE1BQU1iLGVBQU0sQ0FBQ2EsT0FBTyxDQUFDYSxPQUFPLENBQUM7UUFBQzBCLElBQUksRUFBQ0YsSUFBSTtRQUFJL0MsS0FBSyxFQUFFO01BQUMsQ0FBQyxDQUFDO01BQ3BFLElBQUlhLFVBQVUsR0FBRyxNQUFNaEIsZUFBTSxDQUFDaUIsUUFBUSxDQUFDZixJQUFJLENBQUM7UUFBQ2dCLE9BQU8sRUFBRUwsT0FBTyxDQUFDTTtNQUFHLENBQUMsQ0FBQztNQUNuRSxJQUFJa0MsZUFBZSxHQUFHLE1BQU1yRCxlQUFNLENBQUNhLE9BQU8sQ0FBQ1gsSUFBSSxDQUFDO1FBQUVRLFNBQVMsRUFBRUcsT0FBTyxDQUFDSCxTQUFTO1FBQUVQLEtBQUssRUFBRTtNQUFFLENBQUMsQ0FBQztNQUMzRixJQUFJbUQsb0JBQW9CLEdBQUcsRUFBRTtNQUM3QixLQUFLLE1BQU16QyxPQUFPLElBQUl3QyxlQUFlLEVBQUU7UUFDbkMsSUFBSXJDLFVBQVUsR0FBRyxNQUFNaEIsZUFBTSxDQUFDaUIsUUFBUSxDQUFDZixJQUFJLENBQUM7VUFBQ2dCLE9BQU8sRUFBR0wsT0FBTyxDQUFDTTtRQUFJLENBQUMsQ0FBQztRQUNyRW1DLG9CQUFvQixDQUFDbEMsSUFBSSxDQUFDZCxrQkFBUyxDQUFDTyxPQUFPLENBQUNRLFlBQVksQ0FBQ1IsT0FBTyxFQUFDRyxVQUFVLENBQUMsQ0FBQztNQUNqRjtNQUdBcEIsR0FBRyxDQUFDd0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJuQixPQUFPLEVBQUVaLGtCQUFTLENBQUNPLE9BQU8sQ0FBQ1EsWUFBWSxDQUFDUixPQUFPLEVBQUNHLFVBQVUsQ0FBQztRQUMzRHVDLGdCQUFnQixFQUFHRDtNQUN2QixDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBT1YsS0FBSyxFQUFFO01BQ1poRCxHQUFHLENBQUN3QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNTLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSjtBQUVKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_Product","obj","__esModule","default","_default","exports","list","req","res","TIME_NOW","query","Sliders","models","Slider","find","state","map","slider","resources","slider_list","Categories","Categorie","categorie","categorie_list","BestProducts","Product","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","push","product_list","OursProducts","ObjectOursProducts","FlashSale","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","ProductList","products","ObjecT","findById","status","json","sliders","categories","best_products","ours_products","flashSale","campaign_products","error","send","message","console","log","show_landing_product","SLUG","params","slug","RelatedProducts","ObjectRelatedProduct","related_products"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["HomeController.js"],"sourcesContent":["\r\nimport models  from \"../models\";\r\nimport resources from \"./resources\";\r\nimport Product from \"./resources/Product\";\r\n\r\n\r\nexport default{\r\n    list: async (req, res) =>{\r\n        try {\r\n            var TIME_NOW = req.query.TIME_NOW;\r\n\r\n            let Sliders = await models.Slider.find({state:1});\r\n\r\n            Sliders = Sliders.map(slider => {\r\n                return resources.Slider.slider_list(slider);\r\n            })\r\n\r\n            let Categories = await models.Categorie.find({state:1});\r\n            Categories = Categories.map(categorie => {\r\n                return resources.Categorie.categorie_list(categorie);\r\n            })\r\n\r\n            let BestProducts = await models.Product.find({state:2}).sort({\"createdAt\":-1});\r\n            var ObjectBestProducts = [];\r\n            for (const Product of BestProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product : Product._id })\r\n                ObjectBestProducts.push(resources.Product.product_list(Product,VARIEDADES));\r\n            }\r\n\r\n            let OursProducts = await models.Product.find({state:2}).sort({\"createdAt\":1});\r\n            var ObjectOursProducts = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product : Product._id })\r\n                ObjectOursProducts.push(resources.Product.product_list(Product,VARIEDADES));\r\n            }\r\n\r\n            let FlashSale = await models.Discount.findOne({\r\n                type_campaign:2,\r\n                start_date_num : {$lte: TIME_NOW},\r\n                end_date_num : {$gte: TIME_NOW}\r\n            })\r\n\r\n            let ProductList = [];\r\n            if (FlashSale) {\r\n                if (FlashSale) {\r\n                    for (const product of FlashSale.products) {\r\n                        var ObjecT =  await models.Product.findById({_id:product._id});\r\n                        let VARIEDADES = await models.Variedad.find({product : product._id })\r\n                        ProductList.push(resources.Product.product_list(ObjecT,VARIEDADES));\r\n                    }\r\n                }\r\n            }\r\n            res.status(200).json({ \r\n                sliders: Sliders,\r\n                categories : Categories,\r\n                best_products :ObjectBestProducts,\r\n                ours_products : ObjectOursProducts,\r\n                flashSale:FlashSale,\r\n                campaign_products : ProductList,\r\n            });\r\n\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n \r\n\r\n    show_landing_product: async( req, res) => {\r\n        try {\r\n            let SLUG = req.params.slug;\r\n            console.log(SLUG);\r\n\r\n            let Product =  await models.Product.findOne({slug:SLUG  , state :2});\r\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n            let RelatedProducts = await models.Product.find({ categorie: Product.categorie, state :2 });\r\n            var ObjectRelatedProduct = [];\r\n            for (const Product of RelatedProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product : Product._id })\r\n                ObjectRelatedProduct.push(resources.Product.product_list(Product,VARIEDADES));\r\n            }\r\n\r\n\r\n            res.status(200).json({\r\n                product: resources.Product.product_list(Product,VARIEDADES),\r\n                related_products : ObjectRelatedProduct,\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1740015186845},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y dos  es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = exports.default = Cart;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXJ0U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInRpbWVzdGFtcHMiLCJDYXJ0IiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IENhcnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVzZXI6e3R5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOid1c2VyJywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgcHJvZHVjdDoge3R5cGUgOiBTY2hlbWEuT2JqZWN0SWQsIHJlZjoncHJvZHVjdCcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6e3R5cGU6ICBOdW1iZXIsIHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6MX0sLy8xIGVzIHBvciBwb3JjZW50YWplIHkgZG9zICBlcyBwb3IgbW9uZWRhXHJcbiAgICBkaXNjb3VudDp7dHlwZTpOdW1iZXIsZGVmYXVsdDowfSxcclxuICAgIGNhbnRpZGFkOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHZhcmllZGFkOnt0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3ZhcmllZGFkJyxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjb2RlX2N1cG9uOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgY29kZV9kaXNjb3VudDp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHByaWNlX3VuaXRhcmlvOnt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdWJ0b3RhbDp7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdG90YWw6e3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOnRydWVcclxufSApO1xyXG5cclxuY29uc3QgQ2FydCA9IG1vbmdvb3NlLm1vZGVsKFwiY2FydFwiLCBDYXJ0U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2FydDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","Cart","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Cart.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst CartSchema = new Schema({\r\n    user:{type: Schema.ObjectId, ref:'user', required: true},\r\n    product: {type : Schema.ObjectId, ref:'product', required: true},\r\n    type_discount:{type:  Number, required:false,default:1},//1 es por porcentaje y dos  es por moneda\r\n    discount:{type:Number,default:0},\r\n    cantidad:{type:Number,required:true},\r\n    variedad:{type:Schema.ObjectId,ref:'variedad',required:false},\r\n    code_cupon:{type:String, required:false},\r\n    code_discount:{type:String, required:false},\r\n    price_unitario:{type:Number, required:true},\r\n    subtotal:{type:Number, required:true},\r\n    total:{type:Number, required:true},\r\n},{\r\n    timestamps:true\r\n} );\r\n\r\nconst Cart = mongoose.model(\"cart\", CartSchema);\r\nexport default Cart;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACxDC,OAAO,EAAE;IAACJ,IAAI,EAAGF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAE;EAAI,CAAC;EAChEE,aAAa,EAAC;IAACL,IAAI,EAAGM,MAAM;IAAEH,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACxDwB,QAAQ,EAAC;IAACP,IAAI,EAACM,MAAM;IAACvB,OAAO,EAAC;EAAC,CAAC;EAChCyB,QAAQ,EAAC;IAACR,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EACpCM,QAAQ,EAAC;IAACT,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,UAAU;IAACC,QAAQ,EAAC;EAAK,CAAC;EAC7DO,UAAU,EAAC;IAACV,IAAI,EAACW,MAAM;IAAER,QAAQ,EAAC;EAAK,CAAC;EACxCS,aAAa,EAAC;IAACZ,IAAI,EAACW,MAAM;IAAER,QAAQ,EAAC;EAAK,CAAC;EAC3CU,cAAc,EAAC;IAACb,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAC3CW,QAAQ,EAAC;IAACd,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACrCY,KAAK,EAAC;IAACf,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI;AACrC,CAAC,EAAC;EACEa,UAAU,EAAC;AACf,CAAE,CAAC;AAEH,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEtB,UAAU,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GACjCkC,IAAI","ignoreList":[]}},"mtime":1737595288476},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y dos  es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = exports.default = Cart;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXJ0U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInRpbWVzdGFtcHMiLCJDYXJ0IiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IENhcnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVzZXI6e3R5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOid1c2VyJywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgcHJvZHVjdDoge3R5cGUgOiBTY2hlbWEuT2JqZWN0SWQsIHJlZjoncHJvZHVjdCcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6e3R5cGU6ICBOdW1iZXIsIHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6MX0sLy8xIGVzIHBvciBwb3JjZW50YWplIHkgZG9zICBlcyBwb3IgbW9uZWRhXHJcbiAgICBkaXNjb3VudDp7dHlwZTpOdW1iZXIsZGVmYXVsdDowfSxcclxuICAgIGNhbnRpZGFkOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHZhcmllZGFkOnt0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3ZhcmllZGFkJyxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjb2RlX2N1cG9uOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgY29kZV9kaXNjb3VudDp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIHByaWNlX3VuaXRhcmlvOnt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdWJ0b3RhbDp7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdG90YWw6e3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOnRydWVcclxufSApO1xyXG5cclxuY29uc3QgQ2FydCA9IG1vbmdvb3NlLm1vZGVsKFwiY2FydFwiLCBDYXJ0U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2FydDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","Cart","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Cart.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst CartSchema = new Schema({\r\n    user:{type: Schema.ObjectId, ref:'user', required: true},\r\n    product: {type : Schema.ObjectId, ref:'product', required: true},\r\n    type_discount:{type:  Number, required:false,default:1},//1 es por porcentaje y dos  es por moneda\r\n    discount:{type:Number,default:0},\r\n    cantidad:{type:Number,required:true},\r\n    variedad:{type:Schema.ObjectId,ref:'variedad',required:false},\r\n    code_cupon:{type:String, required:false},\r\n    code_discount:{type:String, required:false},\r\n    price_unitario:{type:Number, required:true},\r\n    subtotal:{type:Number, required:true},\r\n    total:{type:Number, required:true},\r\n},{\r\n    timestamps:true\r\n} );\r\n\r\nconst Cart = mongoose.model(\"cart\", CartSchema);\r\nexport default Cart;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACxDC,OAAO,EAAE;IAACJ,IAAI,EAAGF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAE;EAAI,CAAC;EAChEE,aAAa,EAAC;IAACL,IAAI,EAAGM,MAAM;IAAEH,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACxDwB,QAAQ,EAAC;IAACP,IAAI,EAACM,MAAM;IAACvB,OAAO,EAAC;EAAC,CAAC;EAChCyB,QAAQ,EAAC;IAACR,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EACpCM,QAAQ,EAAC;IAACT,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,UAAU;IAACC,QAAQ,EAAC;EAAK,CAAC;EAC7DO,UAAU,EAAC;IAACV,IAAI,EAACW,MAAM;IAAER,QAAQ,EAAC;EAAK,CAAC;EACxCS,aAAa,EAAC;IAACZ,IAAI,EAACW,MAAM;IAAER,QAAQ,EAAC;EAAK,CAAC;EAC3CU,cAAc,EAAC;IAACb,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAC3CW,QAAQ,EAAC;IAACd,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACrCY,KAAK,EAAC;IAACf,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI;AACrC,CAAC,EAAC;EACEa,UAAU,EAAC;AACf,CAAE,CAAC;AAEH,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEtB,UAAU,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GACjCkC,IAAI","ignoreList":[]}},"mtime":1737595288476},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        slug: cart.product.slug,\n        sku: cart.product.sku,\n        imagen: 'http://localhost:3000/' + 'api/products/uploads/product/' + cart.product.portada,\n        categorie: cart.product.categorie,\n        price_soles: cart.product.price_soles,\n        price_usd: cart.product.price_usd\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unitario: cart.price_unitario,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsInNsdWciLCJza3UiLCJpbWFnZW4iLCJwb3J0YWRhIiwiY2F0ZWdvcmllIiwicHJpY2Vfc29sZXMiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiQ2FydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBjYXJ0X2xpc3Q6IChjYXJ0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOmNhcnQuX2lkLFxyXG4gICAgICAgICAgICB1c2VyOmNhcnQudXNlcixcclxuICAgICAgICAgICAgcHJvZHVjdDp7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IGNhcnQucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogY2FydC5wcm9kdWN0LnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgc2x1ZzogY2FydC5wcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgICAgICBza3U6IGNhcnQucHJvZHVjdC5za3UsXHJcbiAgICAgICAgICAgICAgICBpbWFnZW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJyArICdhcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycgKyBjYXJ0LnByb2R1Y3QucG9ydGFkYSxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZTogY2FydC5wcm9kdWN0LmNhdGVnb3JpZSxcclxuICAgICAgICAgICAgICAgIHByaWNlX3NvbGVzOiBjYXJ0LnByb2R1Y3QucHJpY2Vfc29sZXMsXHJcbiAgICAgICAgICAgICAgICBwcmljZV91c2Q6IGNhcnQucHJvZHVjdC5wcmljZV91c2QsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHR5cGVfZGlzY291bnQgIDogY2FydC50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICBkaXNjb3VudCA6IGNhcnQuZGlzY291bnQsXHJcbiAgICAgICAgICAgIGNhbnRpZGFkIDogY2FydC5jYW50aWRhZCxcclxuICAgICAgICAgICAgdmFyaWVkYWQgOiBjYXJ0LnZhcmllZGFkLFxyXG4gICAgICAgICAgICBjb2RlX2N1cG9uIDogY2FydC5jb2RlX2N1cG9uLFxyXG4gICAgICAgICAgICBjb2RlX2Rpc2NvdW50IDogY2FydC5jb2RlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICBwcmljZV91bml0YXJpbyA6IGNhcnQucHJpY2VfdW5pdGFyaW8sXHJcbiAgICAgICAgICAgIHN1YnRvdGFsIDogY2FydC5zdWJ0b3RhbCxcclxuICAgICAgICAgICAgdG90YWwgOiBjYXJ0LnRvdGFsLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFDRCxJQUFJLENBQUNDLEdBQUc7TUFDWkMsSUFBSSxFQUFDRixJQUFJLENBQUNFLElBQUk7TUFDZEMsT0FBTyxFQUFDO1FBQ0pGLEdBQUcsRUFBRUQsSUFBSSxDQUFDRyxPQUFPLENBQUNGLEdBQUc7UUFDckJHLEtBQUssRUFBRUosSUFBSSxDQUFDRyxPQUFPLENBQUNDLEtBQUs7UUFDekJDLElBQUksRUFBRUwsSUFBSSxDQUFDRyxPQUFPLENBQUNFLElBQUk7UUFDdkJDLEdBQUcsRUFBRU4sSUFBSSxDQUFDRyxPQUFPLENBQUNHLEdBQUc7UUFDckJDLE1BQU0sRUFBRSx3QkFBd0IsR0FBRywrQkFBK0IsR0FBR1AsSUFBSSxDQUFDRyxPQUFPLENBQUNLLE9BQU87UUFDekZDLFNBQVMsRUFBRVQsSUFBSSxDQUFDRyxPQUFPLENBQUNNLFNBQVM7UUFDakNDLFdBQVcsRUFBRVYsSUFBSSxDQUFDRyxPQUFPLENBQUNPLFdBQVc7UUFDckNDLFNBQVMsRUFBRVgsSUFBSSxDQUFDRyxPQUFPLENBQUNRO01BQzVCLENBQUM7TUFDREMsYUFBYSxFQUFJWixJQUFJLENBQUNZLGFBQWE7TUFDbkNDLFFBQVEsRUFBR2IsSUFBSSxDQUFDYSxRQUFRO01BQ3hCQyxRQUFRLEVBQUdkLElBQUksQ0FBQ2MsUUFBUTtNQUN4QkMsUUFBUSxFQUFHZixJQUFJLENBQUNlLFFBQVE7TUFDeEJDLFVBQVUsRUFBR2hCLElBQUksQ0FBQ2dCLFVBQVU7TUFDNUJDLGFBQWEsRUFBR2pCLElBQUksQ0FBQ2lCLGFBQWE7TUFDbENDLGNBQWMsRUFBR2xCLElBQUksQ0FBQ2tCLGNBQWM7TUFDcENDLFFBQVEsRUFBR25CLElBQUksQ0FBQ21CLFFBQVE7TUFDeEJDLEtBQUssRUFBR3BCLElBQUksQ0FBQ29CO0lBQ2pCLENBQUM7RUFDTDtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","slug","sku","imagen","portada","categorie","price_soles","price_usd","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unitario","subtotal","total"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["Cart.js"],"sourcesContent":["export default {\r\n    cart_list: (cart) => {\r\n        return {\r\n            _id:cart._id,\r\n            user:cart.user,\r\n            product:{\r\n                _id: cart.product._id,\r\n                title: cart.product.title,\r\n                slug: cart.product.slug,\r\n                sku: cart.product.sku,\r\n                imagen: 'http://localhost:3000/' + 'api/products/uploads/product/' + cart.product.portada,\r\n                categorie: cart.product.categorie,\r\n                price_soles: cart.product.price_soles,\r\n                price_usd: cart.product.price_usd,\r\n            },\r\n            type_discount  : cart.type_discount,\r\n            discount : cart.discount,\r\n            cantidad : cart.cantidad,\r\n            variedad : cart.variedad,\r\n            code_cupon : cart.code_cupon,\r\n            code_discount : cart.code_discount,\r\n            price_unitario : cart.price_unitario,\r\n            subtotal : cart.subtotal,\r\n            total : cart.total,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAACD,IAAI,CAACC,GAAG;MACZC,IAAI,EAACF,IAAI,CAACE,IAAI;MACdC,OAAO,EAAC;QACJF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,IAAI,EAAEL,IAAI,CAACG,OAAO,CAACE,IAAI;QACvBC,GAAG,EAAEN,IAAI,CAACG,OAAO,CAACG,GAAG;QACrBC,MAAM,EAAE,wBAAwB,GAAG,+BAA+B,GAAGP,IAAI,CAACG,OAAO,CAACK,OAAO;QACzFC,SAAS,EAAET,IAAI,CAACG,OAAO,CAACM,SAAS;QACjCC,WAAW,EAAEV,IAAI,CAACG,OAAO,CAACO,WAAW;QACrCC,SAAS,EAAEX,IAAI,CAACG,OAAO,CAACQ;MAC5B,CAAC;MACDC,aAAa,EAAIZ,IAAI,CAACY,aAAa;MACnCC,QAAQ,EAAGb,IAAI,CAACa,QAAQ;MACxBC,QAAQ,EAAGd,IAAI,CAACc,QAAQ;MACxBC,QAAQ,EAAGf,IAAI,CAACe,QAAQ;MACxBC,UAAU,EAAGhB,IAAI,CAACgB,UAAU;MAC5BC,aAAa,EAAGjB,IAAI,CAACiB,aAAa;MAClCC,cAAc,EAAGlB,IAAI,CAACkB,cAAc;MACpCC,QAAQ,EAAGnB,IAAI,CAACmB,QAAQ;MACxBC,KAAK,EAAGpB,IAAI,CAACoB;IACjB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1741110925396},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\resources\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        slug: cart.product.slug,\n        sku: cart.product.sku,\n        imagen: 'http://localhost:3000/' + 'api/products/uploads/product/' + cart.product.portada,\n        categorie: cart.product.categorie,\n        price_soles: cart.product.price_soles,\n        price_usd: cart.product.price_usd\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unitario: cart.price_unitario,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsInNsdWciLCJza3UiLCJpbWFnZW4iLCJwb3J0YWRhIiwiY2F0ZWdvcmllIiwicHJpY2Vfc29sZXMiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJjYW50aWRhZCIsInZhcmllZGFkIiwiY29kZV9jdXBvbiIsImNvZGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsInN1YnRvdGFsIiwidG90YWwiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXGNvbnRyb2xsZXJzXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiQ2FydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBjYXJ0X2xpc3Q6IChjYXJ0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOmNhcnQuX2lkLFxyXG4gICAgICAgICAgICB1c2VyOmNhcnQudXNlcixcclxuICAgICAgICAgICAgcHJvZHVjdDp7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IGNhcnQucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogY2FydC5wcm9kdWN0LnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgc2x1ZzogY2FydC5wcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgICAgICBza3U6IGNhcnQucHJvZHVjdC5za3UsXHJcbiAgICAgICAgICAgICAgICBpbWFnZW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJyArICdhcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycgKyBjYXJ0LnByb2R1Y3QucG9ydGFkYSxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZTogY2FydC5wcm9kdWN0LmNhdGVnb3JpZSxcclxuICAgICAgICAgICAgICAgIHByaWNlX3NvbGVzOiBjYXJ0LnByb2R1Y3QucHJpY2Vfc29sZXMsXHJcbiAgICAgICAgICAgICAgICBwcmljZV91c2Q6IGNhcnQucHJvZHVjdC5wcmljZV91c2QsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHR5cGVfZGlzY291bnQgIDogY2FydC50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICBkaXNjb3VudCA6IGNhcnQuZGlzY291bnQsXHJcbiAgICAgICAgICAgIGNhbnRpZGFkIDogY2FydC5jYW50aWRhZCxcclxuICAgICAgICAgICAgdmFyaWVkYWQgOiBjYXJ0LnZhcmllZGFkLFxyXG4gICAgICAgICAgICBjb2RlX2N1cG9uIDogY2FydC5jb2RlX2N1cG9uLFxyXG4gICAgICAgICAgICBjb2RlX2Rpc2NvdW50IDogY2FydC5jb2RlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICBwcmljZV91bml0YXJpbyA6IGNhcnQucHJpY2VfdW5pdGFyaW8sXHJcbiAgICAgICAgICAgIHN1YnRvdGFsIDogY2FydC5zdWJ0b3RhbCxcclxuICAgICAgICAgICAgdG90YWwgOiBjYXJ0LnRvdGFsLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFDRCxJQUFJLENBQUNDLEdBQUc7TUFDWkMsSUFBSSxFQUFDRixJQUFJLENBQUNFLElBQUk7TUFDZEMsT0FBTyxFQUFDO1FBQ0pGLEdBQUcsRUFBRUQsSUFBSSxDQUFDRyxPQUFPLENBQUNGLEdBQUc7UUFDckJHLEtBQUssRUFBRUosSUFBSSxDQUFDRyxPQUFPLENBQUNDLEtBQUs7UUFDekJDLElBQUksRUFBRUwsSUFBSSxDQUFDRyxPQUFPLENBQUNFLElBQUk7UUFDdkJDLEdBQUcsRUFBRU4sSUFBSSxDQUFDRyxPQUFPLENBQUNHLEdBQUc7UUFDckJDLE1BQU0sRUFBRSx3QkFBd0IsR0FBRywrQkFBK0IsR0FBR1AsSUFBSSxDQUFDRyxPQUFPLENBQUNLLE9BQU87UUFDekZDLFNBQVMsRUFBRVQsSUFBSSxDQUFDRyxPQUFPLENBQUNNLFNBQVM7UUFDakNDLFdBQVcsRUFBRVYsSUFBSSxDQUFDRyxPQUFPLENBQUNPLFdBQVc7UUFDckNDLFNBQVMsRUFBRVgsSUFBSSxDQUFDRyxPQUFPLENBQUNRO01BQzVCLENBQUM7TUFDREMsYUFBYSxFQUFJWixJQUFJLENBQUNZLGFBQWE7TUFDbkNDLFFBQVEsRUFBR2IsSUFBSSxDQUFDYSxRQUFRO01BQ3hCQyxRQUFRLEVBQUdkLElBQUksQ0FBQ2MsUUFBUTtNQUN4QkMsUUFBUSxFQUFHZixJQUFJLENBQUNlLFFBQVE7TUFDeEJDLFVBQVUsRUFBR2hCLElBQUksQ0FBQ2dCLFVBQVU7TUFDNUJDLGFBQWEsRUFBR2pCLElBQUksQ0FBQ2lCLGFBQWE7TUFDbENDLGNBQWMsRUFBR2xCLElBQUksQ0FBQ2tCLGNBQWM7TUFDcENDLFFBQVEsRUFBR25CLElBQUksQ0FBQ21CLFFBQVE7TUFDeEJDLEtBQUssRUFBR3BCLElBQUksQ0FBQ29CO0lBQ2pCLENBQUM7RUFDTDtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","slug","sku","imagen","portada","categorie","price_soles","price_usd","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unitario","subtotal","total"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\resources\\","sources":["Cart.js"],"sourcesContent":["export default {\r\n    cart_list: (cart) => {\r\n        return {\r\n            _id:cart._id,\r\n            user:cart.user,\r\n            product:{\r\n                _id: cart.product._id,\r\n                title: cart.product.title,\r\n                slug: cart.product.slug,\r\n                sku: cart.product.sku,\r\n                imagen: 'http://localhost:3000/' + 'api/products/uploads/product/' + cart.product.portada,\r\n                categorie: cart.product.categorie,\r\n                price_soles: cart.product.price_soles,\r\n                price_usd: cart.product.price_usd,\r\n            },\r\n            type_discount  : cart.type_discount,\r\n            discount : cart.discount,\r\n            cantidad : cart.cantidad,\r\n            variedad : cart.variedad,\r\n            code_cupon : cart.code_cupon,\r\n            code_discount : cart.code_discount,\r\n            price_unitario : cart.price_unitario,\r\n            subtotal : cart.subtotal,\r\n            total : cart.total,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAACD,IAAI,CAACC,GAAG;MACZC,IAAI,EAACF,IAAI,CAACE,IAAI;MACdC,OAAO,EAAC;QACJF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,IAAI,EAAEL,IAAI,CAACG,OAAO,CAACE,IAAI;QACvBC,GAAG,EAAEN,IAAI,CAACG,OAAO,CAACG,GAAG;QACrBC,MAAM,EAAE,wBAAwB,GAAG,+BAA+B,GAAGP,IAAI,CAACG,OAAO,CAACK,OAAO;QACzFC,SAAS,EAAET,IAAI,CAACG,OAAO,CAACM,SAAS;QACjCC,WAAW,EAAEV,IAAI,CAACG,OAAO,CAACO,WAAW;QACrCC,SAAS,EAAEX,IAAI,CAACG,OAAO,CAACQ;MAC5B,CAAC;MACDC,aAAa,EAAIZ,IAAI,CAACY,aAAa;MACnCC,QAAQ,EAAGb,IAAI,CAACa,QAAQ;MACxBC,QAAQ,EAAGd,IAAI,CAACc,QAAQ;MACxBC,QAAQ,EAAGf,IAAI,CAACe,QAAQ;MACxBC,UAAU,EAAGhB,IAAI,CAACgB,UAAU;MAC5BC,aAAa,EAAGjB,IAAI,CAACiB,aAAa;MAClCC,cAAc,EAAGlB,IAAI,CAACkB,cAAc;MACpCC,QAAQ,EAAGnB,IAAI,CAACmB,QAAQ;MACxBC,KAAK,EAAGpB,IAAI,CAACoB;IACjB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1741110925396},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.appyCupon);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXJ0Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsImNhcnRDb250cm9sbGVyIiwibGlzdCIsInBvc3QiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsImFwcHlDdXBvbiIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGNhcnRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0NhcnRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xyXG5yb3V0ZXIucG9zdChcIi9hcGxpY2FyX2N1cG9uXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsY2FydENvbnRyb2xsZXIuYXBweUN1cG9uKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFHdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0MsSUFBSSxDQUFDO0FBQzVETixNQUFNLENBQUNPLElBQUksQ0FBQyxXQUFXLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDRyxRQUFRLENBQUM7QUFDckVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBQ04sYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNLLE1BQU0sQ0FBQztBQUNoRVYsTUFBTSxDQUFDVyxNQUFNLENBQUMsYUFBYSxFQUFDUixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ00sTUFBTSxDQUFDO0FBQ3ZFWCxNQUFNLENBQUNPLElBQUksQ0FBQyxnQkFBZ0IsRUFBQ0osYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNPLFNBQVMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBZixPQUFBLEdBRTdEQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CartController","_auth","obj","__esModule","default","router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","appyCupon","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cartController from '../controllers/CartController'\r\nimport auth from '../middlewares/auth'\r\n\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",auth.verifyEcommerce,cartController.list);\r\nrouter.post(\"/register\",auth.verifyEcommerce,cartController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,cartController.update);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,cartController.delete);\r\nrouter.post(\"/aplicar_cupon\",auth.verifyEcommerce,cartController.appyCupon);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,IAAI,CAAC;AAC5DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACG,QAAQ,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACK,MAAM,CAAC;AAChEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACM,MAAM,CAAC;AACvEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACO,SAAS,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAE7DC,MAAM","ignoreList":[]}},"mtime":1750624782927},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resources.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //1. VALIDAR EL PRODUCTO EXISTE EN EL CARRITO DE COMPRAS\n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRAS\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRAS\"\n          });\n          return;\n        }\n      }\n\n      //2. VALIDAR SI EL STOCK ESTA DISPONIBLE\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE REGISTRO CON ÉXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n\n      //2. VALIDAR SI EL STOCK ESTA DISPONIBLE\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).send({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE ACTUALIZO CON ÉXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"EL CARRITO SE ELIMINO CON ÉXITO \"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  appyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      //LA PRIMERA VALIDACION TIENE QUE VER CON LA EXISTENCIA DEL CUPON\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\n        });\n        return;\n      }\n      //TINENE CON EL USO DEL CUPON --ESPERA \n\n      //LA PARTE OPERATIVA\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      let products = [];\n      let categories = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n      CUPON.products.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              // descuento\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //moneda\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categories.length > 0) {\n          if (categories.includes(cart.product.categorie + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              // descuento\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //moneda\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON APLICADO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJsaXN0IiwicmVxIiwicmVzIiwidXNlcl9pZCIsInF1ZXJ5IiwiQ0FSVFMiLCJtb2RlbHMiLCJDYXJ0IiwiZmluZCIsInVzZXIiLCJwb3B1bGF0ZSIsInBhdGgiLCJtYXAiLCJjYXJ0IiwicmVzb3VyY2UiLCJjYXJ0X2xpc3QiLCJzdGF0dXMiLCJqc29uIiwiY2FydHMiLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZCIsInZhbGlkX2NhcnQiLCJmaW5kT25lIiwicHJvZHVjdCIsIm1lc3NhZ2VfdGV4dCIsInZhbGlkX3ZhcmllZGFkIiwiVmFyaWVkYWQiLCJfaWQiLCJzdG9jayIsImNhbnRpZGFkIiwidmFsaWRfcHJvZHVjdCIsIlByb2R1Y3QiLCJDQVJUIiwiY3JlYXRlIiwiTkVXX0NBUlQiLCJmaW5kQnlJZCIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImFwcHlDdXBvbiIsIkNVUE9OIiwiQ3Vwb25lIiwiY29kZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsImZvckVhY2giLCJwdXNoIiwiY2F0ZWdvcmllIiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJzdWJ0b3RhbCIsInRvdGFsIiwidHlwZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwiZGlzY291bnQiLCJjb2RlX2N1cG9uIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJDYXJ0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4vcmVzb3VyY2VzJ1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdXNlcl9pZCA9IHJlcS5xdWVyeS51c2VyX2lkO1xyXG4gICAgICAgICAgICBsZXQgQ0FSVFMgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kKHtcclxuICAgICAgICAgICAgICAgIHVzZXI6IHVzZXJfaWQsXHJcbiAgICAgICAgICAgIH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgQ0FSVFMgPSBDQVJUUy5tYXAoKGNhcnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5DYXJ0LmNhcnRfbGlzdChjYXJ0KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnRzOiBDQVJUU1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICAvLzEuIFZBTElEQVIgRUwgUFJPRFVDVE8gRVhJU1RFIEVOIEVMIENBUlJJVE8gREUgQ09NUFJBU1xyXG4gICAgICAgICAgICBpZiAoZGF0YS52YXJpZWRhZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX2NhcnQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBkYXRhLnVzZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWVkYWQ6IGRhdGEudmFyaWVkYWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRfY2FydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVNcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX2NhcnQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBkYXRhLnVzZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRfY2FydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gWUEgRVhJU1RFIEVOIEVMIENBUlJJVE8gREUgQ09NUFJBU1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vMi4gVkFMSURBUiBTSSBFTCBTVE9DSyBFU1RBIERJU1BPTklCTEVcclxuICAgICAgICAgICAgaWYgKGRhdGEudmFyaWVkYWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZF92YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGRhdGEudmFyaWVkYWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFNUT0NLIE5PIEVTVEEgRElTUE9OSUJMRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkX3Byb2R1Y3Quc3RvY2sgPCBkYXRhLmNhbnRpZGFkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBTVE9DSyBOTyBFU1RBIERJU1BPTklCTEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IENBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIGxldCBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHsgX2lkOiBDQVJULl9pZCB9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpLnBvcHVsYXRlKHtcclxuICAgICAgICAgICAgICAgIHBhdGg6IFwicHJvZHVjdFwiLFxyXG4gICAgICAgICAgICAgICAgcG9wdWxhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBcImNhdGVnb3JpZVwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgY2FydDogcmVzb3VyY2UuQ2FydC5jYXJ0X2xpc3QoTkVXX0NBUlQpLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENBUlJJVE8gU0UgUkVHSVNUUk8gQ09OIMOJWElUT1wiLFxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgLy8yLiBWQUxJREFSIFNJIEVMIFNUT0NLIEVTVEEgRElTUE9OSUJMRVxyXG4gICAgICAgICAgICBpZiAoZGF0YS52YXJpZWRhZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkX3ZhcmllZGFkLnN0b2NrIDwgZGF0YS5jYW50aWRhZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRfcHJvZHVjdC5zdG9jayA8IGRhdGEuY2FudGlkYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFNUT0NLIE5PIEVTVEEgRElTUE9OSUJMRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiBkYXRhLl9pZCB9LCBkYXRhKTtcclxuICAgICAgICAgICAgbGV0IE5FV19DQVJUID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWQoeyBfaWQ6IENBUlQuX2lkIH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXJ0OiByZXNvdXJjZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ0FSUklUTyBTRSBBQ1RVQUxJWk8gQ09OIMOJWElUT1wiLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWxldGU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZEFuZERlbGV0ZSh7IF9pZDogX2lkIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ0FSUklUTyBTRSBFTElNSU5PIENPTiDDiVhJVE8gXCIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBhcHB5Q3Vwb246IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIC8vTEEgUFJJTUVSQSBWQUxJREFDSU9OIFRJRU5FIFFVRSBWRVIgQ09OIExBIEVYSVNURU5DSUEgREVMIENVUE9OXHJcbiAgICAgICAgICAgIGxldCBDVVBPTiA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBkYXRhLmNvZGUsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmICghQ1VQT04pIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIElOR1JFU0FETyBOTyBFWElTVEUsIERJR0lURSBPVFJPIE5VRVZBTUVOVEVcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL1RJTkVORSBDT04gRUwgVVNPIERFTCBDVVBPTiAtLUVTUEVSQSBcclxuXHJcbiAgICAgICAgICAgIC8vTEEgUEFSVEUgT1BFUkFUSVZBXHJcbiAgICAgICAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoeyB1c2VyOiBkYXRhLnVzZXJfaWQgfSkucG9wdWxhdGUoXCJwcm9kdWN0XCIpO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBbXTtcclxuICAgICAgICAgICAgQ1VQT04ucHJvZHVjdHMuZm9yRWFjaCgocHJvZHVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHMucHVzaChwcm9kdWN0Ll9pZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBDVVBPTi5wcm9kdWN0cy5mb3JFYWNoKChjYXRlZ29yaWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChjYXRlZ29yaWUuX2lkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2FydCBvZiBjYXJ0cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdHMuaW5jbHVkZXMoY2FydC5wcm9kdWN0Ll9pZCtcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3VidG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKSB7IC8vIGRlc2N1ZW50b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidG90YWwgPSBjYXJ0LnByaWNlX3VuaXRhcmlvIC0gY2FydC5wcmljZV91bml0YXJpbyAqIChDVVBPTi5kaXNjb3VudCAqIDAuMDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugey8vbW9uZWRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBDVVBPTi5kaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmRVcGRhdGUoeyBfaWQ6IGNhcnQuX2lkIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IENVUE9OLnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yaWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcmllcy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDVVBPTi50eXBlX2Rpc2NvdW50ID09IDEpIHsgLy8gZGVzY3VlbnRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBjYXJ0LnByaWNlX3VuaXRhcmlvICogKENVUE9OLmRpc2NvdW50ICogMC4wMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7Ly9tb25lZGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIENVUE9OLmRpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gc3VidG90YWwgKiBjYXJ0LmNhbnRpZGFkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZEFuZFVwZGF0ZSh7IF9pZDogY2FydC5faWQgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidG90YWw6IHN1YnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9kaXNjb3VudDogQ1VQT04udHlwZV9kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50OiBDVVBPTi5kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfY3Vwb246IENVUE9OLmNvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOjIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDpcIkVMIENVUE9OIEFQTElDQURPIENPUlJFQ1RBTUVOVEVcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQWtDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","obj","__esModule","default","_default","exports","list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resource","cart_list","status","json","carts","error","send","message","console","log","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","_id","stock","cantidad","valid_product","Product","CART","create","NEW_CART","findById","update","findByIdAndUpdate","delete","params","id","findByIdAndDelete","appyCupon","CUPON","Cupone","code","products","categories","forEach","push","categorie","length","includes","subtotal","total","type_discount","price_unitario","discount","code_cupon"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["CartController.js"],"sourcesContent":["import models from \"../models\";\r\nimport resource from './resources'\r\nexport default {\r\n    list: async (req, res) => {\r\n        try {\r\n            let user_id = req.query.user_id;\r\n            let CARTS = await models.Cart.find({\r\n                user: user_id,\r\n            }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n\r\n            CARTS = CARTS.map((cart) => {\r\n                return resource.Cart.cart_list(cart)\r\n            });\r\n\r\n            res.status(200).json({\r\n                carts: CARTS\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            //1. VALIDAR EL PRODUCTO EXISTE EN EL CARRITO DE COMPRAS\r\n            if (data.variedad) {\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    variedad: data.variedad,\r\n                    product: data.product,\r\n                });\r\n                if (valid_cart) {\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRAS\"\r\n                    })\r\n                    return;\r\n                }\r\n            } else {\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    product: data.product,\r\n                });\r\n                if (valid_cart) {\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRAS\"\r\n                    })\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //2. VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n            if (data.variedad) {\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    _id: data.variedad,\r\n                });\r\n                if (valid_variedad.stock < data.cantidad) {\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            } else {\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if (valid_product.stock < data.cantidad) {\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n\r\n            let CART = await models.Cart.create(data);\r\n            let NEW_CART = await models.Cart.findById({ _id: CART._id }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE REGISTRO CON ÉXITO\",\r\n            })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            //2. VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n            if (data.variedad) {\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    _id: data.variedad,\r\n                });\r\n                if (valid_variedad.stock < data.cantidad) {\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            } else {\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if (valid_product.stock < data.cantidad) {\r\n                    res.status(200).send({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n\r\n            let CART = await models.Cart.findByIdAndUpdate({ _id: data._id }, data);\r\n            let NEW_CART = await models.Cart.findById({ _id: CART._id }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE ACTUALIZO CON ÉXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete: async (req, res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n            await models.Cart.findByIdAndDelete({ _id: _id });\r\n            res.status(200).json({\r\n                message_text: \"EL CARRITO SE ELIMINO CON ÉXITO \",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n    appyCupon: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            //LA PRIMERA VALIDACION TIENE QUE VER CON LA EXISTENCIA DEL CUPON\r\n            let CUPON = await models.Cupone.findOne({\r\n                code: data.code,\r\n            })\r\n            if (!CUPON) {\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\r\n                })\r\n                return;\r\n            }\r\n            //TINENE CON EL USO DEL CUPON --ESPERA \r\n\r\n            //LA PARTE OPERATIVA\r\n            let carts = await models.Cart.find({ user: data.user_id }).populate(\"product\");\r\n            let products = [];\r\n            let categories = [];\r\n            CUPON.products.forEach((product) => {\r\n                products.push(product._id);\r\n            });\r\n            CUPON.products.forEach((categorie) => {\r\n                categories.push(categorie._id);\r\n            });\r\n            for (const cart of carts) {\r\n                if (products.length > 0) {\r\n                    if (products.includes(cart.product._id+\"\")) {\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if (CUPON.type_discount == 1) { // descuento\r\n                            subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\r\n                        } else {//moneda\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n                        await models.Cart.findByIdAndUpdate({ _id: cart._id }, {\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        })\r\n                    }\r\n                }\r\n                if (categories.length > 0) {\r\n                    if (categories.includes(cart.product.categorie+\"\")) {\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if (CUPON.type_discount == 1) { // descuento\r\n                            subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\r\n                        } else {//moneda\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n                        await models.Cart.findByIdAndUpdate({ _id: cart._id }, {\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            res.status(200).json({\r\n                message:200,\r\n                message_text:\"EL CUPON APLICADO CORRECTAMENTE\"\r\n            });\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1751072567267},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.appyCupon);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXJ0Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsImNhcnRDb250cm9sbGVyIiwibGlzdCIsInBvc3QiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsImFwcHlDdXBvbiIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGNhcnRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0NhcnRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xyXG5yb3V0ZXIucG9zdChcIi9hcGxpY2FyX2N1cG9uXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsY2FydENvbnRyb2xsZXIuYXBweUN1cG9uKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFHdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0MsSUFBSSxDQUFDO0FBQzVETixNQUFNLENBQUNPLElBQUksQ0FBQyxXQUFXLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDRyxRQUFRLENBQUM7QUFDckVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBQ04sYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNLLE1BQU0sQ0FBQztBQUNoRVYsTUFBTSxDQUFDVyxNQUFNLENBQUMsYUFBYSxFQUFDUixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ00sTUFBTSxDQUFDO0FBQ3ZFWCxNQUFNLENBQUNPLElBQUksQ0FBQyxnQkFBZ0IsRUFBQ0osYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNPLFNBQVMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBZixPQUFBLEdBRTdEQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CartController","_auth","obj","__esModule","default","router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","appyCupon","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cartController from '../controllers/CartController'\r\nimport auth from '../middlewares/auth'\r\n\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",auth.verifyEcommerce,cartController.list);\r\nrouter.post(\"/register\",auth.verifyEcommerce,cartController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,cartController.update);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,cartController.delete);\r\nrouter.post(\"/aplicar_cupon\",auth.verifyEcommerce,cartController.appyCupon);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,IAAI,CAAC;AAC5DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACG,QAAQ,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACK,MAAM,CAAC;AAChEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACM,MAAM,CAAC;AACvEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACO,SAAS,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAE7DC,MAAM","ignoreList":[]}},"mtime":1750624782927},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"./resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resources.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //1. VALIDAR EL PRODUCTO EXISTE EN EL CARRITO DE COMPRAS\n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRAS\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRAS\"\n          });\n          return;\n        }\n      }\n\n      //2. VALIDAR SI EL STOCK ESTA DISPONIBLE\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE REGISTRO CON ÉXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n\n      //2. VALIDAR SI EL STOCK ESTA DISPONIBLE\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).send({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE ACTUALIZO CON ÉXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"EL CARRITO SE ELIMINO CON ÉXITO \"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  appyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      //LA PRIMERA VALIDACION TIENE QUE VER CON LA EXISTENCIA DEL CUPON\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\n        });\n        return;\n      }\n      //TINENE CON EL USO DEL CUPON --ESPERA \n\n      //LA PARTE OPERATIVA\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      let products = [];\n      let categories = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n      CUPON.products.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              // descuento\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //moneda\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categories.length > 0) {\n          if (categories.includes(cart.product.categorie + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              // descuento\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //moneda\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON APLICADO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJsaXN0IiwicmVxIiwicmVzIiwidXNlcl9pZCIsInF1ZXJ5IiwiQ0FSVFMiLCJtb2RlbHMiLCJDYXJ0IiwiZmluZCIsInVzZXIiLCJwb3B1bGF0ZSIsInBhdGgiLCJtYXAiLCJjYXJ0IiwicmVzb3VyY2UiLCJjYXJ0X2xpc3QiLCJzdGF0dXMiLCJqc29uIiwiY2FydHMiLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZCIsInZhbGlkX2NhcnQiLCJmaW5kT25lIiwicHJvZHVjdCIsIm1lc3NhZ2VfdGV4dCIsInZhbGlkX3ZhcmllZGFkIiwiVmFyaWVkYWQiLCJfaWQiLCJzdG9jayIsImNhbnRpZGFkIiwidmFsaWRfcHJvZHVjdCIsIlByb2R1Y3QiLCJDQVJUIiwiY3JlYXRlIiwiTkVXX0NBUlQiLCJmaW5kQnlJZCIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImFwcHlDdXBvbiIsIkNVUE9OIiwiQ3Vwb25lIiwiY29kZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsImZvckVhY2giLCJwdXNoIiwiY2F0ZWdvcmllIiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJzdWJ0b3RhbCIsInRvdGFsIiwidHlwZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwiZGlzY291bnQiLCJjb2RlX2N1cG9uIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJDYXJ0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4vcmVzb3VyY2VzJ1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdXNlcl9pZCA9IHJlcS5xdWVyeS51c2VyX2lkO1xyXG4gICAgICAgICAgICBsZXQgQ0FSVFMgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kKHtcclxuICAgICAgICAgICAgICAgIHVzZXI6IHVzZXJfaWQsXHJcbiAgICAgICAgICAgIH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgQ0FSVFMgPSBDQVJUUy5tYXAoKGNhcnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5DYXJ0LmNhcnRfbGlzdChjYXJ0KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnRzOiBDQVJUU1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgICAgICAgICAvLzEuIFZBTElEQVIgRUwgUFJPRFVDVE8gRVhJU1RFIEVOIEVMIENBUlJJVE8gREUgQ09NUFJBU1xyXG4gICAgICAgICAgICBpZiAoZGF0YS52YXJpZWRhZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX2NhcnQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBkYXRhLnVzZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWVkYWQ6IGRhdGEudmFyaWVkYWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRfY2FydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVNcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX2NhcnQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBkYXRhLnVzZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRfY2FydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gWUEgRVhJU1RFIEVOIEVMIENBUlJJVE8gREUgQ09NUFJBU1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vMi4gVkFMSURBUiBTSSBFTCBTVE9DSyBFU1RBIERJU1BPTklCTEVcclxuICAgICAgICAgICAgaWYgKGRhdGEudmFyaWVkYWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZF92YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGRhdGEudmFyaWVkYWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFNUT0NLIE5PIEVTVEEgRElTUE9OSUJMRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkX3Byb2R1Y3Quc3RvY2sgPCBkYXRhLmNhbnRpZGFkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBTVE9DSyBOTyBFU1RBIERJU1BPTklCTEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IENBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIGxldCBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHsgX2lkOiBDQVJULl9pZCB9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpLnBvcHVsYXRlKHtcclxuICAgICAgICAgICAgICAgIHBhdGg6IFwicHJvZHVjdFwiLFxyXG4gICAgICAgICAgICAgICAgcG9wdWxhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBcImNhdGVnb3JpZVwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgY2FydDogcmVzb3VyY2UuQ2FydC5jYXJ0X2xpc3QoTkVXX0NBUlQpLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENBUlJJVE8gU0UgUkVHSVNUUk8gQ09OIMOJWElUT1wiLFxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgLy8yLiBWQUxJREFSIFNJIEVMIFNUT0NLIEVTVEEgRElTUE9OSUJMRVxyXG4gICAgICAgICAgICBpZiAoZGF0YS52YXJpZWRhZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkX3ZhcmllZGFkLnN0b2NrIDwgZGF0YS5jYW50aWRhZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRfcHJvZHVjdC5zdG9jayA8IGRhdGEuY2FudGlkYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFNUT0NLIE5PIEVTVEEgRElTUE9OSUJMRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiBkYXRhLl9pZCB9LCBkYXRhKTtcclxuICAgICAgICAgICAgbGV0IE5FV19DQVJUID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWQoeyBfaWQ6IENBUlQuX2lkIH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXJ0OiByZXNvdXJjZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ0FSUklUTyBTRSBBQ1RVQUxJWk8gQ09OIMOJWElUT1wiLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWxldGU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZEFuZERlbGV0ZSh7IF9pZDogX2lkIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ0FSUklUTyBTRSBFTElNSU5PIENPTiDDiVhJVE8gXCIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBhcHB5Q3Vwb246IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIC8vTEEgUFJJTUVSQSBWQUxJREFDSU9OIFRJRU5FIFFVRSBWRVIgQ09OIExBIEVYSVNURU5DSUEgREVMIENVUE9OXHJcbiAgICAgICAgICAgIGxldCBDVVBPTiA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBkYXRhLmNvZGUsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmICghQ1VQT04pIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIElOR1JFU0FETyBOTyBFWElTVEUsIERJR0lURSBPVFJPIE5VRVZBTUVOVEVcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL1RJTkVORSBDT04gRUwgVVNPIERFTCBDVVBPTiAtLUVTUEVSQSBcclxuXHJcbiAgICAgICAgICAgIC8vTEEgUEFSVEUgT1BFUkFUSVZBXHJcbiAgICAgICAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoeyB1c2VyOiBkYXRhLnVzZXJfaWQgfSkucG9wdWxhdGUoXCJwcm9kdWN0XCIpO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBbXTtcclxuICAgICAgICAgICAgQ1VQT04ucHJvZHVjdHMuZm9yRWFjaCgocHJvZHVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHMucHVzaChwcm9kdWN0Ll9pZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBDVVBPTi5wcm9kdWN0cy5mb3JFYWNoKChjYXRlZ29yaWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChjYXRlZ29yaWUuX2lkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2FydCBvZiBjYXJ0cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdHMuaW5jbHVkZXMoY2FydC5wcm9kdWN0Ll9pZCtcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3VidG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKSB7IC8vIGRlc2N1ZW50b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidG90YWwgPSBjYXJ0LnByaWNlX3VuaXRhcmlvIC0gY2FydC5wcmljZV91bml0YXJpbyAqIChDVVBPTi5kaXNjb3VudCAqIDAuMDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugey8vbW9uZWRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBDVVBPTi5kaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmRVcGRhdGUoeyBfaWQ6IGNhcnQuX2lkIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IENVUE9OLnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yaWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcmllcy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuY2F0ZWdvcmllK1wiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDVVBPTi50eXBlX2Rpc2NvdW50ID09IDEpIHsgLy8gZGVzY3VlbnRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBjYXJ0LnByaWNlX3VuaXRhcmlvICogKENVUE9OLmRpc2NvdW50ICogMC4wMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7Ly9tb25lZGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIENVUE9OLmRpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gc3VidG90YWwgKiBjYXJ0LmNhbnRpZGFkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZEFuZFVwZGF0ZSh7IF9pZDogY2FydC5faWQgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidG90YWw6IHN1YnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9kaXNjb3VudDogQ1VQT04udHlwZV9kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50OiBDVVBPTi5kaXNjb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfY3Vwb246IENVUE9OLmNvZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOjIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDpcIkVMIENVUE9OIEFQTElDQURPIENPUlJFQ1RBTUVOVEVcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQWtDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","obj","__esModule","default","_default","exports","list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resource","cart_list","status","json","carts","error","send","message","console","log","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","_id","stock","cantidad","valid_product","Product","CART","create","NEW_CART","findById","update","findByIdAndUpdate","delete","params","id","findByIdAndDelete","appyCupon","CUPON","Cupone","code","products","categories","forEach","push","categorie","length","includes","subtotal","total","type_discount","price_unitario","discount","code_cupon"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["CartController.js"],"sourcesContent":["import models from \"../models\";\r\nimport resource from './resources'\r\nexport default {\r\n    list: async (req, res) => {\r\n        try {\r\n            let user_id = req.query.user_id;\r\n            let CARTS = await models.Cart.find({\r\n                user: user_id,\r\n            }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n\r\n            CARTS = CARTS.map((cart) => {\r\n                return resource.Cart.cart_list(cart)\r\n            });\r\n\r\n            res.status(200).json({\r\n                carts: CARTS\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            //1. VALIDAR EL PRODUCTO EXISTE EN EL CARRITO DE COMPRAS\r\n            if (data.variedad) {\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    variedad: data.variedad,\r\n                    product: data.product,\r\n                });\r\n                if (valid_cart) {\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRAS\"\r\n                    })\r\n                    return;\r\n                }\r\n            } else {\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    product: data.product,\r\n                });\r\n                if (valid_cart) {\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRAS\"\r\n                    })\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //2. VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n            if (data.variedad) {\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    _id: data.variedad,\r\n                });\r\n                if (valid_variedad.stock < data.cantidad) {\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            } else {\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if (valid_product.stock < data.cantidad) {\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n\r\n            let CART = await models.Cart.create(data);\r\n            let NEW_CART = await models.Cart.findById({ _id: CART._id }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE REGISTRO CON ÉXITO\",\r\n            })\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            //2. VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n            if (data.variedad) {\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    _id: data.variedad,\r\n                });\r\n                if (valid_variedad.stock < data.cantidad) {\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            } else {\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if (valid_product.stock < data.cantidad) {\r\n                    res.status(200).send({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n\r\n            let CART = await models.Cart.findByIdAndUpdate({ _id: data._id }, data);\r\n            let NEW_CART = await models.Cart.findById({ _id: CART._id }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categorie\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE ACTUALIZO CON ÉXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete: async (req, res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n            await models.Cart.findByIdAndDelete({ _id: _id });\r\n            res.status(200).json({\r\n                message_text: \"EL CARRITO SE ELIMINO CON ÉXITO \",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n    appyCupon: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            //LA PRIMERA VALIDACION TIENE QUE VER CON LA EXISTENCIA DEL CUPON\r\n            let CUPON = await models.Cupone.findOne({\r\n                code: data.code,\r\n            })\r\n            if (!CUPON) {\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\r\n                })\r\n                return;\r\n            }\r\n            //TINENE CON EL USO DEL CUPON --ESPERA \r\n\r\n            //LA PARTE OPERATIVA\r\n            let carts = await models.Cart.find({ user: data.user_id }).populate(\"product\");\r\n            let products = [];\r\n            let categories = [];\r\n            CUPON.products.forEach((product) => {\r\n                products.push(product._id);\r\n            });\r\n            CUPON.products.forEach((categorie) => {\r\n                categories.push(categorie._id);\r\n            });\r\n            for (const cart of carts) {\r\n                if (products.length > 0) {\r\n                    if (products.includes(cart.product._id+\"\")) {\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if (CUPON.type_discount == 1) { // descuento\r\n                            subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\r\n                        } else {//moneda\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n                        await models.Cart.findByIdAndUpdate({ _id: cart._id }, {\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        })\r\n                    }\r\n                }\r\n                if (categories.length > 0) {\r\n                    if (categories.includes(cart.product.categorie+\"\")) {\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if (CUPON.type_discount == 1) { // descuento\r\n                            subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\r\n                        } else {//moneda\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n                        await models.Cart.findByIdAndUpdate({ _id: cart._id }, {\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            res.status(200).json({\r\n                message:200,\r\n                message_text:\"EL CUPON APLICADO CORRECTAMENTE\"\r\n            });\r\n            \r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1751072567267},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    require: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  nota: {\n    type: String,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = exports.default = AddressClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJBZGRyZXNzQ2xpZW50U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwicGFpcyIsImFkZHJlc3MiLCJyZWZlcmVuY2lhIiwiY2l1ZGFkIiwicmVnaW9uIiwidGVsZWZvbm8iLCJlbWFpbCIsIm5vdGEiLCJ0aW1lc3RhbXBzIiwiQWRkcmVzc0NsaWVudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJBZGRyZXNzQ2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSAsIHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgQWRkcmVzc0NsaWVudFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcjoge3R5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOid1c2VyJyAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICBuYW1lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIHN1cm5hbWU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgcGFpczoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICBhZGRyZXNzOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIHJlZmVyZW5jaWE6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6ZmFsc2UgfSxcclxuICAgIGNpdWRhZDoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICByZWdpb246IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgdGVsZWZvbm86IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgZW1haWw6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgbm90YToge3R5cGU6IFN0cmluZyxyZXF1aXJlOmZhbHNlIH0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlXHJcbn1cclxuKTtcclxuXHJcbmNvbnN0IEFkZHJlc3NDbGllbnQgPSBtb25nb29zZS5tb2RlbChcImFkZHJlc3NfY2xpZW50XCIsQWRkcmVzc0NsaWVudFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IEFkZHJlc3NDbGllbnQ7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AddressClientSchema","Schema","user","type","ObjectId","ref","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","AddressClient","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["AddressClient.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst AddressClientSchema = new Schema({\r\n    user: {type: Schema.ObjectId, ref:'user' ,require:true },\r\n    name: {type: String, maxlength:250 ,require:true },\r\n    surname: {type: String, maxlength:250 ,require:true },\r\n    pais: {type: String, maxlength:250 ,require:true },\r\n    address: {type: String, maxlength:250 ,require:true },\r\n    referencia: {type: String, maxlength:250 ,require:false },\r\n    ciudad: {type: String, maxlength:250 ,require:true },\r\n    region: {type: String, maxlength:250 ,require:true },\r\n    telefono: {type: String, maxlength:250 ,require:true },\r\n    email: {type: String, maxlength:250 ,require:true },\r\n    nota: {type: String,require:false },\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst AddressClient = mongoose.model(\"address_client\",AddressClientSchema);\r\nexport default AddressClient;\r\n\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1751072492559},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transation: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  total: {\n    type: Number,\n    maxlength: 200,\n    required: true\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  },\n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = exports.default = Sale;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlU2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY3VycmVuY3lfcGF5bWVudCIsIlN0cmluZyIsIm1ldGhvZF9wYXltZW50IiwibWF4bGVuZ3RoIiwibl90cmFuc2F0aW9uIiwidG90YWwiLCJOdW1iZXIiLCJwcmljZV9kb2xhciIsImN1cnJlbmN5X3RvdGFsIiwidGltZXN0YW1wcyIsIlNhbGUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hIH0gZnJvbSAnbW9uZ29vc2UnO1xyXG5jb25zdCBTYWxlU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VyOiB7IHR5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAndXNlcicsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjdXJyZW5jeV9wYXltZW50Ont0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6J1VTRCcgfSxcclxuICAgIG1ldGhvZF9wYXltZW50OnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDo1MCwgcmVxdWlyZWQ6dHJ1ZSB9LFxyXG4gICAgbl90cmFuc2F0aW9uOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjAwICwgcmVxdWlyZWQ6dHJ1ZSB9LFxyXG4gICAgdG90YWw6e3R5cGU6TnVtYmVyLCBtYXhsZW5ndGg6MjAwICwgcmVxdWlyZWQ6dHJ1ZSAgfSxcclxuICAgIHByaWNlX2RvbGFyOnt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MH0sXHJcbiAgICBjdXJyZW5jeV90b3RhbDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOjUwLGRlZmF1bHQ6J1VTRCd9LFxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzIDogdHJ1ZVxyXG59KTtcclxuY29uc3QgU2FsZSA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZVwiLCBTYWxlU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgU2FsZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFDNUMsTUFBTVcsVUFBVSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDMUJDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUM1REMsZ0JBQWdCLEVBQUM7SUFBQ0osSUFBSSxFQUFFSyxNQUFNO0lBQUV0QixPQUFPLEVBQUM7RUFBTSxDQUFDO0VBQy9DdUIsY0FBYyxFQUFDO0lBQUVOLElBQUksRUFBQ0ssTUFBTTtJQUFFRSxTQUFTLEVBQUMsRUFBRTtJQUFFSixRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQzNESyxZQUFZLEVBQUU7SUFBQ1IsSUFBSSxFQUFFSyxNQUFNO0lBQUVFLFNBQVMsRUFBQyxHQUFHO0lBQUdKLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDNURNLEtBQUssRUFBQztJQUFDVCxJQUFJLEVBQUNVLE1BQU07SUFBRUgsU0FBUyxFQUFDLEdBQUc7SUFBR0osUUFBUSxFQUFDO0VBQU0sQ0FBQztFQUNwRFEsV0FBVyxFQUFDO0lBQUNYLElBQUksRUFBRVUsTUFBTTtJQUFFM0IsT0FBTyxFQUFDO0VBQUMsQ0FBQztFQUNyQzZCLGNBQWMsRUFBQztJQUFDWixJQUFJLEVBQUNLLE1BQU07SUFBQ0UsU0FBUyxFQUFDLEVBQUU7SUFBQ3hCLE9BQU8sRUFBQztFQUFLO0FBQzFELENBQUMsRUFBRTtFQUNDOEIsVUFBVSxFQUFHO0FBQ2pCLENBQUMsQ0FBQztBQUNGLE1BQU1DLElBQUksR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sRUFBRW5CLFVBQVUsQ0FBQztBQUFDLElBQUFvQixRQUFBLEdBQUFDLE9BQUEsQ0FBQW5DLE9BQUEsR0FDakMrQixJQUFJIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","method_payment","maxlength","n_transation","total","Number","price_dolar","currency_total","timestamps","Sale","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Sale.js"],"sourcesContent":["import mongoose, { Schema } from 'mongoose';\r\nconst SaleSchema = new Schema({\r\n    user: { type: Schema.ObjectId, ref: 'user', required: true },\r\n    currency_payment:{type: String, default:'USD' },\r\n    method_payment:{ type:String, maxlength:50, required:true },\r\n    n_transation: {type: String, maxlength:200 , required:true },\r\n    total:{type:Number, maxlength:200 , required:true  },\r\n    price_dolar:{type: Number, default:0},\r\n    currency_total:{type:String,maxlength:50,default:'USD'},\r\n}, {\r\n    timestamps : true\r\n});\r\nconst Sale = mongoose.model(\"sale\", SaleSchema);\r\nexport default Sale;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAC5C,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAE;IAAEC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC5DC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEtB,OAAO,EAAC;EAAM,CAAC;EAC/CuB,cAAc,EAAC;IAAEN,IAAI,EAACK,MAAM;IAAEE,SAAS,EAAC,EAAE;IAAEJ,QAAQ,EAAC;EAAK,CAAC;EAC3DK,YAAY,EAAE;IAACR,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAC,GAAG;IAAGJ,QAAQ,EAAC;EAAK,CAAC;EAC5DM,KAAK,EAAC;IAACT,IAAI,EAACU,MAAM;IAAEH,SAAS,EAAC,GAAG;IAAGJ,QAAQ,EAAC;EAAM,CAAC;EACpDQ,WAAW,EAAC;IAACX,IAAI,EAAEU,MAAM;IAAE3B,OAAO,EAAC;EAAC,CAAC;EACrC6B,cAAc,EAAC;IAACZ,IAAI,EAACK,MAAM;IAACE,SAAS,EAAC,EAAE;IAACxB,OAAO,EAAC;EAAK;AAC1D,CAAC,EAAE;EACC8B,UAAU,EAAG;AACjB,CAAC,CAAC;AACF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GACjC+B,IAAI","ignoreList":[]}},"mtime":1751072492559},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SalesAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    require: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  nota: {\n    type: String,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst SalesAddress = _mongoose.default.model(\"sales_address\", SalesAddressSchema);\nvar _default = exports.default = SalesAddress;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlc0FkZHJlc3NTY2hlbWEiLCJTY2hlbWEiLCJzYWxlIiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwibmFtZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInN1cm5hbWUiLCJwYWlzIiwiYWRkcmVzcyIsInJlZmVyZW5jaWEiLCJjaXVkYWQiLCJyZWdpb24iLCJ0ZWxlZm9ubyIsImVtYWlsIiwibm90YSIsInRpbWVzdGFtcHMiLCJTYWxlc0FkZHJlc3MiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZUFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlICwge1NjaGVtYX0gZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCBTYWxlc0FkZHJlc3NTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHNhbGU6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQsIHJlZjonc2FsZScgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgbmFtZToge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICBzdXJuYW1lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIHBhaXM6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgYWRkcmVzczoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICByZWZlcmVuY2lhOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOmZhbHNlIH0sXHJcbiAgICBjaXVkYWQ6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgcmVnaW9uOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIHRlbGVmb25vOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIGVtYWlsOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIG5vdGE6IHt0eXBlOiBTdHJpbmcscmVxdWlyZTpmYWxzZSB9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59XHJcbik7XHJcblxyXG5jb25zdCBTYWxlc0FkZHJlc3MgPSBtb25nb29zZS5tb2RlbChcInNhbGVzX2FkZHJlc3NcIixTYWxlc0FkZHJlc3NTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBTYWxlc0FkZHJlc3M7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SalesAddressSchema","Schema","sale","type","ObjectId","ref","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","SalesAddress","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["SaleAddress.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst SalesAddressSchema = new Schema({\r\n    sale: {type: Schema.ObjectId, ref:'sale' ,require:true },\r\n    name: {type: String, maxlength:250 ,require:true },\r\n    surname: {type: String, maxlength:250 ,require:true },\r\n    pais: {type: String, maxlength:250 ,require:true },\r\n    address: {type: String, maxlength:250 ,require:true },\r\n    referencia: {type: String, maxlength:250 ,require:false },\r\n    ciudad: {type: String, maxlength:250 ,require:true },\r\n    region: {type: String, maxlength:250 ,require:true },\r\n    telefono: {type: String, maxlength:250 ,require:true },\r\n    email: {type: String, maxlength:250 ,require:true },\r\n    nota: {type: String,require:false },\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst SalesAddress = mongoose.model(\"sales_address\",SalesAddressSchema);\r\nexport default SalesAddress;\r\n\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1751072492560},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y dos  es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = exports.default = SaleDetail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlRGV0YWlsU2NoZW1hIiwiU2NoZW1hIiwic2FsZSIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInRpbWVzdGFtcHMiLCJTYWxlRGV0YWlsIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNhbGVEZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSB9IGZyb20gJ21vbmdvb3NlJztcclxuY29uc3QgU2FsZURldGFpbFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgc2FsZTp7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6J3NhbGUnLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBwcm9kdWN0OiB7dHlwZSA6IFNjaGVtYS5PYmplY3RJZCwgcmVmOidwcm9kdWN0JywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgdHlwZV9kaXNjb3VudDp7dHlwZTogIE51bWJlciwgcmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDoxfSwvLzEgZXMgcG9yIHBvcmNlbnRhamUgeSBkb3MgIGVzIHBvciBtb25lZGFcclxuICAgIGRpc2NvdW50Ont0eXBlOk51bWJlcixkZWZhdWx0OjB9LFxyXG4gICAgY2FudGlkYWQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdmFyaWVkYWQ6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjondmFyaWVkYWQnLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIGNvZGVfY3Vwb246e3R5cGU6U3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjb2RlX2Rpc2NvdW50Ont0eXBlOlN0cmluZywgcmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgcHJpY2VfdW5pdGFyaW86e3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHN1YnRvdGFsOnt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0b3RhbDp7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzIDogdHJ1ZVxyXG59KTtcclxuY29uc3QgU2FsZURldGFpbCA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZV9kZXRhaWxcIiwgU2FsZURldGFpbFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFNhbGVEZXRhaWw7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEs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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","SaleDetail","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["SaleDetail.js"],"sourcesContent":["import mongoose, { Schema } from 'mongoose';\r\nconst SaleDetailSchema = new Schema({\r\n    sale:{type: Schema.ObjectId, ref:'sale', required: true},\r\n    product: {type : Schema.ObjectId, ref:'product', required: true},\r\n    type_discount:{type:  Number, required:false,default:1},//1 es por porcentaje y dos  es por moneda\r\n    discount:{type:Number,default:0},\r\n    cantidad:{type:Number,required:true},\r\n    variedad:{type:Schema.ObjectId,ref:'variedad',required:false},\r\n    code_cupon:{type:String, required:false},\r\n    code_discount:{type:String, required:false},\r\n    price_unitario:{type:Number, required:true},\r\n    subtotal:{type:Number, required:true},\r\n    total:{type:Number, required:true},\r\n}, {\r\n    timestamps : true\r\n});\r\nconst SaleDetail = mongoose.model(\"sale_detail\", SaleDetailSchema);\r\nexport default SaleDetail;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAC5C,MAAMW,gBAAgB,GAAG,IAAIC,gBAAM,CAAC;EAChCC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACxDC,OAAO,EAAE;IAACJ,IAAI,EAAGF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAE;EAAI,CAAC;EAChEE,aAAa,EAAC;IAACL,IAAI,EAAGM,MAAM;IAAEH,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACxDwB,QAAQ,EAAC;IAACP,IAAI,EAACM,MAAM;IAACvB,OAAO,EAAC;EAAC,CAAC;EAChCyB,QAAQ,EAAC;IAACR,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EACpCM,QAAQ,EAAC;IAACT,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,UAAU;IAACC,QAAQ,EAAC;EAAK,CAAC;EAC7DO,UAAU,EAAC;IAACV,IAAI,EAACW,MAAM;IAAER,QAAQ,EAAC;EAAK,CAAC;EACxCS,aAAa,EAAC;IAACZ,IAAI,EAACW,MAAM;IAAER,QAAQ,EAAC;EAAK,CAAC;EAC3CU,cAAc,EAAC;IAACb,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAC3CW,QAAQ,EAAC;IAACd,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACrCY,KAAK,EAAC;IAACf,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI;AACrC,CAAC,EAAE;EACCa,UAAU,EAAG;AACjB,CAAC,CAAC;AACF,MAAMC,UAAU,GAAGC,iBAAQ,CAACC,KAAK,CAAC,aAAa,EAAEtB,gBAAgB,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GACpDkC,UAAU","ignoreList":[]}},"mtime":1751072492560},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/user/\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _AddressClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9BZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJhZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBhZGRyZXNzQ2xpZW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9BZGRyZXNzQ2xpZW50Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2VyL1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUVjb21tZXJjZSwgYWRkcmVzc0NsaWVudENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBhdXRoLnZlcmlmeUVjb21tZXJjZSwgYWRkcmVzc0NsaWVudENvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsYWRkcmVzc0NsaWVudENvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLzppZFwiLCBhdXRoLnZlcmlmeUVjb21tZXJjZSwgYWRkcmVzc0NsaWVudENvbnRyb2xsZXIuZGVsZXRlKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyx3QkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyxnQ0FBdUIsQ0FBQ0MsUUFBUSxDQUFDO0FBQy9FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUVKLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyxnQ0FBdUIsQ0FBQ0csTUFBTSxDQUFDO0FBQzNFUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyxnQ0FBdUIsQ0FBQ0ssSUFBSSxDQUFDO0FBQ3JFVixNQUFNLENBQUNXLE1BQU0sQ0FBQyxhQUFhLEVBQUVSLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyxnQ0FBdUIsQ0FBQ00sTUFBTSxDQUFDO0FBQUEsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFkLE9BQUEsR0FFbkVDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_AddressClientController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","addressClientController","register","put","update","get","list","delete","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["AddressClient.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport addressClientController from '../controllers/AddressClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\n//http://localhost:3000/api/user/\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce, addressClientController.register);\r\nrouter.put(\"/update\", auth.verifyEcommerce, addressClientController.update);\r\nrouter.get(\"/list\",auth.verifyEcommerce,addressClientController.list);\r\nrouter.delete(\"/delete/:id\", auth.verifyEcommerce, addressClientController.delete)\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,wBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAAEC,gCAAuB,CAACC,QAAQ,CAAC;AAC/EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAEJ,aAAI,CAACC,eAAe,EAAEC,gCAAuB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAAER,aAAI,CAACC,eAAe,EAAEC,gCAAuB,CAACM,MAAM,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAd,OAAA,GAEnEC,MAAM","ignoreList":[]}},"mtime":1751072492562},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let addressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE EDITÓ CORRECTAMENTE\",\n        address_client: addressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRES_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRES_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params.id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINÓ CORRECTAMENTE \"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYWRkcmVzc19jbGllbnQiLCJtb2RlbHMiLCJBZGRyZXNzQ2xpZW50IiwiY3JlYXRlIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsImRhdGEiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsImFkZHJlc3NDbGllbnQiLCJmaW5kQnlJZCIsImxpc3QiLCJBRERSRVNfQ0xJRU5UIiwiZmluZCIsInVzZXIiLCJxdWVyeSIsInVzZXJfaWQiLCJzb3J0IiwiZGVsZXRlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJwYXJhbXMiLCJpZCJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQWRkcmVzc0NsaWVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgYWRkcmVzc19jbGllbnQgPSBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5jcmVhdGUocmVxLmJvZHkpXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzc19jbGllbnQ6IGFkZHJlc3NfY2xpZW50LFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiByZXEuYm9keS5faWQgfSxkYXRhKTtcclxuICAgICAgICAgICAgbGV0IGFkZHJlc3NDbGllbnQgPWF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkKHsgX2lkOiByZXEuYm9keS5faWQgfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBFRElUw5MgQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBhZGRyZXNzQ2xpZW50LFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgQUREUkVTX0NMSUVOVCA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxLnF1ZXJ5LnVzZXJfaWRcclxuICAgICAgICAgICAgfSkuc29ydCh7ICdjcmVhdGVkQXQnOiAtMSB9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBhZGRyZXNzX2NsaWVudDogQUREUkVTX0NMSUVOVCB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBkZWxldGU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kRGVsZXRlKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBFTElNSU7DkyBDT1JSRUNUQU1FTlRFIFwiIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","addressClient","findById","list","ADDRES_CLIENT","find","user","query","user_id","sort","delete","findByIdAndDelete","params","id"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            const address_client = await models.AddressClient.create(req.body)\r\n            res.status(200).json(\r\n                {\r\n                    message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\r\n                    address_client: address_client,\r\n                })\r\n        } catch (error) {\r\n            console.log(error)\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            await models.AddressClient.findByIdAndUpdate({ _id: req.body._id },data);\r\n            let addressClient =await models.AddressClient.findById({ _id: req.body._id });\r\n            res.status(200).json(\r\n                {\r\n                    message: \"LA DIRECCIÓN DEL CLIENTE SE EDITÓ CORRECTAMENTE\",\r\n                    address_client: addressClient,\r\n                })\r\n        } catch (error) {\r\n            console.log(error)\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            let ADDRES_CLIENT = await models.AddressClient.find({\r\n                user: req.query.user_id\r\n            }).sort({ 'createdAt': -1 });\r\n            res.status(200).json({ address_client: ADDRES_CLIENT });\r\n        } catch (error) {\r\n            console.log(error)\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n\r\n    delete: async (req, res) => {\r\n        try {\r\n            await models.AddressClient.findByIdAndDelete({ _id: req.params.id });\r\n            res.status(200).json({ message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINÓ CORRECTAMENTE \" })\r\n        } catch (error) {\r\n            console.log(error)\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1751072492555},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n//http://localhost:3000/api/user/\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _SaleController.default.register);\n//router.get(\"/send_email/:id\", SaleController.send_email);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TYWxlQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJTYWxlQ29udHJvbGxlciIsInJlZ2lzdGVyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgIHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IFNhbGVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1NhbGVDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlci9cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUVjb21tZXJjZSwgU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG4vL3JvdXRlci5nZXQoXCIvc2VuZF9lbWFpbC86aWRcIiwgU2FsZUNvbnRyb2xsZXIuc2VuZF9lbWFpbCk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBRUMsdUJBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBQ3RFO0FBQUEsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFULE9BQUEsR0FDZUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SaleController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","SaleController","register","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Sale.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport SaleController from '../controllers/SaleController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n//http://localhost:3000/api/user/\r\nrouter.post(\"/register\",auth.verifyEcommerce, SaleController.register);\r\n//router.get(\"/send_email/:id\", SaleController.send_email);\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACtE;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAT,OAAA,GACeC,MAAM","ignoreList":[]}},"mtime":1751126535046},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'kevincaizaguano7@gmail.com',\n        pass: 'iikgnmohfafckkun'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'kevincaizaguano7@gmail.com',\n        to: Order.user.email,\n        subject: 'Finaliza tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        }\n      });\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n;\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n        //DECUENTO DEL INVENTARIO \n        if (CART.variedad) {\n          //MULTIPLE INVENTARIO\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //UNITARIO INVENTARIO\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      //ENVIO DE  NOTIFICACION EMAIL\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: 'LA ORDEN  SE GENERO CORRECTAMENTE'\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {} catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnMiLCJfaGFuZGxlYmFycyIsIl9lanMiLCJfbm9kZW1haWxlciIsIl9ub2RlbWFpbGVyU210cFRyYW5zcG9ydCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic2VuZF9lbWFpbCIsInNhbGVfaWQiLCJyZWFkSFRNTEZpbGUiLCJwYXRoIiwiY2FsbGJhY2siLCJmcyIsInJlYWRGaWxlIiwiZW5jb2RpbmciLCJlcnIiLCJodG1sIiwiT3JkZXIiLCJtb2RlbHMiLCJTYWxlIiwiZmluZEJ5SWQiLCJfaWQiLCJwb3B1bGF0ZSIsIk9yZGVyRGV0YWlsIiwiU2FsZURldGFpbCIsImZpbmQiLCJzYWxlIiwiQWRkcmVzc1NhbGUiLCJTYWxlQWRkcmVzcyIsImZpbmRPbmUiLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzbXRwVHJhbnNwb3J0Iiwic2VydmljZSIsImhvc3QiLCJhdXRoIiwidXNlciIsInBhc3MiLCJwcm9jZXNzIiwiY3dkIiwicmVzdF9odG1sIiwiZWpzIiwicmVuZGVyIiwib3JkZXIiLCJhZGRyZXNzX3NhbGUiLCJvcmRlcl9kZXRhaWwiLCJ0ZW1wbGF0ZSIsImhhbmRsZWJhcnMiLCJjb21waWxlIiwiaHRtbFRvU2VuZCIsIm9wIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwic2FsZV9kYXRhIiwiYm9keSIsInNhbGVfYWRkcmVzc19kYXRhIiwic2FsZV9hZGRyZXNzIiwiU0FMRSIsImNyZWF0ZSIsIlNBTEVfQUREUkVTUyIsIkNBUlRTIiwiQ2FydCIsIkNBUlQiLCJ0b09iamVjdCIsInZhcmllZGFkIiwiVkFSSUVEQUQiLCJWYXJpZWRhZCIsIm5ld19zdG9jayIsInN0b2NrIiwiY2FudGlkYWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlBST0RVQ1QiLCJQcm9kdWN0IiwicHJvZHVjdCIsImZpbmRCeUlkQW5kRGVsZXRlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJzZW5kIiwibGlzdCJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiU2FsZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgaGFuZGxlYmFycyBmcm9tICdoYW5kbGViYXJzJztcclxuaW1wb3J0IGVqcyBmcm9tICdlanMnO1xyXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcclxuaW1wb3J0IHNtdHBUcmFuc3BvcnQgZnJvbSAnbm9kZW1haWxlci1zbXRwLXRyYW5zcG9ydCc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIHJlYWRIVE1MRmlsZSA9IGZ1bmN0aW9uIChwYXRoLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBmcy5yZWFkRmlsZShwYXRoLCB7IGVuY29kaW5nOiAndXRmLTgnIH0sIGZ1bmN0aW9uIChlcnIsIGh0bWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGh0bWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgT3JkZXIgPSBhd2FpdCBtb2RlbHMuU2FsZS5maW5kQnlJZCh7IF9pZDogc2FsZV9pZCB9KS5wb3B1bGF0ZShcInVzZXJcIik7XHJcbiAgICAgICAgbGV0IE9yZGVyRGV0YWlsID0gYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuZmluZCh7IHNhbGU6IE9yZGVyLl9pZCB9KS5wb3B1bGF0ZShcInByb2R1Y3RcIikucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKTtcclxuICAgICAgICBsZXQgQWRkcmVzc1NhbGUgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZE9uZSh7IHNhbGU6IE9yZGVyLl9pZCB9KTtcclxuXHJcbiAgICAgICAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoc210cFRyYW5zcG9ydCh7XHJcbiAgICAgICAgICAgIHNlcnZpY2U6ICdnbWFpbCcsXHJcbiAgICAgICAgICAgIGhvc3Q6ICdzbXRwLmdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgIGF1dGg6IHtcclxuICAgICAgICAgICAgICAgIHVzZXI6ICdrZXZpbmNhaXphZ3Vhbm83QGdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgICAgICBwYXNzOiAnaWlrZ25tb2hmYWZja2t1bidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgcmVhZEhUTUxGaWxlKHByb2Nlc3MuY3dkKCkgKyAnL21haWxzL2VtYWlsX3NhbGUuaHRtbCcsIChlcnIsIGh0bWwpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlc3RfaHRtbCA9IGVqcy5yZW5kZXIoaHRtbCwgeyBvcmRlcjogT3JkZXIsIGFkZHJlc3Nfc2FsZTogQWRkcmVzc1NhbGUsIG9yZGVyX2RldGFpbDogT3JkZXJEZXRhaWwgfSk7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGhhbmRsZWJhcnMuY29tcGlsZShyZXN0X2h0bWwpO1xyXG4gICAgICAgICAgICB2YXIgaHRtbFRvU2VuZCA9IHRlbXBsYXRlKHsgb3A6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHZhciBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGZyb206ICdrZXZpbmNhaXphZ3Vhbm83QGdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgICAgICB0bzogT3JkZXIudXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgIHN1YmplY3Q6ICdGaW5hbGl6YSB0dSBjb21wcmEgJyArIE9yZGVyLl9pZCxcclxuICAgICAgICAgICAgICAgIGh0bWw6IGh0bWxUb1NlbmRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMsIGZ1bmN0aW9uIChlcnJvciwgaW5mbykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50OiAnICsgaW5mby5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgc2FsZV9kYXRhID0gcmVxLmJvZHkuc2FsZTtcclxuICAgICAgICAgICAgbGV0IHNhbGVfYWRkcmVzc19kYXRhID0gcmVxLmJvZHkuc2FsZV9hZGRyZXNzO1xyXG4gICAgICAgICAgICBsZXQgU0FMRSA9IGF3YWl0IG1vZGVscy5TYWxlLmNyZWF0ZShzYWxlX2RhdGEpO1xyXG4gICAgICAgICAgICBzYWxlX2FkZHJlc3NfZGF0YS5zYWxlID0gU0FMRS5faWQ7XHJcbiAgICAgICAgICAgIGxldCBTQUxFX0FERFJFU1MgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuY3JlYXRlKHNhbGVfYWRkcmVzc19kYXRhKTtcclxuICAgICAgICAgICAgbGV0IENBUlRTID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZCh7IHVzZXI6IFNBTEUudXNlciB9KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgQ0FSVCBvZiBDQVJUUykge1xyXG4gICAgICAgICAgICAgICAgQ0FSVCA9IENBUlQudG9PYmplY3QoKTtcclxuICAgICAgICAgICAgICAgIENBUlQuc2FsZSA9IFNBTEUuX2lkO1xyXG4gICAgICAgICAgICAgICAgLy9ERUNVRU5UTyBERUwgSU5WRU5UQVJJTyBcclxuICAgICAgICAgICAgICAgIGlmIChDQVJULnZhcmllZGFkKSB7Ly9NVUxUSVBMRSBJTlZFTlRBUklPXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IFZBUklFREFEID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHsgX2lkOiBDQVJULnZhcmllZGFkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBWQVJJRURBRC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiBDQVJULnZhcmllZGFkIH0sIHsgc3RvY2s6IG5ld19zdG9jaywgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Ugey8vVU5JVEFSSU8gSU5WRU5UQVJJT1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBQUk9EVUNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoeyBfaWQ6IENBUlQucHJvZHVjdCB9KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3X3N0b2NrID0gUFJPRFVDVC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoeyBfaWQ6IENBUlQucHJvZHVjdCB9LCB7IHN0b2NrOiBuZXdfc3RvY2ssIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuY3JlYXRlKENBUlQpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmREZWxldGUoeyBfaWQ6IENBUlQuX2lkIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vRU5WSU8gREUgIE5PVElGSUNBQ0lPTiBFTUFJTFxyXG4gICAgICAgICAgICBhd2FpdCBzZW5kX2VtYWlsKFNBTEUuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdMQSBPUkRFTiAgU0UgR0VORVJPIENPUlJFQ1RBTUVOVEUnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG59XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLElBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFdBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLHdCQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFBc0QsU0FBQUQsdUJBQUFPLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdEQsZUFBZUcsVUFBVUEsQ0FBQ0MsT0FBTyxFQUFFO0VBQy9CLElBQUk7SUFDQSxJQUFJQyxZQUFZLEdBQUcsU0FBQUEsQ0FBVUMsSUFBSSxFQUFFQyxRQUFRLEVBQUU7TUFDekNDLFdBQUUsQ0FBQ0MsUUFBUSxDQUFDSCxJQUFJLEVBQUU7UUFBRUksUUFBUSxFQUFFO01BQVEsQ0FBQyxFQUFFLFVBQVVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFO1FBQzFELElBQUlELEdBQUcsRUFBRTtVQUNMLE1BQU1BLEdBQUc7VUFDVEosUUFBUSxDQUFDSSxHQUFHLENBQUM7UUFDakIsQ0FBQyxNQUNJO1VBQ0RKLFFBQVEsQ0FBQyxJQUFJLEVBQUVLLElBQUksQ0FBQztRQUN4QjtNQUNKLENBQUMsQ0FBQztJQUNOLENBQUM7SUFFRCxJQUFJQyxLQUFLLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxJQUFJLENBQUNDLFFBQVEsQ0FBQztNQUFFQyxHQUFHLEVBQUViO0lBQVEsQ0FBQyxDQUFDLENBQUNjLFFBQVEsQ0FBQyxNQUFNLENBQUM7SUFDekUsSUFBSUMsV0FBVyxHQUFHLE1BQU1MLGVBQU0sQ0FBQ00sVUFBVSxDQUFDQyxJQUFJLENBQUM7TUFBRUMsSUFBSSxFQUFFVCxLQUFLLENBQUNJO0lBQUksQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQ0EsUUFBUSxDQUFDLFVBQVUsQ0FBQztJQUM1RyxJQUFJSyxXQUFXLEdBQUcsTUFBTVQsZUFBTSxDQUFDVSxXQUFXLENBQUNDLE9BQU8sQ0FBQztNQUFFSCxJQUFJLEVBQUVULEtBQUssQ0FBQ0k7SUFBSSxDQUFDLENBQUM7SUFFdkUsSUFBSVMsV0FBVyxHQUFHQyxtQkFBVSxDQUFDQyxlQUFlLENBQUMsSUFBQUMsZ0NBQWEsRUFBQztNQUN2REMsT0FBTyxFQUFFLE9BQU87TUFDaEJDLElBQUksRUFBRSxnQkFBZ0I7TUFDdEJDLElBQUksRUFBRTtRQUNGQyxJQUFJLEVBQUUsNEJBQTRCO1FBQ2xDQyxJQUFJLEVBQUU7TUFDVjtJQUNKLENBQUMsQ0FBQyxDQUFDO0lBRUg3QixZQUFZLENBQUM4QixPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsd0JBQXdCLEVBQUUsQ0FBQ3pCLEdBQUcsRUFBRUMsSUFBSSxLQUFLO01BQ2xFLElBQUl5QixTQUFTLEdBQUdDLFlBQUcsQ0FBQ0MsTUFBTSxDQUFDM0IsSUFBSSxFQUFFO1FBQUU0QixLQUFLLEVBQUUzQixLQUFLO1FBQUU0QixZQUFZLEVBQUVsQixXQUFXO1FBQUVtQixZQUFZLEVBQUV2QjtNQUFZLENBQUMsQ0FBQztNQUN4RyxJQUFJd0IsUUFBUSxHQUFHQyxtQkFBVSxDQUFDQyxPQUFPLENBQUNSLFNBQVMsQ0FBQztNQUM1QyxJQUFJUyxVQUFVLEdBQUdILFFBQVEsQ0FBQztRQUFFSSxFQUFFLEVBQUU7TUFBSyxDQUFDLENBQUM7TUFDdkMsSUFBSUMsV0FBVyxHQUFHO1FBQ2RDLElBQUksRUFBRSw0QkFBNEI7UUFDbENDLEVBQUUsRUFBRXJDLEtBQUssQ0FBQ29CLElBQUksQ0FBQ2tCLEtBQUs7UUFDcEJDLE9BQU8sRUFBRSxxQkFBcUIsR0FBR3ZDLEtBQUssQ0FBQ0ksR0FBRztRQUMxQ0wsSUFBSSxFQUFFa0M7TUFDVixDQUFDO01BQ0RwQixXQUFXLENBQUMyQixRQUFRLENBQUNMLFdBQVcsRUFBRSxVQUFVTSxLQUFLLEVBQUVDLElBQUksRUFBRTtRQUNyRCxJQUFJLENBQUNELEtBQUssRUFBRTtVQUNSRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxjQUFjLEdBQUdGLElBQUksQ0FBQ0csUUFBUSxDQUFDO1FBQy9DO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0VBQ04sQ0FBQyxDQUFDLE9BQU9KLEtBQUssRUFBRTtJQUNaRSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0gsS0FBSyxDQUFDO0VBQ3RCO0FBQ0o7QUFBQztBQUFDLElBQUFLLFFBQUEsR0FBQUMsT0FBQSxDQUFBMUQsT0FBQSxHQUlhO0VBQ1gyRCxRQUFRLEVBQUUsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDMUIsSUFBSTtNQUNBLElBQUlDLFNBQVMsR0FBR0YsR0FBRyxDQUFDRyxJQUFJLENBQUMzQyxJQUFJO01BQzdCLElBQUk0QyxpQkFBaUIsR0FBR0osR0FBRyxDQUFDRyxJQUFJLENBQUNFLFlBQVk7TUFDN0MsSUFBSUMsSUFBSSxHQUFHLE1BQU10RCxlQUFNLENBQUNDLElBQUksQ0FBQ3NELE1BQU0sQ0FBQ0wsU0FBUyxDQUFDO01BQzlDRSxpQkFBaUIsQ0FBQzVDLElBQUksR0FBRzhDLElBQUksQ0FBQ25ELEdBQUc7TUFDakMsSUFBSXFELFlBQVksR0FBRyxNQUFNeEQsZUFBTSxDQUFDVSxXQUFXLENBQUM2QyxNQUFNLENBQUNILGlCQUFpQixDQUFDO01BQ3JFLElBQUlLLEtBQUssR0FBRyxNQUFNekQsZUFBTSxDQUFDMEQsSUFBSSxDQUFDbkQsSUFBSSxDQUFDO1FBQUVZLElBQUksRUFBRW1DLElBQUksQ0FBQ25DO01BQUssQ0FBQyxDQUFDO01BQ3ZELEtBQUssSUFBSXdDLElBQUksSUFBSUYsS0FBSyxFQUFFO1FBQ3BCRSxJQUFJLEdBQUdBLElBQUksQ0FBQ0MsUUFBUSxDQUFDLENBQUM7UUFDdEJELElBQUksQ0FBQ25ELElBQUksR0FBRzhDLElBQUksQ0FBQ25ELEdBQUc7UUFDcEI7UUFDQSxJQUFJd0QsSUFBSSxDQUFDRSxRQUFRLEVBQUU7VUFBQztVQUNoQixJQUFJQyxRQUFRLEdBQUcsTUFBTTlELGVBQU0sQ0FBQytELFFBQVEsQ0FBQzdELFFBQVEsQ0FBQztZQUFFQyxHQUFHLEVBQUV3RCxJQUFJLENBQUNFO1VBQVMsQ0FBQyxDQUFDO1VBQ3JFLElBQUlHLFNBQVMsR0FBR0YsUUFBUSxDQUFDRyxLQUFLLEdBQUdOLElBQUksQ0FBQ08sUUFBUTtVQUM5QyxNQUFNbEUsZUFBTSxDQUFDK0QsUUFBUSxDQUFDSSxpQkFBaUIsQ0FBQztZQUFFaEUsR0FBRyxFQUFFd0QsSUFBSSxDQUFDRTtVQUFTLENBQUMsRUFBRTtZQUFFSSxLQUFLLEVBQUVEO1VBQVcsQ0FBQyxDQUFDO1FBQzFGLENBQUMsTUFBTTtVQUFDO1VBQ0osSUFBSUksT0FBTyxHQUFHLE1BQU1wRSxlQUFNLENBQUNxRSxPQUFPLENBQUNuRSxRQUFRLENBQUM7WUFBRUMsR0FBRyxFQUFFd0QsSUFBSSxDQUFDVztVQUFRLENBQUMsQ0FBQztVQUNsRSxJQUFJTixTQUFTLEdBQUdJLE9BQU8sQ0FBQ0gsS0FBSyxHQUFHTixJQUFJLENBQUNPLFFBQVE7VUFDN0MsTUFBTWxFLGVBQU0sQ0FBQ3FFLE9BQU8sQ0FBQ0YsaUJBQWlCLENBQUM7WUFBRWhFLEdBQUcsRUFBRXdELElBQUksQ0FBQ1c7VUFBUSxDQUFDLEVBQUU7WUFBRUwsS0FBSyxFQUFFRDtVQUFXLENBQUMsQ0FBQztRQUN4RjtRQUNBLE1BQU1oRSxlQUFNLENBQUNNLFVBQVUsQ0FBQ2lELE1BQU0sQ0FBQ0ksSUFBSSxDQUFDO1FBQ3BDLE1BQU0zRCxlQUFNLENBQUMwRCxJQUFJLENBQUNhLGlCQUFpQixDQUFDO1VBQUVwRSxHQUFHLEVBQUV3RCxJQUFJLENBQUN4RDtRQUFJLENBQUMsQ0FBQztNQUMxRDtNQUNBO01BQ0EsTUFBTWQsVUFBVSxDQUFDaUUsSUFBSSxDQUFDbkQsR0FBRyxDQUFDO01BRTFCOEMsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPbEMsS0FBSyxFQUFFO01BQ1pFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSCxLQUFLLENBQUM7TUFDbEJTLEdBQUcsQ0FBQ3VCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQUVELE9BQU8sRUFBRTtNQUFzQixDQUFDLENBQUM7SUFDNUQ7RUFDSixDQUFDO0VBRURFLElBQUksRUFBRSxNQUFBQSxDQUFPNUIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDdEIsSUFBSSxDQUVKLENBQUMsQ0FBQyxPQUFPVCxLQUFLLEVBQUU7TUFDWkUsT0FBTyxDQUFDQyxHQUFHLENBQUNILEtBQUssQ0FBQztNQUNsQlMsR0FBRyxDQUFDdUIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFBRUQsT0FBTyxFQUFFO01BQXNCLENBQUMsQ0FBQztJQUM1RDtFQUNKO0FBRUosQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","_fs","_handlebars","_ejs","_nodemailer","_nodemailerSmtpTransport","obj","__esModule","default","send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","_default","exports","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","product","findByIdAndDelete","status","json","message","send","list"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["SaleController.js"],"sourcesContent":["import models from '../models';\r\nimport fs from 'fs';\r\nimport handlebars from 'handlebars';\r\nimport ejs from 'ejs';\r\nimport nodemailer from 'nodemailer';\r\nimport smtpTransport from 'nodemailer-smtp-transport';\r\n\r\nasync function send_email(sale_id) {\r\n    try {\r\n        var readHTMLFile = function (path, callback) {\r\n            fs.readFile(path, { encoding: 'utf-8' }, function (err, html) {\r\n                if (err) {\r\n                    throw err;\r\n                    callback(err);\r\n                }\r\n                else {\r\n                    callback(null, html);\r\n                }\r\n            });\r\n        };\r\n\r\n        let Order = await models.Sale.findById({ _id: sale_id }).populate(\"user\");\r\n        let OrderDetail = await models.SaleDetail.find({ sale: Order._id }).populate(\"product\").populate(\"variedad\");\r\n        let AddressSale = await models.SaleAddress.findOne({ sale: Order._id });\r\n\r\n        var transporter = nodemailer.createTransport(smtpTransport({\r\n            service: 'gmail',\r\n            host: 'smtp.gmail.com',\r\n            auth: {\r\n                user: 'kevincaizaguano7@gmail.com',\r\n                pass: 'iikgnmohfafckkun'\r\n            }\r\n        }));\r\n\r\n        readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\r\n            let rest_html = ejs.render(html, { order: Order, address_sale: AddressSale, order_detail: OrderDetail });\r\n            var template = handlebars.compile(rest_html);\r\n            var htmlToSend = template({ op: true });\r\n            var mailOptions = {\r\n                from: 'kevincaizaguano7@gmail.com',\r\n                to: Order.user.email,\r\n                subject: 'Finaliza tu compra ' + Order._id,\r\n                html: htmlToSend\r\n            };\r\n            transporter.sendMail(mailOptions, function (error, info) {\r\n                if (!error) {\r\n                    console.log('Email sent: ' + info.response);\r\n                }\r\n            });\r\n        });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            let sale_data = req.body.sale;\r\n            let sale_address_data = req.body.sale_address;\r\n            let SALE = await models.Sale.create(sale_data);\r\n            sale_address_data.sale = SALE._id;\r\n            let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\r\n            let CARTS = await models.Cart.find({ user: SALE.user });\r\n            for (let CART of CARTS) {\r\n                CART = CART.toObject();\r\n                CART.sale = SALE._id;\r\n                //DECUENTO DEL INVENTARIO \r\n                if (CART.variedad) {//MULTIPLE INVENTARIO\r\n                    let VARIEDAD = await models.Variedad.findById({ _id: CART.variedad });\r\n                    let new_stock = VARIEDAD.stock - CART.cantidad;\r\n                    await models.Variedad.findByIdAndUpdate({ _id: CART.variedad }, { stock: new_stock, });\r\n                } else {//UNITARIO INVENTARIO\r\n                    let PRODUCT = await models.Product.findById({ _id: CART.product });\r\n                    let new_stock = PRODUCT.stock - CART.cantidad;\r\n                    await models.Product.findByIdAndUpdate({ _id: CART.product }, { stock: new_stock, });\r\n                }\r\n                await models.SaleDetail.create(CART);\r\n                await models.Cart.findByIdAndDelete({ _id: CART._id });\r\n            }\r\n            //ENVIO DE  NOTIFICACION EMAIL\r\n            await send_email(SALE._id);\r\n\r\n            res.status(200).json({\r\n                message: 'LA ORDEN  SE GENERO CORRECTAMENTE'\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1751129120480},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    require: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  nota: {\n    type: String,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = exports.default = AddressClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJBZGRyZXNzQ2xpZW50U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwicGFpcyIsImFkZHJlc3MiLCJyZWZlcmVuY2lhIiwiY2l1ZGFkIiwicmVnaW9uIiwidGVsZWZvbm8iLCJlbWFpbCIsIm5vdGEiLCJ0aW1lc3RhbXBzIiwiQWRkcmVzc0NsaWVudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxrZXZpblxcQ3Vyc29zXFxlLWNvbW1lcnNlXFxhcGktY29tbWVyc2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJBZGRyZXNzQ2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSAsIHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgQWRkcmVzc0NsaWVudFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcjoge3R5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOid1c2VyJyAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICBuYW1lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIHN1cm5hbWU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgcGFpczoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICBhZGRyZXNzOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIHJlZmVyZW5jaWE6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6ZmFsc2UgfSxcclxuICAgIGNpdWRhZDoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICByZWdpb246IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgdGVsZWZvbm86IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgZW1haWw6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgbm90YToge3R5cGU6IFN0cmluZyxyZXF1aXJlOmZhbHNlIH0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlXHJcbn1cclxuKTtcclxuXHJcbmNvbnN0IEFkZHJlc3NDbGllbnQgPSBtb25nb29zZS5tb2RlbChcImFkZHJlc3NfY2xpZW50XCIsQWRkcmVzc0NsaWVudFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IEFkZHJlc3NDbGllbnQ7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AddressClientSchema","Schema","user","type","ObjectId","ref","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","AddressClient","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["AddressClient.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst AddressClientSchema = new Schema({\r\n    user: {type: Schema.ObjectId, ref:'user' ,require:true },\r\n    name: {type: String, maxlength:250 ,require:true },\r\n    surname: {type: String, maxlength:250 ,require:true },\r\n    pais: {type: String, maxlength:250 ,require:true },\r\n    address: {type: String, maxlength:250 ,require:true },\r\n    referencia: {type: String, maxlength:250 ,require:false },\r\n    ciudad: {type: String, maxlength:250 ,require:true },\r\n    region: {type: String, maxlength:250 ,require:true },\r\n    telefono: {type: String, maxlength:250 ,require:true },\r\n    email: {type: String, maxlength:250 ,require:true },\r\n    nota: {type: String,require:false },\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst AddressClient = mongoose.model(\"address_client\",AddressClientSchema);\r\nexport default AddressClient;\r\n\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1751072492559},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transation: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  total: {\n    type: Number,\n    maxlength: 200,\n    required: true\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  },\n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = exports.default = Sale;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlU2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY3VycmVuY3lfcGF5bWVudCIsIlN0cmluZyIsIm1ldGhvZF9wYXltZW50IiwibWF4bGVuZ3RoIiwibl90cmFuc2F0aW9uIiwidG90YWwiLCJOdW1iZXIiLCJwcmljZV9kb2xhciIsImN1cnJlbmN5X3RvdGFsIiwidGltZXN0YW1wcyIsIlNhbGUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hIH0gZnJvbSAnbW9uZ29vc2UnO1xyXG5jb25zdCBTYWxlU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VyOiB7IHR5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAndXNlcicsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjdXJyZW5jeV9wYXltZW50Ont0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6J1VTRCcgfSxcclxuICAgIG1ldGhvZF9wYXltZW50OnsgdHlwZTpTdHJpbmcsIG1heGxlbmd0aDo1MCwgcmVxdWlyZWQ6dHJ1ZSB9LFxyXG4gICAgbl90cmFuc2F0aW9uOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjAwICwgcmVxdWlyZWQ6dHJ1ZSB9LFxyXG4gICAgdG90YWw6e3R5cGU6TnVtYmVyLCBtYXhsZW5ndGg6MjAwICwgcmVxdWlyZWQ6dHJ1ZSAgfSxcclxuICAgIHByaWNlX2RvbGFyOnt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MH0sXHJcbiAgICBjdXJyZW5jeV90b3RhbDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOjUwLGRlZmF1bHQ6J1VTRCd9LFxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzIDogdHJ1ZVxyXG59KTtcclxuY29uc3QgU2FsZSA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZVwiLCBTYWxlU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgU2FsZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFDNUMsTUFBTVcsVUFBVSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDMUJDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUM1REMsZ0JBQWdCLEVBQUM7SUFBQ0osSUFBSSxFQUFFSyxNQUFNO0lBQUV0QixPQUFPLEVBQUM7RUFBTSxDQUFDO0VBQy9DdUIsY0FBYyxFQUFDO0lBQUVOLElBQUksRUFBQ0ssTUFBTTtJQUFFRSxTQUFTLEVBQUMsRUFBRTtJQUFFSixRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQzNESyxZQUFZLEVBQUU7SUFBQ1IsSUFBSSxFQUFFSyxNQUFNO0lBQUVFLFNBQVMsRUFBQyxHQUFHO0lBQUdKLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDNURNLEtBQUssRUFBQztJQUFDVCxJQUFJLEVBQUNVLE1BQU07SUFBRUgsU0FBUyxFQUFDLEdBQUc7SUFBR0osUUFBUSxFQUFDO0VBQU0sQ0FBQztFQUNwRFEsV0FBVyxFQUFDO0lBQUNYLElBQUksRUFBRVUsTUFBTTtJQUFFM0IsT0FBTyxFQUFDO0VBQUMsQ0FBQztFQUNyQzZCLGNBQWMsRUFBQztJQUFDWixJQUFJLEVBQUNLLE1BQU07SUFBQ0UsU0FBUyxFQUFDLEVBQUU7SUFBQ3hCLE9BQU8sRUFBQztFQUFLO0FBQzFELENBQUMsRUFBRTtFQUNDOEIsVUFBVSxFQUFHO0FBQ2pCLENBQUMsQ0FBQztBQUNGLE1BQU1DLElBQUksR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sRUFBRW5CLFVBQVUsQ0FBQztBQUFDLElBQUFvQixRQUFBLEdBQUFDLE9BQUEsQ0FBQW5DLE9BQUEsR0FDakMrQixJQUFJIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","method_payment","maxlength","n_transation","total","Number","price_dolar","currency_total","timestamps","Sale","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Sale.js"],"sourcesContent":["import mongoose, { Schema } from 'mongoose';\r\nconst SaleSchema = new Schema({\r\n    user: { type: Schema.ObjectId, ref: 'user', required: true },\r\n    currency_payment:{type: String, default:'USD' },\r\n    method_payment:{ type:String, maxlength:50, required:true },\r\n    n_transation: {type: String, maxlength:200 , required:true },\r\n    total:{type:Number, maxlength:200 , required:true  },\r\n    price_dolar:{type: Number, default:0},\r\n    currency_total:{type:String,maxlength:50,default:'USD'},\r\n}, {\r\n    timestamps : true\r\n});\r\nconst Sale = mongoose.model(\"sale\", SaleSchema);\r\nexport default Sale;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAC5C,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAE;IAAEC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC5DC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEtB,OAAO,EAAC;EAAM,CAAC;EAC/CuB,cAAc,EAAC;IAAEN,IAAI,EAACK,MAAM;IAAEE,SAAS,EAAC,EAAE;IAAEJ,QAAQ,EAAC;EAAK,CAAC;EAC3DK,YAAY,EAAE;IAACR,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAC,GAAG;IAAGJ,QAAQ,EAAC;EAAK,CAAC;EAC5DM,KAAK,EAAC;IAACT,IAAI,EAACU,MAAM;IAAEH,SAAS,EAAC,GAAG;IAAGJ,QAAQ,EAAC;EAAM,CAAC;EACpDQ,WAAW,EAAC;IAACX,IAAI,EAAEU,MAAM;IAAE3B,OAAO,EAAC;EAAC,CAAC;EACrC6B,cAAc,EAAC;IAACZ,IAAI,EAACK,MAAM;IAACE,SAAS,EAAC,EAAE;IAACxB,OAAO,EAAC;EAAK;AAC1D,CAAC,EAAE;EACC8B,UAAU,EAAG;AACjB,CAAC,CAAC;AACF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GACjC+B,IAAI","ignoreList":[]}},"mtime":1751072492559},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SalesAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    require: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  nota: {\n    type: String,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst SalesAddress = _mongoose.default.model(\"sales_address\", SalesAddressSchema);\nvar _default = exports.default = SalesAddress;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlc0FkZHJlc3NTY2hlbWEiLCJTY2hlbWEiLCJzYWxlIiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwibmFtZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInN1cm5hbWUiLCJwYWlzIiwiYWRkcmVzcyIsInJlZmVyZW5jaWEiLCJjaXVkYWQiLCJyZWdpb24iLCJ0ZWxlZm9ubyIsImVtYWlsIiwibm90YSIsInRpbWVzdGFtcHMiLCJTYWxlc0FkZHJlc3MiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZUFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlICwge1NjaGVtYX0gZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCBTYWxlc0FkZHJlc3NTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHNhbGU6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQsIHJlZjonc2FsZScgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgbmFtZToge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICBzdXJuYW1lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIHBhaXM6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgYWRkcmVzczoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICByZWZlcmVuY2lhOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOmZhbHNlIH0sXHJcbiAgICBjaXVkYWQ6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAgLHJlcXVpcmU6dHJ1ZSB9LFxyXG4gICAgcmVnaW9uOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIHRlbGVmb25vOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIGVtYWlsOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwICxyZXF1aXJlOnRydWUgfSxcclxuICAgIG5vdGE6IHt0eXBlOiBTdHJpbmcscmVxdWlyZTpmYWxzZSB9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59XHJcbik7XHJcblxyXG5jb25zdCBTYWxlc0FkZHJlc3MgPSBtb25nb29zZS5tb2RlbChcInNhbGVzX2FkZHJlc3NcIixTYWxlc0FkZHJlc3NTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBTYWxlc0FkZHJlc3M7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SalesAddressSchema","Schema","sale","type","ObjectId","ref","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","SalesAddress","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["SaleAddress.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst SalesAddressSchema = new Schema({\r\n    sale: {type: Schema.ObjectId, ref:'sale' ,require:true },\r\n    name: {type: String, maxlength:250 ,require:true },\r\n    surname: {type: String, maxlength:250 ,require:true },\r\n    pais: {type: String, maxlength:250 ,require:true },\r\n    address: {type: String, maxlength:250 ,require:true },\r\n    referencia: {type: String, maxlength:250 ,require:false },\r\n    ciudad: {type: String, maxlength:250 ,require:true },\r\n    region: {type: String, maxlength:250 ,require:true },\r\n    telefono: {type: String, maxlength:250 ,require:true },\r\n    email: {type: String, maxlength:250 ,require:true },\r\n    nota: {type: String,require:false },\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst SalesAddress = mongoose.model(\"sales_address\",SalesAddressSchema);\r\nexport default SalesAddress;\r\n\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1751072492560},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y dos  es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = exports.default = SaleDetail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlRGV0YWlsU2NoZW1hIiwiU2NoZW1hIiwic2FsZSIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInRpbWVzdGFtcHMiLCJTYWxlRGV0YWlsIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNhbGVEZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSB9IGZyb20gJ21vbmdvb3NlJztcclxuY29uc3QgU2FsZURldGFpbFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgc2FsZTp7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6J3NhbGUnLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBwcm9kdWN0OiB7dHlwZSA6IFNjaGVtYS5PYmplY3RJZCwgcmVmOidwcm9kdWN0JywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgdHlwZV9kaXNjb3VudDp7dHlwZTogIE51bWJlciwgcmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDoxfSwvLzEgZXMgcG9yIHBvcmNlbnRhamUgeSBkb3MgIGVzIHBvciBtb25lZGFcclxuICAgIGRpc2NvdW50Ont0eXBlOk51bWJlcixkZWZhdWx0OjB9LFxyXG4gICAgY2FudGlkYWQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdmFyaWVkYWQ6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjondmFyaWVkYWQnLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIGNvZGVfY3Vwb246e3R5cGU6U3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjb2RlX2Rpc2NvdW50Ont0eXBlOlN0cmluZywgcmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgcHJpY2VfdW5pdGFyaW86e3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHN1YnRvdGFsOnt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0b3RhbDp7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzIDogdHJ1ZVxyXG59KTtcclxuY29uc3QgU2FsZURldGFpbCA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZV9kZXRhaWxcIiwgU2FsZURldGFpbFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFNhbGVEZXRhaWw7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEs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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","SaleDetail","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["SaleDetail.js"],"sourcesContent":["import mongoose, { Schema } from 'mongoose';\r\nconst SaleDetailSchema = new Schema({\r\n    sale:{type: Schema.ObjectId, ref:'sale', required: true},\r\n    product: {type : Schema.ObjectId, ref:'product', required: true},\r\n    type_discount:{type:  Number, required:false,default:1},//1 es por porcentaje y dos  es por moneda\r\n    discount:{type:Number,default:0},\r\n    cantidad:{type:Number,required:true},\r\n    variedad:{type:Schema.ObjectId,ref:'variedad',required:false},\r\n    code_cupon:{type:String, required:false},\r\n    code_discount:{type:String, required:false},\r\n    price_unitario:{type:Number, required:true},\r\n    subtotal:{type:Number, required:true},\r\n    total:{type:Number, required:true},\r\n}, {\r\n    timestamps : true\r\n});\r\nconst SaleDetail = mongoose.model(\"sale_detail\", SaleDetailSchema);\r\nexport default SaleDetail;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAC5C,MAAMW,gBAAgB,GAAG,IAAIC,gBAAM,CAAC;EAChCC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACxDC,OAAO,EAAE;IAACJ,IAAI,EAAGF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAE;EAAI,CAAC;EAChEE,aAAa,EAAC;IAACL,IAAI,EAAGM,MAAM;IAAEH,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACxDwB,QAAQ,EAAC;IAACP,IAAI,EAACM,MAAM;IAACvB,OAAO,EAAC;EAAC,CAAC;EAChCyB,QAAQ,EAAC;IAACR,IAAI,EAACM,MAAM;IAACH,QAAQ,EAAC;EAAI,CAAC;EACpCM,QAAQ,EAAC;IAACT,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,UAAU;IAACC,QAAQ,EAAC;EAAK,CAAC;EAC7DO,UAAU,EAAC;IAACV,IAAI,EAACW,MAAM;IAAER,QAAQ,EAAC;EAAK,CAAC;EACxCS,aAAa,EAAC;IAACZ,IAAI,EAACW,MAAM;IAAER,QAAQ,EAAC;EAAK,CAAC;EAC3CU,cAAc,EAAC;IAACb,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI,CAAC;EAC3CW,QAAQ,EAAC;IAACd,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI,CAAC;EACrCY,KAAK,EAAC;IAACf,IAAI,EAACM,MAAM;IAAEH,QAAQ,EAAC;EAAI;AACrC,CAAC,EAAE;EACCa,UAAU,EAAG;AACjB,CAAC,CAAC;AACF,MAAMC,UAAU,GAAGC,iBAAQ,CAACC,KAAK,CAAC,aAAa,EAAEtB,gBAAgB,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GACpDkC,UAAU","ignoreList":[]}},"mtime":1751072492560},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/user/\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _AddressClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9BZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJhZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBhZGRyZXNzQ2xpZW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9BZGRyZXNzQ2xpZW50Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2VyL1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUVjb21tZXJjZSwgYWRkcmVzc0NsaWVudENvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBhdXRoLnZlcmlmeUVjb21tZXJjZSwgYWRkcmVzc0NsaWVudENvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsYWRkcmVzc0NsaWVudENvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLzppZFwiLCBhdXRoLnZlcmlmeUVjb21tZXJjZSwgYWRkcmVzc0NsaWVudENvbnRyb2xsZXIuZGVsZXRlKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyx3QkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyxnQ0FBdUIsQ0FBQ0MsUUFBUSxDQUFDO0FBQy9FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUVKLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyxnQ0FBdUIsQ0FBQ0csTUFBTSxDQUFDO0FBQzNFUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyxnQ0FBdUIsQ0FBQ0ssSUFBSSxDQUFDO0FBQ3JFVixNQUFNLENBQUNXLE1BQU0sQ0FBQyxhQUFhLEVBQUVSLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyxnQ0FBdUIsQ0FBQ00sTUFBTSxDQUFDO0FBQUEsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFkLE9BQUEsR0FFbkVDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_AddressClientController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","addressClientController","register","put","update","get","list","delete","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["AddressClient.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport addressClientController from '../controllers/AddressClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\n//http://localhost:3000/api/user/\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce, addressClientController.register);\r\nrouter.put(\"/update\", auth.verifyEcommerce, addressClientController.update);\r\nrouter.get(\"/list\",auth.verifyEcommerce,addressClientController.list);\r\nrouter.delete(\"/delete/:id\", auth.verifyEcommerce, addressClientController.delete)\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,wBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAAEC,gCAAuB,CAACC,QAAQ,CAAC;AAC/EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAEJ,aAAI,CAACC,eAAe,EAAEC,gCAAuB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAAER,aAAI,CAACC,eAAe,EAAEC,gCAAuB,CAACM,MAAM,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAd,OAAA,GAEnEC,MAAM","ignoreList":[]}},"mtime":1751072492562},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let addressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE EDITÓ CORRECTAMENTE\",\n        address_client: addressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRES_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRES_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params.id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINÓ CORRECTAMENTE \"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYWRkcmVzc19jbGllbnQiLCJtb2RlbHMiLCJBZGRyZXNzQ2xpZW50IiwiY3JlYXRlIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsImRhdGEiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsImFkZHJlc3NDbGllbnQiLCJmaW5kQnlJZCIsImxpc3QiLCJBRERSRVNfQ0xJRU5UIiwiZmluZCIsInVzZXIiLCJxdWVyeSIsInVzZXJfaWQiLCJzb3J0IiwiZGVsZXRlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJwYXJhbXMiLCJpZCJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQWRkcmVzc0NsaWVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgYWRkcmVzc19jbGllbnQgPSBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5jcmVhdGUocmVxLmJvZHkpXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzc19jbGllbnQ6IGFkZHJlc3NfY2xpZW50LFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiByZXEuYm9keS5faWQgfSxkYXRhKTtcclxuICAgICAgICAgICAgbGV0IGFkZHJlc3NDbGllbnQgPWF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkKHsgX2lkOiByZXEuYm9keS5faWQgfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBFRElUw5MgQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBhZGRyZXNzQ2xpZW50LFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgQUREUkVTX0NMSUVOVCA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxLnF1ZXJ5LnVzZXJfaWRcclxuICAgICAgICAgICAgfSkuc29ydCh7ICdjcmVhdGVkQXQnOiAtMSB9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBhZGRyZXNzX2NsaWVudDogQUREUkVTX0NMSUVOVCB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBkZWxldGU6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kRGVsZXRlKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBFTElNSU7DkyBDT1JSRUNUQU1FTlRFIFwiIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","addressClient","findById","list","ADDRES_CLIENT","find","user","query","user_id","sort","delete","findByIdAndDelete","params","id"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            const address_client = await models.AddressClient.create(req.body)\r\n            res.status(200).json(\r\n                {\r\n                    message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\r\n                    address_client: address_client,\r\n                })\r\n        } catch (error) {\r\n            console.log(error)\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n            let data = req.body;\r\n            await models.AddressClient.findByIdAndUpdate({ _id: req.body._id },data);\r\n            let addressClient =await models.AddressClient.findById({ _id: req.body._id });\r\n            res.status(200).json(\r\n                {\r\n                    message: \"LA DIRECCIÓN DEL CLIENTE SE EDITÓ CORRECTAMENTE\",\r\n                    address_client: addressClient,\r\n                })\r\n        } catch (error) {\r\n            console.log(error)\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n            let ADDRES_CLIENT = await models.AddressClient.find({\r\n                user: req.query.user_id\r\n            }).sort({ 'createdAt': -1 });\r\n            res.status(200).json({ address_client: ADDRES_CLIENT });\r\n        } catch (error) {\r\n            console.log(error)\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n\r\n    delete: async (req, res) => {\r\n        try {\r\n            await models.AddressClient.findByIdAndDelete({ _id: req.params.id });\r\n            res.status(200).json({ message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINÓ CORRECTAMENTE \" })\r\n        } catch (error) {\r\n            console.log(error)\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1751072492555},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n//http://localhost:3000/api/user/\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _SaleController.default.register);\n//router.get(\"/send_email/:id\", SaleController.send_email);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TYWxlQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJTYWxlQ29udHJvbGxlciIsInJlZ2lzdGVyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgIHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IFNhbGVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1NhbGVDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlci9cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUVjb21tZXJjZSwgU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG4vL3JvdXRlci5nZXQoXCIvc2VuZF9lbWFpbC86aWRcIiwgU2FsZUNvbnRyb2xsZXIuc2VuZF9lbWFpbCk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBRUMsdUJBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBQ3RFO0FBQUEsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFULE9BQUEsR0FDZUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SaleController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","SaleController","register","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Sale.js"],"sourcesContent":["import  routerx from 'express-promise-router'\r\nimport SaleController from '../controllers/SaleController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n//http://localhost:3000/api/user/\r\nrouter.post(\"/register\",auth.verifyEcommerce, SaleController.register);\r\n//router.get(\"/send_email/:id\", SaleController.send_email);\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACtE;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAT,OAAA,GACeC,MAAM","ignoreList":[]}},"mtime":1751126535046},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'kevincaizaguano7@gmail.com',\n        pass: 'iikgnmohfafckkun'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'kevincaizaguano7@gmail.com',\n        to: Order.user.email,\n        subject: 'Finaliza tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        }\n      });\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n;\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n        //DECUENTO DEL INVENTARIO \n        if (CART.variedad) {\n          //MULTIPLE INVENTARIO\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //UNITARIO INVENTARIO\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      //ENVIO DE  NOTIFICACION EMAIL\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: 'LA ORDEN  SE GENERO CORRECTAMENTE'\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {} catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnMiLCJfaGFuZGxlYmFycyIsIl9lanMiLCJfbm9kZW1haWxlciIsIl9ub2RlbWFpbGVyU210cFRyYW5zcG9ydCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic2VuZF9lbWFpbCIsInNhbGVfaWQiLCJyZWFkSFRNTEZpbGUiLCJwYXRoIiwiY2FsbGJhY2siLCJmcyIsInJlYWRGaWxlIiwiZW5jb2RpbmciLCJlcnIiLCJodG1sIiwiT3JkZXIiLCJtb2RlbHMiLCJTYWxlIiwiZmluZEJ5SWQiLCJfaWQiLCJwb3B1bGF0ZSIsIk9yZGVyRGV0YWlsIiwiU2FsZURldGFpbCIsImZpbmQiLCJzYWxlIiwiQWRkcmVzc1NhbGUiLCJTYWxlQWRkcmVzcyIsImZpbmRPbmUiLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzbXRwVHJhbnNwb3J0Iiwic2VydmljZSIsImhvc3QiLCJhdXRoIiwidXNlciIsInBhc3MiLCJwcm9jZXNzIiwiY3dkIiwicmVzdF9odG1sIiwiZWpzIiwicmVuZGVyIiwib3JkZXIiLCJhZGRyZXNzX3NhbGUiLCJvcmRlcl9kZXRhaWwiLCJ0ZW1wbGF0ZSIsImhhbmRsZWJhcnMiLCJjb21waWxlIiwiaHRtbFRvU2VuZCIsIm9wIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwic2FsZV9kYXRhIiwiYm9keSIsInNhbGVfYWRkcmVzc19kYXRhIiwic2FsZV9hZGRyZXNzIiwiU0FMRSIsImNyZWF0ZSIsIlNBTEVfQUREUkVTUyIsIkNBUlRTIiwiQ2FydCIsIkNBUlQiLCJ0b09iamVjdCIsInZhcmllZGFkIiwiVkFSSUVEQUQiLCJWYXJpZWRhZCIsIm5ld19zdG9jayIsInN0b2NrIiwiY2FudGlkYWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlBST0RVQ1QiLCJQcm9kdWN0IiwicHJvZHVjdCIsImZpbmRCeUlkQW5kRGVsZXRlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJzZW5kIiwibGlzdCJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiU2FsZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgaGFuZGxlYmFycyBmcm9tICdoYW5kbGViYXJzJztcclxuaW1wb3J0IGVqcyBmcm9tICdlanMnO1xyXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcclxuaW1wb3J0IHNtdHBUcmFuc3BvcnQgZnJvbSAnbm9kZW1haWxlci1zbXRwLXRyYW5zcG9ydCc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIHJlYWRIVE1MRmlsZSA9IGZ1bmN0aW9uIChwYXRoLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBmcy5yZWFkRmlsZShwYXRoLCB7IGVuY29kaW5nOiAndXRmLTgnIH0sIGZ1bmN0aW9uIChlcnIsIGh0bWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGh0bWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgT3JkZXIgPSBhd2FpdCBtb2RlbHMuU2FsZS5maW5kQnlJZCh7IF9pZDogc2FsZV9pZCB9KS5wb3B1bGF0ZShcInVzZXJcIik7XHJcbiAgICAgICAgbGV0IE9yZGVyRGV0YWlsID0gYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuZmluZCh7IHNhbGU6IE9yZGVyLl9pZCB9KS5wb3B1bGF0ZShcInByb2R1Y3RcIikucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKTtcclxuICAgICAgICBsZXQgQWRkcmVzc1NhbGUgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZE9uZSh7IHNhbGU6IE9yZGVyLl9pZCB9KTtcclxuXHJcbiAgICAgICAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoc210cFRyYW5zcG9ydCh7XHJcbiAgICAgICAgICAgIHNlcnZpY2U6ICdnbWFpbCcsXHJcbiAgICAgICAgICAgIGhvc3Q6ICdzbXRwLmdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgIGF1dGg6IHtcclxuICAgICAgICAgICAgICAgIHVzZXI6ICdrZXZpbmNhaXphZ3Vhbm83QGdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgICAgICBwYXNzOiAnaWlrZ25tb2hmYWZja2t1bidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgcmVhZEhUTUxGaWxlKHByb2Nlc3MuY3dkKCkgKyAnL21haWxzL2VtYWlsX3NhbGUuaHRtbCcsIChlcnIsIGh0bWwpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlc3RfaHRtbCA9IGVqcy5yZW5kZXIoaHRtbCwgeyBvcmRlcjogT3JkZXIsIGFkZHJlc3Nfc2FsZTogQWRkcmVzc1NhbGUsIG9yZGVyX2RldGFpbDogT3JkZXJEZXRhaWwgfSk7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGhhbmRsZWJhcnMuY29tcGlsZShyZXN0X2h0bWwpO1xyXG4gICAgICAgICAgICB2YXIgaHRtbFRvU2VuZCA9IHRlbXBsYXRlKHsgb3A6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHZhciBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGZyb206ICdrZXZpbmNhaXphZ3Vhbm83QGdtYWlsLmNvbScsXHJcbiAgICAgICAgICAgICAgICB0bzogT3JkZXIudXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgIHN1YmplY3Q6ICdGaW5hbGl6YSB0dSBjb21wcmEgJyArIE9yZGVyLl9pZCxcclxuICAgICAgICAgICAgICAgIGh0bWw6IGh0bWxUb1NlbmRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMsIGZ1bmN0aW9uIChlcnJvciwgaW5mbykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50OiAnICsgaW5mby5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgc2FsZV9kYXRhID0gcmVxLmJvZHkuc2FsZTtcclxuICAgICAgICAgICAgbGV0IHNhbGVfYWRkcmVzc19kYXRhID0gcmVxLmJvZHkuc2FsZV9hZGRyZXNzO1xyXG4gICAgICAgICAgICBsZXQgU0FMRSA9IGF3YWl0IG1vZGVscy5TYWxlLmNyZWF0ZShzYWxlX2RhdGEpO1xyXG4gICAgICAgICAgICBzYWxlX2FkZHJlc3NfZGF0YS5zYWxlID0gU0FMRS5faWQ7XHJcbiAgICAgICAgICAgIGxldCBTQUxFX0FERFJFU1MgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuY3JlYXRlKHNhbGVfYWRkcmVzc19kYXRhKTtcclxuICAgICAgICAgICAgbGV0IENBUlRTID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZCh7IHVzZXI6IFNBTEUudXNlciB9KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgQ0FSVCBvZiBDQVJUUykge1xyXG4gICAgICAgICAgICAgICAgQ0FSVCA9IENBUlQudG9PYmplY3QoKTtcclxuICAgICAgICAgICAgICAgIENBUlQuc2FsZSA9IFNBTEUuX2lkO1xyXG4gICAgICAgICAgICAgICAgLy9ERUNVRU5UTyBERUwgSU5WRU5UQVJJTyBcclxuICAgICAgICAgICAgICAgIGlmIChDQVJULnZhcmllZGFkKSB7Ly9NVUxUSVBMRSBJTlZFTlRBUklPXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IFZBUklFREFEID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHsgX2lkOiBDQVJULnZhcmllZGFkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBWQVJJRURBRC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiBDQVJULnZhcmllZGFkIH0sIHsgc3RvY2s6IG5ld19zdG9jaywgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Ugey8vVU5JVEFSSU8gSU5WRU5UQVJJT1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBQUk9EVUNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoeyBfaWQ6IENBUlQucHJvZHVjdCB9KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3X3N0b2NrID0gUFJPRFVDVC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoeyBfaWQ6IENBUlQucHJvZHVjdCB9LCB7IHN0b2NrOiBuZXdfc3RvY2ssIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuY3JlYXRlKENBUlQpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmREZWxldGUoeyBfaWQ6IENBUlQuX2lkIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vRU5WSU8gREUgIE5PVElGSUNBQ0lPTiBFTUFJTFxyXG4gICAgICAgICAgICBhd2FpdCBzZW5kX2VtYWlsKFNBTEUuX2lkKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdMQSBPUkRFTiAgU0UgR0VORVJPIENPUlJFQ1RBTUVOVEUnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG59XHJc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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_fs","_handlebars","_ejs","_nodemailer","_nodemailerSmtpTransport","obj","__esModule","default","send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","_default","exports","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","product","findByIdAndDelete","status","json","message","send","list"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["SaleController.js"],"sourcesContent":["import models from '../models';\r\nimport fs from 'fs';\r\nimport handlebars from 'handlebars';\r\nimport ejs from 'ejs';\r\nimport nodemailer from 'nodemailer';\r\nimport smtpTransport from 'nodemailer-smtp-transport';\r\n\r\nasync function send_email(sale_id) {\r\n    try {\r\n        var readHTMLFile = function (path, callback) {\r\n            fs.readFile(path, { encoding: 'utf-8' }, function (err, html) {\r\n                if (err) {\r\n                    throw err;\r\n                    callback(err);\r\n                }\r\n                else {\r\n                    callback(null, html);\r\n                }\r\n            });\r\n        };\r\n\r\n        let Order = await models.Sale.findById({ _id: sale_id }).populate(\"user\");\r\n        let OrderDetail = await models.SaleDetail.find({ sale: Order._id }).populate(\"product\").populate(\"variedad\");\r\n        let AddressSale = await models.SaleAddress.findOne({ sale: Order._id });\r\n\r\n        var transporter = nodemailer.createTransport(smtpTransport({\r\n            service: 'gmail',\r\n            host: 'smtp.gmail.com',\r\n            auth: {\r\n                user: 'kevincaizaguano7@gmail.com',\r\n                pass: 'iikgnmohfafckkun'\r\n            }\r\n        }));\r\n\r\n        readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\r\n            let rest_html = ejs.render(html, { order: Order, address_sale: AddressSale, order_detail: OrderDetail });\r\n            var template = handlebars.compile(rest_html);\r\n            var htmlToSend = template({ op: true });\r\n            var mailOptions = {\r\n                from: 'kevincaizaguano7@gmail.com',\r\n                to: Order.user.email,\r\n                subject: 'Finaliza tu compra ' + Order._id,\r\n                html: htmlToSend\r\n            };\r\n            transporter.sendMail(mailOptions, function (error, info) {\r\n                if (!error) {\r\n                    console.log('Email sent: ' + info.response);\r\n                }\r\n            });\r\n        });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            let sale_data = req.body.sale;\r\n            let sale_address_data = req.body.sale_address;\r\n            let SALE = await models.Sale.create(sale_data);\r\n            sale_address_data.sale = SALE._id;\r\n            let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\r\n            let CARTS = await models.Cart.find({ user: SALE.user });\r\n            for (let CART of CARTS) {\r\n                CART = CART.toObject();\r\n                CART.sale = SALE._id;\r\n                //DECUENTO DEL INVENTARIO \r\n                if (CART.variedad) {//MULTIPLE INVENTARIO\r\n                    let VARIEDAD = await models.Variedad.findById({ _id: CART.variedad });\r\n                    let new_stock = VARIEDAD.stock - CART.cantidad;\r\n                    await models.Variedad.findByIdAndUpdate({ _id: CART.variedad }, { stock: new_stock, });\r\n                } else {//UNITARIO INVENTARIO\r\n                    let PRODUCT = await models.Product.findById({ _id: CART.product });\r\n                    let new_stock = PRODUCT.stock - CART.cantidad;\r\n                    await models.Product.findByIdAndUpdate({ _id: CART.product }, { stock: new_stock, });\r\n                }\r\n                await models.SaleDetail.create(CART);\r\n                await models.Cart.findByIdAndDelete({ _id: CART._id });\r\n            }\r\n            //ENVIO DE  NOTIFICACION EMAIL\r\n            await send_email(SALE._id);\r\n\r\n            res.status(200).json({\r\n                message: 'LA ORDEN  SE GENERO CORRECTAMENTE'\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n\r\n    list: async (req, res) => {\r\n        try {\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({ message: \"OCURRIÓ UN PROBLEMA\" });\r\n        }\r\n    },\r\n\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1751129120480},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    require: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    require: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    require: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    require: true\n  },\n  description: {\n    type: String,\n    require: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = exports.default = Review;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJSZXZpZXdTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwic2FsZV9kZXRhaWwiLCJ1c2VyIiwiY2FudGlkYWQiLCJOdW1iZXIiLCJtYXhsZW5ndGgiLCJkZXNjcmlwdGlvbiIsIlN0cmluZyIsInRpbWVzdGFtcHMiLCJSZXZpZXciLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiUmV2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSAsIHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgUmV2aWV3U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcblxyXG4gICAgcHJvZHVjdDoge3R5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOidwcm9kdWN0JyxyZXF1aXJlOnRydWUgfSxcclxuICAgIHNhbGVfZGV0YWlsOnsgdHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6J3NhbGVfZGV0YWlsJyAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICB1c2VyOnsgdHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6J3VzZXInICxyZXF1aXJlOnRydWUgfSxcclxuICAgIGNhbnRpZGFkOiB7IHR5cGU6IE51bWJlciAsIG1heGxlbmd0aDoyICwgcmVxdWlyZTp0cnVlfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZyAgLCByZXF1aXJlOnRydWV9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59XHJcbik7XHJcblxyXG5jb25zdCBSZXZpZXcgPSBtb25nb29zZS5tb2RlbChcInJldmlld1wiLFJldmlld1NjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFJldmlldztcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUU1QkMsT0FBTyxFQUFFO0lBQUNDLElBQUksRUFBRUYsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFFQyxHQUFHLEVBQUMsU0FBUztJQUFDMUIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUM3RDJCLFdBQVcsRUFBQztJQUFFSCxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFDLGFBQWE7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDdEU0QixJQUFJLEVBQUM7SUFBRUosSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBQyxNQUFNO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ3hENkIsUUFBUSxFQUFFO0lBQUVMLElBQUksRUFBRU0sTUFBTTtJQUFHQyxTQUFTLEVBQUMsQ0FBQztJQUFHL0IsT0FBTyxFQUFDO0VBQUksQ0FBQztFQUN0RGdDLFdBQVcsRUFBRTtJQUFFUixJQUFJLEVBQUVTLE1BQU07SUFBSWpDLE9BQU8sRUFBQztFQUFJO0FBQy9DLENBQUMsRUFBQztFQUNFa0MsVUFBVSxFQUFDO0FBQ2YsQ0FDQSxDQUFDO0FBRUQsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsUUFBUSxFQUFDaEIsWUFBWSxDQUFDO0FBQUMsSUFBQWlCLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEMsT0FBQSxHQUN0QzRCLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ReviewSchema","Schema","product","type","ObjectId","ref","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Review.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst ReviewSchema = new Schema({\r\n\r\n    product: {type: Schema.ObjectId, ref:'product',require:true },\r\n    sale_detail:{ type: Schema.ObjectId, ref:'sale_detail' ,require:true },\r\n    user:{ type: Schema.ObjectId, ref:'user' ,require:true },\r\n    cantidad: { type: Number , maxlength:2 , require:true},\r\n    description: { type: String  , require:true},\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst Review = mongoose.model(\"review\",ReviewSchema);\r\nexport default Review;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAE5BC,OAAO,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAC1B,OAAO,EAAC;EAAK,CAAC;EAC7D2B,WAAW,EAAC;IAAEH,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,aAAa;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACtE4B,IAAI,EAAC;IAAEJ,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,MAAM;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACxD6B,QAAQ,EAAE;IAAEL,IAAI,EAAEM,MAAM;IAAGC,SAAS,EAAC,CAAC;IAAG/B,OAAO,EAAC;EAAI,CAAC;EACtDgC,WAAW,EAAE;IAAER,IAAI,EAAES,MAAM;IAAIjC,OAAO,EAAC;EAAI;AAC/C,CAAC,EAAC;EACEkC,UAAU,EAAC;AACf,CACA,CAAC;AAED,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAAChB,YAAY,CAAC;AAAC,IAAAiB,QAAA,GAAAC,OAAA,CAAAhC,OAAA,GACtC4B,MAAM","ignoreList":[]}},"mtime":1751765561258},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\router\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ReviewClientController = _interopRequireDefault(require(\"../controllers/ReviewClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _ReviewClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _ReviewClientController.default.update);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9SZXZpZXdDbGllbnRDb250cm9sbGVyIiwiX2F1dGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsInJldmlld0NsaWVudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXGtldmluXFxDdXJzb3NcXGUtY29tbWVyc2VcXGFwaS1jb21tZXJzZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIlJldmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXHJcbmltcG9ydCByZXZpZXdDbGllbnRDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9SZXZpZXdDbGllbnRDb250cm9sbGVyXCJcclxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIGF1dGgudmVyaWZ5RWNvbW1lcmNlLCByZXZpZXdDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTsgXHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIGF1dGgudmVyaWZ5RWNvbW1lcmNlLCByZXZpZXdDbGllbnRDb250cm9sbGVyLnVwZGF0ZSk7IFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyx1QkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3RDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRUMsYUFBSSxDQUFDQyxlQUFlLEVBQUVDLCtCQUFzQixDQUFDQyxRQUFRLENBQUM7QUFDL0VOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRUosYUFBSSxDQUFDQyxlQUFlLEVBQUVDLCtCQUFzQixDQUFDRyxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVgsT0FBQSxHQUU1REMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ReviewClientController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","reviewClientController","register","put","update","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\router\\","sources":["Review.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport reviewClientController from \"../controllers/ReviewClientController\"\r\nimport auth from \"../middlewares/auth\"\r\n\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\", auth.verifyEcommerce, reviewClientController.register); \r\nrouter.put(\"/update\", auth.verifyEcommerce, reviewClientController.update); \r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,uBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,aAAI,CAACC,eAAe,EAAEC,+BAAsB,CAACC,QAAQ,CAAC;AAC/EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAEJ,aAAI,CAACC,eAAe,EAAEC,+BAAsB,CAACG,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAX,OAAA,GAE5DC,MAAM","ignoreList":[]}},"mtime":1751765561288},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\controllers\\\\ReviewClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let review = await _models.default.Review.create(req.body);\n      res.status(200).json({\n        message: \"LA RESEÑA  HA SIDO REGISTRADA CORRECTAMENTE\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      await _models.default.Review.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let reviewD = await _models.default.Review.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA RESEÑA SE HA MODIFICADO CORRECTAMENTE\",\n        review: reviewD\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: 'OCURRIO UN PROBLEMA'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwicmV2aWV3IiwibW9kZWxzIiwiUmV2aWV3IiwiY3JlYXRlIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwicmV2aWV3RCIsImZpbmRCeUlkIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJSZXZpZXdDbGllbnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgcmV2aWV3ID0gYXdhaXQgbW9kZWxzLlJldmlldy5jcmVhdGUocmVxLmJvZHkpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiTEEgUkVTRcORQSAgSEEgU0lETyBSRUdJU1RSQURBIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIHJldmlldzpyZXZpZXcsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnT0NVUlJJTyBVTiBQUk9CTEVNQScgfSlcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlJldmlldy5maW5kQnlJZEFuZFVwZGF0ZSh7IF9pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcbiAgICAgICAgICAgIGxldCByZXZpZXdEID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kQnlJZCh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiTEEgUkVTRcORQSBTRSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIHJldmlldzpyZXZpZXdELFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdPQ1VSUklPIFVOIFBST0JMRU1BJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUErQixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWhCO0VBQ1hHLFFBQVEsRUFBRSxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0EsSUFBSUMsTUFBTSxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDQyxNQUFNLENBQUNMLEdBQUcsQ0FBQ00sSUFBSSxDQUFDO01BQ2pETCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUMsNkNBQTZDO1FBQ3JEUCxNQUFNLEVBQUNBO01BQ1gsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9RLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCVCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ00sSUFBSSxDQUFDO1FBQUVKLE9BQU8sRUFBRTtNQUFzQixDQUFDLENBQUM7SUFDNUQ7RUFDSixDQUFDO0VBRURLLE1BQU0sRUFBRSxNQUFBQSxDQUFPZCxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0EsTUFBTUUsZUFBTSxDQUFDQyxNQUFNLENBQUNXLGlCQUFpQixDQUFDO1FBQUVDLEdBQUcsRUFBRWhCLEdBQUcsQ0FBQ00sSUFBSSxDQUFDVTtNQUFHLENBQUMsRUFBQ2hCLEdBQUcsQ0FBQ00sSUFBSSxDQUFDO01BQ3BFLElBQUlXLE9BQU8sR0FBRyxNQUFNZCxlQUFNLENBQUNDLE1BQU0sQ0FBQ2MsUUFBUSxDQUFDO1FBQUNGLEdBQUcsRUFBQ2hCLEdBQUcsQ0FBQ00sSUFBSSxDQUFDVTtNQUFHLENBQUMsQ0FBQztNQUM5RGYsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFDLDBDQUEwQztRQUNsRFAsTUFBTSxFQUFDZTtNQUNYLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPUCxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQlQsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNNLElBQUksQ0FBQztRQUFFSixPQUFPLEVBQUU7TUFBc0IsQ0FBQyxDQUFDO0lBQzVEO0VBQ0o7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","review","models","Review","create","body","status","json","message","error","console","log","send","update","findByIdAndUpdate","_id","reviewD","findById"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\controllers\\","sources":["ReviewClientController.js"],"sourcesContent":["import models from '../models';\r\n\r\nexport default {\r\n    register: async (req, res) => {\r\n        try {\r\n            let review = await models.Review.create(req.body);\r\n            res.status(200).json({\r\n                message:\"LA RESEÑA  HA SIDO REGISTRADA CORRECTAMENTE\",\r\n                review:review,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n    },\r\n\r\n    update: async (req, res) => {\r\n        try {\r\n            await models.Review.findByIdAndUpdate({ _id: req.body._id},req.body);\r\n            let reviewD = await models.Review.findById({_id:req.body._id});\r\n            res.status(200).json({\r\n                message:\"LA RESEÑA SE HA MODIFICADO CORRECTAMENTE\",\r\n                review:reviewD,\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({ message: 'OCURRIO UN PROBLEMA' })\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,QAAQ,EAAE,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;IAC1B,IAAI;MACA,IAAIC,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACL,GAAG,CAACM,IAAI,CAAC;MACjDL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAC,6CAA6C;QACrDP,MAAM,EAACA;MACX,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QAAEJ,OAAO,EAAE;MAAsB,CAAC,CAAC;IAC5D;EACJ,CAAC;EAEDK,MAAM,EAAE,MAAAA,CAAOd,GAAG,EAAEC,GAAG,KAAK;IACxB,IAAI;MACA,MAAME,eAAM,CAACC,MAAM,CAACW,iBAAiB,CAAC;QAAEC,GAAG,EAAEhB,GAAG,CAACM,IAAI,CAACU;MAAG,CAAC,EAAChB,GAAG,CAACM,IAAI,CAAC;MACpE,IAAIW,OAAO,GAAG,MAAMd,eAAM,CAACC,MAAM,CAACc,QAAQ,CAAC;QAACF,GAAG,EAAChB,GAAG,CAACM,IAAI,CAACU;MAAG,CAAC,CAAC;MAC9Df,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAC,0CAA0C;QAClDP,MAAM,EAACe;MACX,CAAC,CAAC;IAEN,CAAC,CAAC,OAAOP,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QAAEJ,OAAO,EAAE;MAAsB,CAAC,CAAC;IAC5D;EACJ;AACJ,CAAC","ignoreList":[]}},"mtime":1751765561244},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"filename\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\\\\models\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\kevin\\\\Cursos\\\\e-commerse\\\\api-commerse\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    require: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    require: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    require: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    require: true\n  },\n  description: {\n    type: String,\n    require: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = exports.default = Review;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJSZXZpZXdTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwic2FsZV9kZXRhaWwiLCJ1c2VyIiwiY2FudGlkYWQiLCJOdW1iZXIiLCJtYXhsZW5ndGgiLCJkZXNjcmlwdGlvbiIsIlN0cmluZyIsInRpbWVzdGFtcHMiLCJSZXZpZXciLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxca2V2aW5cXEN1cnNvc1xcZS1jb21tZXJzZVxcYXBpLWNvbW1lcnNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiUmV2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSAsIHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgUmV2aWV3U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcblxyXG4gICAgcHJvZHVjdDoge3R5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOidwcm9kdWN0JyxyZXF1aXJlOnRydWUgfSxcclxuICAgIHNhbGVfZGV0YWlsOnsgdHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6J3NhbGVfZGV0YWlsJyAscmVxdWlyZTp0cnVlIH0sXHJcbiAgICB1c2VyOnsgdHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6J3VzZXInICxyZXF1aXJlOnRydWUgfSxcclxuICAgIGNhbnRpZGFkOiB7IHR5cGU6IE51bWJlciAsIG1heGxlbmd0aDoyICwgcmVxdWlyZTp0cnVlfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZyAgLCByZXF1aXJlOnRydWV9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59XHJcbik7XHJcblxyXG5jb25zdCBSZXZpZXcgPSBtb25nb29zZS5tb2RlbChcInJldmlld1wiLFJldmlld1NjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFJldmlldztcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUU1QkMsT0FBTyxFQUFFO0lBQUNDLElBQUksRUFBRUYsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFFQyxHQUFHLEVBQUMsU0FBUztJQUFDMUIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUM3RDJCLFdBQVcsRUFBQztJQUFFSCxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFDLGFBQWE7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDdEU0QixJQUFJLEVBQUM7SUFBRUosSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBQyxNQUFNO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ3hENkIsUUFBUSxFQUFFO0lBQUVMLElBQUksRUFBRU0sTUFBTTtJQUFHQyxTQUFTLEVBQUMsQ0FBQztJQUFHL0IsT0FBTyxFQUFDO0VBQUksQ0FBQztFQUN0RGdDLFdBQVcsRUFBRTtJQUFFUixJQUFJLEVBQUVTLE1BQU07SUFBSWpDLE9BQU8sRUFBQztFQUFJO0FBQy9DLENBQUMsRUFBQztFQUNFa0MsVUFBVSxFQUFDO0FBQ2YsQ0FDQSxDQUFDO0FBRUQsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsUUFBUSxFQUFDaEIsWUFBWSxDQUFDO0FBQUMsSUFBQWlCLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEMsT0FBQSxHQUN0QzRCLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ReviewSchema","Schema","product","type","ObjectId","ref","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model","_default","exports"],"sourceRoot":"D:\\kevin\\Cursos\\e-commerse\\api-commerse\\models\\","sources":["Review.js"],"sourcesContent":["import mongoose , {Schema} from 'mongoose'\r\n\r\nconst ReviewSchema = new Schema({\r\n\r\n    product: {type: Schema.ObjectId, ref:'product',require:true },\r\n    sale_detail:{ type: Schema.ObjectId, ref:'sale_detail' ,require:true },\r\n    user:{ type: Schema.ObjectId, ref:'user' ,require:true },\r\n    cantidad: { type: Number , maxlength:2 , require:true},\r\n    description: { type: String  , require:true},\r\n},{\r\n    timestamps:true\r\n}\r\n);\r\n\r\nconst Review = mongoose.model(\"review\",ReviewSchema);\r\nexport default Review;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAE5BC,OAAO,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAC1B,OAAO,EAAC;EAAK,CAAC;EAC7D2B,WAAW,EAAC;IAAEH,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,aAAa;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACtE4B,IAAI,EAAC;IAAEJ,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,MAAM;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACxD6B,QAAQ,EAAE;IAAEL,IAAI,EAAEM,MAAM;IAAGC,SAAS,EAAC,CAAC;IAAG/B,OAAO,EAAC;EAAI,CAAC;EACtDgC,WAAW,EAAE;IAAER,IAAI,EAAES,MAAM;IAAIjC,OAAO,EAAC;EAAI;AAC/C,CAAC,EAAC;EACEkC,UAAU,EAAC;AACf,CACA,CAAC;AAED,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAAChB,YAAY,CAAC;AAAC,IAAAiB,QAAA,GAAAC,OAAA,CAAAhC,OAAA,GACtC4B,MAAM","ignoreList":[]}},"mtime":1751765561258}}